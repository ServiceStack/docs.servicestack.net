<!doctype html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-7722718-13"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date()); gtag('config', 'UA-7722718-13');</script>
    
    <meta charset="utf-8"/>
    <meta name='date' content='2025-05-15T13:55:35.1960608Z'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/svg" href="/img/logo.svg">
    <title>ServiceStack v5.5</title>
    <script>
    if (location.search === "?dark") localStorage.setItem('color-scheme','dark') 
    if (location.search === "?light") localStorage.removeItem('color-scheme') 
    const cls = document.querySelector('html').classList
    if (localStorage.getItem('color-scheme') === 'dark')
        cls.add('dark')
    else
        cls.remove('dark')
    </script>
    <link rel="stylesheet" href="/css/app.css">
    
    <script type="importmap">
{
    "imports": {
        "app.mjs": "/mjs/app.mjs",
        "vue": "/lib/mjs/vue.mjs",
        "@servicestack/client": "/lib/mjs/servicestack-client.mjs",
        "@servicestack/vue": "/lib/mjs/servicestack-vue.mjs"
    }
}
</script>
</head>
<body class="bg-white dark:bg-black dark:text-white">

<header id="header" class="top-0 fixed z-50 h-14 bg-white dark:bg-black opacity-90 w-full shadow">
  <nav class="border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-black">
    <div class="mx-auto max-w-[100rem] pr-4 sm:pr-6 lg:pr-8">
      <div class="flex h-16 justify-between">
        <div class="flex">
          <div class="flex flex-shrink-0 items-center">
            <a class="mr-2 lg:mr-8 flex items-center" href="/">
                <svg class="w-8 h-8 sm:ml-2 sm:w-12 sm:h-12" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="M10 6c1.544 1.76 2.276 4.15 2.217 6.61c3.968 1.67 9.924 6.12 11.181 12.39H28C26.051 14.31 14.918 6.77 10 6zm-2 7c4.67 4.913.81 11.582-4 12h18.97C21.5 18.289 11.95 13.533 8 13z"/></svg>
                <span class="hidden sm:block text-2xl font-semibold">Documentation</span>
            </a>
          </div>
            <div class="hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-4 lg:space-x-8">
                <!-- Current: "border-indigo-500 text-gray-900", Default: "border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700" -->
                        <a href="/templates/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            <span class="hidden xl:inline mr-1">Project</span> Templates
                        </a>
                        <a href="/vue/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            Vue
                        </a>
                        <a href="/autoquery/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            AutoQuery
                        </a>
                        <a href="/auth/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            Auth
                        </a>
                        <a href="/ormlite/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            OrmLite
                        </a>
                        <a href="/redis/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            Redis
                        </a>
                        <a href="/locode/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200 hidden lg:inline-flex">
                            Locode
                        </a>
                        <a href="/grpc/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200 hidden lg:inline-flex">
                            gRPC
                        </a>
                        <a href="/ai-server/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            AI Server
                        </a>
            </div>
        </div>
        <div class="hidden sm:ml-6 sm:flex sm:items-center">
            <typesense></typesense>
            <dark-mode-toggle class="ml-2 w-10"></dark-mode-toggle>
        </div>
        <div class="-mr-2 flex items-center sm:hidden">
          <!-- Mobile menu button -->
          <button type="button" v-on:click="open=!open" class="inline-flex items-center justify-center rounded-md bg-white dark:bg-black p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:ring-offset-black" aria-controls="mobile-menu" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <!-- Menu open: "hidden", Menu closed: "block" -->
            <svg :class="['h-6 w-6', open ? 'hidden' : 'block']" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
            <!-- Menu open: "block", Menu closed: "hidden" -->
            <svg :class="['h-6 w-6', open ? 'block' : 'hidden']" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile menu, show/hide based on menu state. -->
    <div v-cloak v-if="open" class="sm:hidden">
        <div class="space-y-1 pb-3 pt-2">
            <!-- Current: "border-indigo-500 bg-indigo-50 text-indigo-700", Default: "border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800" -->
                    <a href="/templates/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Project Templates
                    </a>
                    <a href="/vue/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Vue
                    </a>
                    <a href="/autoquery/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        AutoQuery
                    </a>
                    <a href="/auth/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Auth
                    </a>
                    <a href="/ormlite/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        OrmLite
                    </a>
                    <a href="/redis/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Redis
                    </a>
                    <a href="/locode/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Locode
                    </a>
                    <a href="/grpc/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        gRPC
                    </a>
                    <a href="/ai-server/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        AI Server
                    </a>
        </div>
    </div>
  </nav>
</header>

<script type="module">
import { ref } from "vue"
import { mount } from "app.mjs"

const Header = {
    setup() {
        const open = ref(false)
        return { open }
    }
}
mount('#header', Header)
</script>


<div class="min-h-screen">
    <main role="main" class="pt-16 pb-3 max-w-[100rem] mx-auto">
        



<style>
.active {
    color: #0ea5e9 !important;
}
</style>
<link rel="stylesheet" href="/css/highlight.css">
<link rel="stylesheet" href="/css/typography.css">
<link rel="stylesheet" href="/css/lite-yt-embed.css">

<div class="w-full max-w-[100rem] mx-auto">
    <div class="flex flex-wrap">
        <div id="sidebar" class="z-40 inset-0 flex-none bg-white dark:bg-black lg:w-64 xl:w-80">
            <button v-cloak v-on:click="open=true" :class="['text-gray-400 hover:text-gray-500 pt-4 pl-2 absolute transform transition-all duration-200', open ? 'opacity-0 translate-x-56' : 'opacity-100']" title="Open Sidebar">
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H10m10 0l-4 4m4-4l-4-4M4 4v16"/></svg>
            </button>
            <div :class="['fixed bg-white dark:bg-black h-screen overflow-y-auto scrolling-touch overflow-hidden shadow lg:shadow-none transform transition-transform duration-200', open ? '' : 'translate-x-[-100%]']">
                <nav class="sidebar lg:w-64 xl:w-80 px-1 pt-6 pb-16 overflow-y-auto font-medium text-sm lg:text-base sm:px-3 xl:px-5" aria-label="Sidebar">
                    <close-button title="Close Sidebar" class="lg:hidden -mr-2" v-on:close="open=false"></close-button>
                                <a href="/releases/" class="block flex items-center whitespace-nowrap">
<svg class='h-6 w-6 shrink-0 text-sky-500' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='currentColor' aria-hidden='true'><path stroke-linecap='round' stroke-linejoin='round' d='M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25'></path></svg>                                    <span class="p-2 pl-3 font-display font-medium text-slate-900 dark:text-white">
Releases                                    </span>
                                </a>
                        <ul role="list" class="mb-6 mt-2 ml-3 space-y-2 border-l-2 border-slate-100 dark:border-slate-800 lg:mt-4 lg:space-y-4 lg:border-slate-200">
                                <li class="relative">
                                    <a href="/releases/v8_08" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v8.8
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v8_07" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v8.7
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v8_06" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v8.6
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v8_05" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v8.5
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v8_04" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v8.4
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v8_03" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v8.3
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v8_02" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v8.2
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v8_01" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v8.1
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v8_00" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v8
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_11" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.11
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_10" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.10
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_09" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.9
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_08" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.8
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_07" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.7
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_06" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.6
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_05" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.5
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_04" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.4
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_03" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.3
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_02" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.2
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_01" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.1
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_00" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_13" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.13
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_12" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.12
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_11" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.11
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_10" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.10
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_09" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.9
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_08" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.8
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_07" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.7
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_06" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.6
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_05" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full active font-semibold text-sky-500 before:bg-sky-500">
                                        ServiceStack v5.5
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_04" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.4
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_02" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.2
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_01_0" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.1
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_00_0" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_8" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.8
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_6" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.6
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_4" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.4
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_2" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.2
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_14" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.14
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_12" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.12
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_10" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.10
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_0" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.0
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_62" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.62
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_60" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.60
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_58" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.58
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_56" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.56
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_54" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.54
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_52" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.52
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_50" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.50
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_48" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.48
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_46" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.46
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_44" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.44
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_42" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.42
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_40" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.40
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_38" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.38
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_36" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.36
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_35" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.35
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_34" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.34
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_33" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.33
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_32" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.32
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_31" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.31
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_30" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.30
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_24" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.24
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_23" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.23
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_22" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.22
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_21" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.21
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_19" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.19
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_18" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.18
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_15" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.15
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_12" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.12
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_11" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.11
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_10" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.10
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_09" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.09
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_08" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.08
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_06" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.06
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_00" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/2016-summary" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack 2016 Release Notes Summary
                                    </a>
                                </li>
                        </ul>
                </nav>
            </div>
        </div>
        <div id="doc" class="mx-auto flex">
            <div class="mt-8 mx-auto prose lg:prose-lg">
                
                    <section class="not-prose mb-16 md:mb-12">
                        <h1 class="text-center py-10 text-gray-900 dark:text-gray-50 tracking-tight font-extrabold text-4xl sm:text-5xl md:text-6xl">
                                <div class="-mt-8 mb-2 text-center text-lg font-normal text-gray-500 tracking-normal">
                                    March 28, 2019
                                </div>
                            ServiceStack v5.5
                        </h1>
                    </section>

                <div class="not-prose"></div>

                <div class="content"><h2 id="servicestack-turns-10">ServiceStack turns 10!<a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack-turns-10'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Before we get into unpacking this release we're happy to announce that we've now eclipsed <strong>10 years</strong> since our
<a href="https://github.com/ServiceStack/ServiceStack/commit/2a9cd0d10247ae1a679ac011d7bdef593937dba4">first commit</a>!</p>
<p>When you've been working on the same piece of code or art work for a long enough time you can look through it as a time lens back to that first commit,
the developer you were, the visions, inspiration and motivations you had. Enough years pass that it eclipses a generation, remembering
the person you were then and comparing with who you are now, how we grew as developers, as people, with different skills, careers, motivations,
perspectives and life priorities.</p>
<p>As I take this moment to reflect back, it's reassuring to see that whilst the environments and ecosystems around us have all changed,
ServiceStack's code always stayed true to its time-tested original vision. Whose core focus, Services, still provides the most value and software reuse,
whose interface is still your systems most important and regardless of the technology used to implement them, its goals continue to be to
make them simple to implement and simple to consume from wherever they're being called from - realizing their benefits.</p>
<p>It might be clear now but it wasn't in the era ServiceStack was created in, where most software was being given the &quot;Enterprise&quot; label
and focused on surrounding itself with &quot;Enterprise features&quot;. In Java, Enterprise Java Beans were being marketed as the pinnacle of
Enterprise Software development whilst in .NET we were told we needed to use SOAP to in order to develop Web Services - which after experiencing
the friction they inflicted in large code-bases first-hand, became the catalyst for starting ServiceStack - a clean, friction-free Services
Framework for developing evolving message-based APIs, that even then already shipped with multiple JSON/XML serialization formats
and REST/HTTP and SOAP endpoints out-of-the-box, including generic SOAP clients to ease transitions from legacy code bases.</p>
<h3 id="dto-first-services-on-the-outside">DTO-first Services on the outside<a class="header-anchor" href="javascript:;" onclick="location.hash='#dto-first-services-on-the-outside'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>From the outset ServiceStack embraced and built upon the importance of the <a href="https://martinfowler.com/eaaCatalog/dataTransferObject.html">Data Transfer Object (DTO)</a> and <a href="https://martinfowler.com/eaaCatalog/remoteFacade.html">Remote Facade</a> patterns for the development of its
robust coarse-grained, message-based Services, the importance of using Model-first logic-less DTOs for developing well-defined, evolvable, serialization-agnostic Services ensuring they can be consumed in any format, in any language and client - where they utilized the
<a href="https://martinfowler.com/eaaCatalog/gateway.html">Gateway pattern</a>, a large part to why ServiceStack Services are so easily consumed from
all its reusable generic <a href="/clients-overview">Typed Service Clients</a> in <a href="/add-servicestack-reference">different languages</a>, all in the same way,
where only DTOs are needed to enable its end-to-end Typed APIs.</p>
<p>Even today, most generated client proxy solutions still generate their clients RPC proxy stubs coupled with their types, creating
additional friction whilst limiting its flexibility and reuse.</p>
<h3 id="clean-architecture-on-the-inside">Clean architecture on the inside<a class="header-anchor" href="javascript:;" onclick="location.hash='#clean-architecture-on-the-inside'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Instead of WCF's dependence on complicated configuration and tooling ServiceStack opted for a convention-based configuration-free approach that
in addition to adopting a simpler, cleaner more robust approach to develop Services on the outside, also encouraged a cleaner development model
on the inside where DTOs only dependency were to <strong>ServiceStack.Interfaces</strong> - a dependency and implementation-free Assembly containing abstractions of
all ServiceStack providers. This allowed the decoupling of your Host project containing all your App's configuration and concrete dependencies with your Services
logic which would only bind to substitutable and testable interfaces so your AppHost could freely switch to use different concrete <a href="/caching">Caching</a>,
<a href="/appsettings">Configuration</a> or <a href="/logging">Logging providers</a> without impacting your Services implementation which is decoupled from your ServiceModel DTOs, which itself has no concrete dependencies.</p>
<p>This same time-tested blue-print giving ServiceStack Projects a structured base to build on continues to be our recommended
<a href="/physical-project-structure">Physical Project Structure</a> that's adopted from most of our <a href="/templates/">project templates</a>.</p>
<p>So what started out as a System.Web ASP.NET 3/3.5 code-base 10 years ago has now evolved where its single modular code-base can support running your
ServiceStack Services on any of <a href="/why-servicestack#multiple-hosting-options">.NET Framework v4.5+ and .NET Core's most popular Hosts</a> where they're
available in a myriad of <a href="/formats">serialization formats</a>, accessible from a <a href="/messaging">number of popular MQ Servers</a> and <a href="/soap-support">SOAP Endpoints</a>
(should you still need to support legacy integrations) whilst the first-class end-to-typed support for <a href="/add-servicestack-reference">all popular Mobile and Desktop platforms</a> enables maximum utility and productivity for everyone consuming your Services.</p>
<h3 id="thank-you">Thank You!<a class="header-anchor" href="javascript:;" onclick="location.hash='#thank-you'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>I'd like to take this milestone to thank our thousands of Customers we've had the pleasure to serve and see our Software used which has amassed
more than <strong>27,000,000+ total downloads</strong> on NuGet and to see the uptick in adoption of some of our unique features like
<a href="/add-servicestack-reference">Add ServiceStack Reference</a> which has been used more than <strong>88,000 times</strong>
to generate native Typed DTOs amongst its <a href="/add-servicestack-reference#supported-languages">8 supported languages</a>.</p>
<p>It's rewarding to see value being created with our software and the small part we've played in its success, we're especially grateful to continue serving
our long term Customers who've supported us since ServiceStack became a permanent full-time effort in 2013 and I look forward to continue working on enhancing the
value and provide more first-class integrations around your ServiceStack Services including access to the latest modern development technologies
in the simplest and most productive way we can make it, including continuing to develop our own innovations where it can reduce friction or be able to
deliver a simpler and more enjoyable experience - many of which we're happy to introduce to you today.</p>
<p>And with that we have another jam-packed release with exciting features across the board, if you haven't got enough time to go through it all today,
feel free to jump directly to the features you're interested in:</p>
<h1 id="table-of-contents">Table of Contents<a class="header-anchor" href="javascript:;" onclick="location.hash='#table-of-contents'" aria-label="Permalink">&ZeroWidthSpace;</a></h1>
<ul>
<li><a href="#aspnet-core-on-net-framework">ASP.NET Core on .NET Framework</a>
<ul>
<li><a href="#aspnet-core---still-our-top-recommendation-for-net-framework">ASP.NET Core - still our top recommendation for .NET Framework</a></li>
<li><a href="#servicestacks-multi-targeted-packages">ServiceStack's multi-targeted Packages</a></li>
<li><a href="#future-proofed-and-continually-developed">Future proofed and continually developed</a></li>
</ul>
</li>
<li><a href="#new-vue-and-react-lite-aspnet-core-templates">New Vue and React &quot;lite&quot; ASP.NET Core Templates</a>
<ul>
<li><a href="#introducing-new-lite-npm-free-project-templates">Introducing new &quot;lite&quot; npm-free project templates</a></li>
<li><a href="#light-on-complexity-big-on-features">Light on Complexity, Big on Features</a></li>
<li><a href="#vue-lite">vue-lite</a></li>
<li><a href="#react-lite">react-lite</a></li>
<li><a href="#development-workflow">Development workflow</a></li>
<li><a href="#update-typescript-dtos">Update TypeScript DTOs</a></li>
<li><a href="#integrated-bundling">Integrated Bundling</a>
<ul>
<li><a href="#css-bundling">CSS Bundling</a></li>
<li><a href="#hot-reloading-of-static-resources">Hot Reloading of Static Resources</a></li>
<li><a href="#javascript-library-bundling">JavaScript Library Bundling</a></li>
<li><a href="#app-source-code-bundling">App Source Code Bundling</a></li>
</ul>
</li>
<li><a href="#pre-compiled-minified-production-bundles">Pre-compiled minified production bundles</a></li>
<li><a href="#minified-bundles-with-cache-breakers">Minified bundles with cache breakers</a></li>
<li><a href="#available-in-razor-helpers">Available in Razor Helpers</a></li>
<li><a href="#vue-lite-project-template-features">vue-lite Project Template features</a>
<ul>
<li><a href="#validation-error-binding">Validation Error Binding</a></li>
<li><a href="#vue-global-state-management">Vue Global State Management</a></li>
</ul>
</li>
<li><a href="#react-lite-project-template-features">react-lite Project Template features</a></li>
<li><a href="#react-global-state-management">React Global State Management</a></li>
<li><a href="#lite-project-structure">&quot;lite&quot; Project Structure</a></li>
<li><a href="#updating-lite-project-dependencies">Updating &quot;lite&quot; project dependencies</a></li>
</ul>
</li>
<li><a href="#script">#Script!</a>
<ul>
<li><a href="#script-fka-servicestack-templates">#Script (fka ServiceStack Templates)</a></li>
<li><a href="#optimal-for-generating-html-and-live-scripting-environments">Optimal for generating HTML and Live Scripting Environments</a></li>
<li><a href="#sharp-apps">Sharp Apps</a></li>
<li><a href="#sharp-apis">Sharp APIs</a></li>
<li><a href="#sharp-scripts">Sharp Scripts</a>
<ul>
<li><a href="#textdump">textDump</a></li>
<li><a href="#aws-dashboards">AWS Dashboards</a></li>
<li><a href="#azure-dashboards">Azure Dashboards</a></li>
</ul>
</li>
<li><a href="#live-script-with-web-watch">Live #Script with web watch</a>
<ul>
<li><a href="#live-transformations">Live Transformations</a></li>
</ul>
</li>
<li><a href="#usage-in-net">Usage in .NET</a>
<ul>
<li><a href="#evaluating-scripts-with-return-values">Evaluating Scripts with return values</a></li>
<li><a href="#optimized-for-net">Optimized for .NET</a></li>
<li><a href="#auto-async-io-and-stream-transformations">Auto Async I/O and Stream Transformations</a></li>
</ul>
</li>
<li><a href="#breaking-changes">Breaking Changes</a>
<ul>
<li><a href="#servicestackscript-rebrand">ServiceStack.Script rebrand</a></li>
<li><a href="#migration-to-new-script-apis">Migration to new Script APIs</a></li>
<li><a href="#request-params-are-no-longer-imported-by-default">Request Params are no longer imported by default</a>
<ul>
<li><a href="#importrequestparams">importRequestParams</a></li>
</ul>
</li>
<li><a href="#no-impact-on-page-based-routing">No impact on page based routing</a></li>
<li><a href="#request-param-methods">Request Param Methods</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#world-validation">World Validation</a>
<ul>
<li><a href="#benefits-of-services">Benefits of Services</a></li>
<li><a href="#api-first-development-model">API First Development Model</a></li>
<li><a href="#validation-of-all-the-things">Validation from all the things</a></li>
<li><a href="#server-rendered-html-uis">Server Rendered HTML UIs</a></li>
<li><a href="#client-html-uis">Client HTML UIs</a></li>
<li><a href="#shared-error-handling-concepts">Shared Error Handling Concepts</a></li>
<li><a href="#login-page">Login Page</a></li>
<li><a href="#contacts-page">Contacts Page</a></li>
</ul>
</li>
<li><a href="#no-touch-host-configuration">&quot;No touch&quot; Host Configuration</a></li>
<li><a href="#auto-mapping">Auto Mapping</a>
<ul>
<li><a href="#register-converters">Register Converters</a></li>
<li><a href="#ignore-mapping">Ignore Mapping</a></li>
<li><a href="#support-for-implicit--explicit-type-casts">Support for Implicit / Explicit Type Casts</a></li>
<li><a href="#powerful-and-capable">Powerful and Capable</a></li>
</ul>
</li>
<li><a href="#page-based-routing-in-razor">Page Based Routing in Razor!</a>
<ul>
<li><a href="#consider-pretty-urls-for-public-pages">Consider &quot;pretty-urls&quot; for public pages</a></li>
<li><a href="#permalinks-important-for-seo-usability-and-refactorability">Permalinks important for SEO, usability and refactorability</a></li>
<li><a href="#pre-defined-routes-are-optimal-for-machines">Pre-defined Routes are optimal for machines</a></li>
<li><a href="#optimize-custom-routes-for-humans">Optimize Custom Routes for humans</a></li>
<li><a href="#designing-clean-urls">Designing Clean URLs</a></li>
</ul>
</li>
<li><a href="#web-tool"><code>web</code> tool</a>
<ul>
<li><a href="#addupdate-servicestack-references">Add/Update ServiceStack References</a></li>
</ul>
</li>
<li><a href="#web-new---nets-missing-project-template-system"><code>web new</code> - .NET's missing project template system</a>
<ul>
<li><a href="#github-powered-project-templates">GitHub powered Project Templates</a></li>
<li><a href="#always-up-to-date">Always up to date</a></li>
<li><a href="#just-regular-projects">Just regular Projects</a></li>
<li><a href="#available-project-templates">Available project templates</a></li>
</ul>
</li>
<li><a href="#web----customize-mixmatch-projects-from-gists"><code>web +</code> - customize mix/match projects from gists!</a>
<ul>
<li><a href="#usage">Usage</a></li>
<li><a href="#available-gists">Available Gists</a></li>
<li><a href="#creating-customized-projects">Creating customized projects</a></li>
<li><a href="#apply-gist-modifiers">Apply Gist Modifiers</a></li>
<li><a href="#open-for-gists">Open for Gists!</a></li>
<li><a href="#apply-adhoc-gists">Apply adhoc Gists</a></li>
</ul>
</li>
<li><a href="#sourcelink-enabled-packages">SourceLink Enabled Packages</a>
<ul>
<li><a href="#all-servicestack-github-projects-now-use-ci-nuget-feed">All ServiceStack GitHub projects now use CI NuGet feed</a></li>
</ul>
</li>
<li><a href="#authentication">Authentication</a>
<ul>
<li><a href="#community-auth-providers">Community Auth Providers</a></li>
<li><a href="#aspnet-core-identity-auth-provider">ASP.NET Core Identity Auth Provider</a></li>
<li><a href="#use-existing-attributes">Use existing Attributes</a></li>
</ul>
</li>
<li><a href="#using-servicestack-auth-in-mvc">Using ServiceStack Auth in MVC</a>
<ul>
<li><a href="#defaults-to-mvc-auth-redirect-conventions">Defaults to MVC Auth Redirect Conventions</a></li>
</ul>
</li>
<li><a href="#using-aspnet-identity-auth-in-servicestack">Using ASP.NET Identity Auth in ServiceStack</a>
<ul>
<li><a href="#mapping-customizations">Mapping Customizations</a></li>
<li><a href="#custom-mappings">Custom Mappings</a></li>
<li><a href="#built-in-identity-db-apis">Built-in Identity DB APIs</a></li>
<li><a href="#propagating-extended-user-info">Propagating Extended User Info</a></li>
</ul>
</li>
<li><a href="#using-identityserver4-auth-in-servicestack">Using IdentityServer4 Auth in ServiceStack</a>
<ul>
<li><a href="#physical-project-structure">Physical Project Structure</a></li>
<li><a href="#identityserver">IdentityServer</a></li>
<li><a href="#app">App</a></li>
<li><a href="#delegated-auth-pages">Delegated Auth Pages</a></li>
<li><a href="#api">API</a></li>
</ul>
</li>
<li><a href="#servicestack">ServiceStack</a>
<ul>
<li><a href="#new-auth-providers">New Auth Providers</a></li>
<li><a href="#microsoft-graph-auth-provider">Microsoft Graph Auth Provider</a>
<ul>
<li><a href="#microsoft-graph-savephoto">Microsoft Graph SavePhoto</a></li>
</ul>
</li>
<li><a href="#new-claim-apis">New Claim APIs</a></li>
<li><a href="#iserviceprovider-request-extensions">IServiceProvider Request Extensions</a></li>
<li><a href="#enable-same-site-cookies">Enable Same Site Cookies</a></li>
<li><a href="#cookie-filters">Cookie Filters</a></li>
<li><a href="#secure-cookies-enabled-by-default">Secure Cookies enabled by default</a></li>
<li><a href="#override-authorization-http-header">Override Authorization HTTP Header</a></li>
<li><a href="#get-authenticate-requests-are-disabled-by-default">GET Authenticate Requests are disabled by default</a></li>
<li><a href="#usersession-validation">UserSession validation</a></li>
<li><a href="#intercept-service-requests">Intercept Service Requests</a></li>
<li><a href="#fluent-validation">Fluent Validation</a></li>
<li><a href="#auto-batching">Auto Batching</a></li>
<li><a href="#hot-reload">Hot Reload</a>
<ul>
<li><a href="#hot-reload-sharp-pages">Hot Reload #Script Pages</a></li>
<li><a href="#hot-reload-static-files">Hot Reload Static Files</a></li>
</ul>
</li>
<li><a href="#image-utils">Image Utils</a></li>
<li><a href="#enum-utils">Enum Utils</a></li>
</ul>
</li>
<li><a href="#open-api-feature">Open API Feature</a>
<ul>
<li><a href="#customizable-security-definitions">Customizable Security Definitions</a></li>
<li><a href="#customize-swaggerui">Customize SwaggerUI</a></li>
</ul>
</li>
<li><a href="#disable-auto-html-pages">Disable Auto HTML Pages</a></li>
<li><a href="#typescript">TypeScript</a>
<ul>
<li><a href="#partial-constructors">Partial Constructors</a></li>
<li><a href="#defaultimports">DefaultImports</a></li>
</ul>
</li>
<li><a href="#messaging">Messaging</a>
<ul>
<li><a href="#background-mq-stats">Background MQ Stats</a></li>
<li><a href="#aws-sqs-server">Aws SQS Server</a>
<ul>
<li><a href="#intercepting-filters">Intercepting Filters</a></li>
<li><a href="#polling-duration">Polling Duration</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ormlite">OrmLite</a>
<ul>
<li><a href="#insert-into-select">INSERT INTO SELECT</a></li>
<li><a href="#postgresql-rich-data-types">PostgreSQL Rich Data Types</a></li>
<li><a href="#hstore-support">Hstore support</a></li>
<li><a href="#json-data-types">JSON data types</a></li>
<li><a href="#new-keyvaluepairkv-top-level-apis">New KeyValuePair&lt;K,V&gt; top-level APIs</a></li>
<li><a href="#select-constant-expressions">SELECT Constant Expressions</a></li>
<li><a href="#select-distinct-in-selectmulti">SELECT DISTINCT in SelectMulti</a></li>
<li><a href="#new-tablealias-replaces-joinalias">New TableAlias replaces JoinAlias</a></li>
<li><a href="#gettablenames-and-gettablenameswithrowcounts-apis">GetTableNames and GetTableNamesWithRowCounts APIs</a></li>
<li><a href="#dapper-updated">Dapper updated</a></li>
<li><a href="#db-scripts-can-open-different-connections">DB Scripts can open different connections</a></li>
</ul>
</li>
<li><a href="#redis">Redis</a></li>
<li><a href="#servicestacktext">ServiceStack.Text</a></li>
<li><a href="#servicestackazure">ServiceStack.Azure</a></li>
</ul>
<h2 id="asp.net-core-on.net-framework">ASP.NET Core on .NET Framework<a class="header-anchor" href="javascript:;" onclick="location.hash='#asp.net-core-on.net-framework'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Another important announcement that occurred since our last release was Microsoft's announcement that it would stop supporting
<a href="https://github.com/aspnet/AspNetCore/issues/3753">new versions of ASP.NET Core on the .NET Framework</a>. Whilst we strongly disagreed
against this decision which would've put out a large class of the existing ecosystems from participating in the new ASP.NET Core
development model and many from staged migrations to .NET Core from commencing, we're happy to see
<a href="https://github.com/aspnet/AspNetCore/issues/3753#issuecomment-438046364">ASP.NET Core 2.1 LTS will enjoy the same indefinite level of support</a>
as the rest of the .NET Framework - which should come as great news to the 1/3 of our Customers who are still creating new
<a href="https://github.com/NetFrameworkCoreTemplates">ASP.NET Core on FX Project Templates</a>.</p>
<p>Whilst this announcement sends a clear message that new development on .NET Framework has effectively been put on product life support,
<strong>ASP.NET Core 2.1 LTS</strong> is still a great rock-solid platform to build on if you're unable to jump directly to <strong>.NET Core</strong> immediately or
if you want to get off .NET Core's major version release train and build upon a stable LTS platform.</p>
<h3 id="asp.net-core-still-our-top-recommendation-for.net-framework">ASP.NET Core - still our top recommendation for .NET Framework<a class="header-anchor" href="javascript:;" onclick="location.hash='#asp.net-core-still-our-top-recommendation-for.net-framework'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>If you need to stay on the .NET Framework, we'd still recommend using the newer <strong>ASP.NET Core 2.1</strong> over classic <strong>ASP.NET System.Web</strong> projects
as it's cleaner, lighter, more flexible and future proof. Unlike Microsoft web frameworks, ServiceStack is a <strong>single code-base</strong> which
supports running on <a href="/why-servicestack#multiple-hosting-options">multiple platforms</a> so your ServiceStack Services can enjoy near perfect
source-code compatibility when and if you choose to <strong>move to .NET Core</strong> in future.</p>
<p>So whilst Microsoft is stopping new development of ASP.NET Core on .NET Framework, we're not, our supported packages have standardized to
multi-target both <strong>.NET v4.5+</strong> and <strong>.NET Standard 2.0</strong> which is supported natively on <strong>ASP.NET Core 2.1</strong>.</p>
<h3 id="servicestacks-multi-targeted-packages">ServiceStack's multi-targeted Packages<a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestacks-multi-targeted-packages'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>We've opted early on to shun classic ASP.NET providers and use our own clean <a href="/caching">Session, Caching</a>, <a href="/appsettings">Configuration</a>, <a href="/logging">Logging</a>
providers all of which automatically support <strong>.NET Standard 2.0</strong> given they're clean library implementations without .NET Framework-only dependencies.</p>
<p>The only features which we can't offer <strong>.NET Standard 2.0</strong> builds for are when they referenced external packages which don't offer
.NET Standard 2.0 builds, the major examples being:</p>
<ol>
<li><a href="https://www.nuget.org/packages/ServiceStack.Authentication.OAuth2/">ServiceStack.Authentication.OAuth2</a> which depends on <strong>DotNetOpenAuth</strong>, of which we've <a href="#new-auth-providers">rewritten the last remaining popular OAuth providers</a> in this release to not have any dependencies and</li>
<li><a href="https://razor.netcore.io/">ServiceStack.Razor</a> which depends on the .NET Framework <strong>Microsoft.AspNet.Razor</strong> which we've <a href="/netcore-razor">rewritten on top of ASP.NET Core MVC</a> that in this release gained features that eclipses the .NET Framework implementation with the exciting new <a href="#page-based-routing-in-razor">Page-based routing</a> feature.</li>
</ol>
<h3 id="future-proofed-and-continually-developed">Future proofed and continually developed<a class="header-anchor" href="javascript:;" onclick="location.hash='#future-proofed-and-continually-developed'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>But otherwise all our own home-grown innovations like <a href="https://sharpscript.net">#Script</a> (fka ServiceStack Templates) naturally support
.NET Framework and .NET Core and runs everywhere ServiceStack does including within <a href="https://sharpscript.net/docs/mvc-netcore">classic ASP.NET MVC Controllers</a>
which wasn't a design goal but was a natural consequence of developing clean libraries without external dependencies or reliance on external tooling.</p>
<p>This is to say that <strong>ASP.NET Core 2.1 LTS</strong> is still a fantastic rock-solid platform to run your .NET Framework workloads when you need to
which will continue to receive enhancements and new features with each ServiceStack release courtesy of being derived from the same
shared code-base which will enable seamless migrations to .NET Core should you wish to in future.</p>
<h4 id="subpar-experiences">Subpar experiences<a class="header-anchor" href="javascript:;" onclick="location.hash='#subpar-experiences'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>It's not always a friction-free experience as there have been frequent reports of runtime Assembly binding issues which are not always
correctly handled by NuGet package installs and may require manual binding redirects, in general upgrading to the latest .NET Framework
will mitigate these issues.</p>
<p>Also you'll miss out on some niceties like the <a href="https://www.nuget.org/packages/Microsoft.AspNetCore.App">Microsoft.AspNetCore.App</a>
meta-package reference, as a result we recommend starting from one of our <a href="https://github.com/NetFrameworkCoreTemplates">ASP.NET Core Framework project Templates</a>
which contains all the individual package references needed to get started which we've expanded in this release to include a
couple of exciting new project templates...</p>
<h2 id="new-vue-and-react-lite-asp.net-core-templates">New Vue and React &quot;lite&quot; ASP.NET Core Templates<a class="header-anchor" href="javascript:;" onclick="location.hash='#new-vue-and-react-lite-asp.net-core-templates'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Developing Single Page Apps can often feel like a compromise, on the one hand premier JS frameworks like <a href="https://vuejs.org">Vue</a> and
<a href="https://reactjs.org/">React</a> have offered unprecedented simplicity and elegance in developing rich and reactive Single Page Apps on the Web,
on the other hand you have to <a href="https://twitter.com/dylanbeattie/status/1098204272653676544">start from</a>:</p>
<p><a href="https://twitter.com/dylanbeattie/status/1098204272653676544"><img src="/img/pages/spa/create-react-app.png" alt="" /></a></p>
<p>This is the result of <a href="https://www.davidhaney.io/npm-left-pad-have-we-forgotten-how-to-program/">npm's culture for hyper modularization into micro modules</a>
where often these dependencies only contain a single function, in some cases something as simple as checking if a number is positive is an npm package all by itself with a
<a href="https://github.com/tjmehta/is-positive-integer/blob/fa2b3a816ee176b33ed84433145030a4512c9cd7/index.js">single function requiring 3 additional dependencies</a>.</p>
<p>Regardless of the <a href="http://codetunnel.com/why-i-think-micro-packages-are-a-good-thing/">reasons touted for micro modules</a>, they have many negative side-effects
where each of these dependencies opens a possible vector making your project susceptible to breaking changes, potential vulnerabilities or
potentially malicious code if any of the packages in your dependency tree becomes compromised by a bad actor. The resulting matrix
of dependencies often requires you to use complicated tools like Webpack to manage them, which itself can grow to accumulate bespoke
complex configuration to manage your projects builds which can quickly become obsolete with each new major Webpack version.</p>
<p>There are also packages that have shunned this trend like <a href="https://github.com/Microsoft/TypeScript">typescript</a> - a wonderfully capable
Typed superset of JavaScript that assists in maintaining new class of large-scale code-bases - a clear counter that you can maintain large,
high quality code bases and build highly functional and capable libraries without micro modules.</p>
<h2 id="introducing-new-lite-npm-free-project-templates">Introducing new &quot;lite&quot; npm-free project templates<a class="header-anchor" href="javascript:;" onclick="location.hash='#introducing-new-lite-npm-free-project-templates'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>The question we keep asking ourselves is how can ServiceStack make modern Web Development simpler, the natural choice was to
provide pre-configured <a href="/templates/single-page-apps">Webpack-powered SPA Project Templates</a> - bringing the recommended SPA
development model for all popular SPA frameworks to .NET, which we've been doing successfully and seamlessly integrated with ServiceStack for years.</p>
<p>However the next leap in simplicity wont be coming from adding additional tooling to manage the complexity, it will be from
removing the underlying complexity entirely. Fortunately one of the targets all premier SPA frameworks offer are encapsulated
UMD packages so they can be referenced as a single include in online IDE's like <a href="https://codepen.io">codepen.io</a> but also
for simple Web Apps that want to gradually adopt these frameworks but want to avoid the complexity of maintaining an npm build system.</p>
<p>These UMD packages lets us return back to the simple era of web development where we can go back to referencing libraries using simple
script includes - which is the strategy embraced in ServiceStack's new &quot;lite&quot; project templates.</p>
<h3 id="light-on-complexity-big-on-features">Light on Complexity, Big on Features<a class="header-anchor" href="javascript:;" onclick="location.hash='#light-on-complexity-big-on-features'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Surprisingly whilst we're able to rid ourselves of the complexity of maintaining an npm-based build system, we're still able to
enjoy many of the features that make SPA development with Webpack a joy:</p>
<ul>
<li>Integrated hot-reloading</li>
<li>Advanced JavaScript language features
<ul>
<li>Continue developing with same componentized development model as done when using Webpack</li>
<li>Future proofed to use optimal ES6 source code</li>
</ul>
</li>
<li>TypeScript with runtime type-checking verification and auto-complete
<ul>
<li>Incremental compilation</li>
<li>TypeScript declarations are included for all default packages</li>
</ul>
</li>
<li>Smart, effortless bundling and minification
<ul>
<li>Optimal unminified during development and minified for production</li>
<li>No reliance on external tooling necessary, but can use same bundling configuration in website <code>_layout.html</code> if pre-compilation is preferred</li>
</ul>
</li>
</ul>
<p>Essentially the &quot;lite&quot; templates goal are to provide the richest suite of functionality possible with the least amount of complexity.
TypeScript was adopted because it runs as a non-invasive global tool with no dependencies that enables us to take advantage of the
latest JavaScript language features to be able to develop in modern JavaScript without compromises, in the same source code as a fully-fledged
npm webpack build system, should you wish to upgrade to one in future.</p>
<h2 id="install">Install<a class="header-anchor" href="javascript:;" onclick="location.hash='#install'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>All ServiceStack Project Templates can now be created with our <code>web</code> (or <code>app</code>) .NET Core tool:</p>
<pre><code>$ dotnet tool install -g web
</code></pre>
<p>If you previously had an existing <code>web</code> tool installed, update it to the latest version with:</p>
<pre><code>$ dotnet tool update -g web
</code></pre>
<h3 id="vue-lite">vue-lite<a class="header-anchor" href="javascript:;" onclick="location.hash='#vue-lite'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><a href="https://github.com/NetCoreTemplates/vue-lite"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/csharp-templates/vue-lite.png" alt="" /></a></p>
<p>Browse <a href="https://github.com/NetCoreTemplates/vue-lite">source code</a>, view <a href="http://vue-lite.web-templates.io">vue-lite.web-templates.io</a> live demo and install for <strong>.NET Core</strong> with:</p>
<pre><code>$ web new vue-lite ProjectName
</code></pre>
<p>Alternatively you can create an ASP.NET Core 2.1 LTS project on <strong>.NET Framework</strong> with:</p>
<pre><code>$ web new vue-lite-corefx ProjectName
</code></pre>
<h3 id="react-lite">react-lite<a class="header-anchor" href="javascript:;" onclick="location.hash='#react-lite'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><a href="https://github.com/NetCoreTemplates/react-lite"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/csharp-templates/react-lite.png" alt="" /></a></p>
<p>Browse <a href="https://github.com/NetCoreTemplates/react-lite">source code</a>, view <a href="http://react-lite.web-templates.io">react-lite.web-templates.io</a> live demo and install for <strong>.NET Core</strong> with:</p>
<pre><code>$ web new react-lite ProjectName
</code></pre>
<p>Alternatively you can create an ASP.NET Core 2.1 LTS project on <strong>.NET Framework</strong> with:</p>
<pre><code>$ web new react-lite-corefx ProjectName
</code></pre>
<h3 id="development-workflow">Development workflow<a class="header-anchor" href="javascript:;" onclick="location.hash='#development-workflow'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>All that's needed for client development is to run TypeScript in &quot;watch&quot; mode:</p>
<pre><code>$ tsc -w
</code></pre>
<p>Which monitors any changes to any <code>.ts</code> files and incrementally compiles their <code>.js</code> files on save. ServiceStack's built-in
<a href="/templates/single-page-apps#optimal-dev-workflow-with-hot-reloading">static files</a> hot-reloading detects
changes to any <code>.js</code> files and automatically reloads the page.</p>
<p>For Server C# development, start your .NET Web App in a new Terminal window with:</p>
<pre><code>$ dotnet watch run
</code></pre>
<blockquote>
<p>Using <code>watch run</code> will monitor changes to <code>C#</code> source files and automatically re-builds and restarts the Server.</p>
</blockquote>
<h3 id="update-typescript-dtos">Update TypeScript DTOs<a class="header-anchor" href="javascript:;" onclick="location.hash='#update-typescript-dtos'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>After changing your ServiceStack Services, you can re-generate their <a href="/typescript-add-servicestack-reference">Typed TypeScript DTOs</a> with:</p>
<pre><code>$ web ts
</code></pre>
<p>Which will recursively update and re-generate all <code>*dto.ts</code> in the current and sub directories.</p>
<h3 id="integrated-bundling">Integrated Bundling<a class="header-anchor" href="javascript:;" onclick="location.hash='#integrated-bundling'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The way to eliminate needing a build and module system comes down to including dependencies in dependent order which is
where ServiceStack's new bundling APIs help with. We'll walk through the <a href="#vue-lite">vue-lite</a> to see how this is easily done.</p>
<p>All the bundling logic for all <code>.css</code> and <code>.js</code> resources are contained within the <code>_layout.html</code> page below:</p>
<h4 id="wwwroot_layout.html"><a href="https://github.com/NetCoreTemplates/vue-lite/blob/master/wwwroot/_layout.html">/wwwroot/_layout.html</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#wwwroot_layout.html'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<pre><code class="language-hbs">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
    &lt;title&gt;{‎{ title ?? 'MyApp' }‎}&lt;/title&gt;
    {‎{ (debug ? '' : '.min') | assignTo: min }‎}
    {‎{ ['/assets/css/'] | bundleCss({minify:!debug, cache:!debug, disk:!debug, out:`/css/bundle${min}.css`}) }‎}
&lt;/head&gt;
&lt;body&gt;
    &lt;i hidden&gt;{‎{ '/js/hot-fileloader.js' | ifDebugIncludeScript }‎}&lt;/i&gt;

    {‎{page}‎}

    {‎{ [
        `/lib/vue/dist/vue${min}.js`,
        `/lib/vue-router/dist/vue-router${min}.js`,
        '/lib/vue-class-component/vue-class-component.js',
        '/lib/vue-property-decorator/vue-property-decorator.umd.js',
        '/lib/@servicestack/client/servicestack-client.umd.js',
    ] | bundleJs({ minify:!debug, cache:!debug, disk:!debug, out:`/js/lib.bundle${min}.js` }) }‎}

    &lt;script&gt;
        var ALIASES = {
            'vue': { default: Vue },
            'vue-router': { default: VueRouter },
            'vue-class-component': VueClassComponent
        };
        window.exports = {};
        window.require = function(name) {
            return ALIASES[name] || exports[name] || window[name] || exports;
        };
    &lt;/script&gt;

    {‎{ [
        'content:/src/components/',
        'content:/src/shared/',
        'content:/src/',
    ] | bundleJs({ minify:!debug, cache:!debug, disk:!debug, out:`/js/bundle${min}.js` }) }‎}

    {‎{ scripts | raw }‎}

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Bundling happens on-the-fly at runtime when the <code>index.html</code> page is requested which is embedded in its nearest <code>_layout.html</code> (above).</p>
<h3 id="css-bundling">CSS Bundling<a class="header-anchor" href="javascript:;" onclick="location.hash='#css-bundling'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The first bundle created is the <code>.css</code> bundle that's appropriately located in the <code>&lt;head/&gt;</code> section of the HTML page.</p>
<p>How and where the bundle is written depends on whether the page is loaded in Development (<code>debug</code>) or Release mode:</p>
<pre><code class="language-hbs">{‎{ var min = debug ? '' : '.min' }‎}
{‎{ ['/assets/css/'] |&gt; bundleCss({ minify:!debug, cache:!debug, disk:!debug, out:`/css/bundle${min}.css` }) }‎}
</code></pre>
<h3 id="bundling-options">Bundling Options<a class="header-anchor" href="javascript:;" onclick="location.hash='#bundling-options'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The bundler will include all target resources specified on the left of <code>bundleCss</code> using the behavior as specified in the argument options on the right:</p>
<ul>
<li><code>minify</code> - whether to minify the <code>.css</code> files before bundling</li>
<li><code>cache</code> - whether to use the previous cached version if exists</li>
<li><code>disk</code> - whether to save the output bundle to disk or in the In Memory FileSystem</li>
<li><code>bundle</code> - whether to bundle all <code>.css</code> in a single file or emit include individual <code>&lt;link /&gt;</code> imports</li>
<li><code>out</code> - virtual file path where to save the bundle (defaults to <code>/css/bundle{.min}.css</code>)</li>
</ul>
<p>During development (in <code>DebugMode</code>) this will create an unminified bundle, ignoring any previous caches that's saved to the In Memory Virtual File at <code>/css/bundle.css</code>.</p>
<p>Whereas in <code>Release</code> mode it will create a minified bundle, with all subsequent requests using the pre-bundled asset written at <code>/css/bundle.min.css</code>.
No tooling or pre-compilation is required prior to deployment as the bundler will automatically create one if it doesn't already exist.</p>
<p>All virtual paths are from the <code>wwwroot/</code> <strong>WebRoot</strong>. Paths ending with a <code>/</code> indicate to include all <code>.css</code> files in that directory, which
is included in <code>DirectoryInfo</code> (alphabetical) order.</p>
<p>If for example you wanted to include your App's <code>default.css</code> before <code>bootstrap.css</code> you can specify it first, where it will be included first
and ignored in subsequent references, e.g:</p>
<pre><code class="language-hbs">{‎{ [
    '/assets/css/default.css', 
    '/assets/css/'
   ] |&gt; bundleCss }‎}
</code></pre>
<h3 id="hot-reloading-of-static-resources">Hot Reloading of Static Resources<a class="header-anchor" href="javascript:;" onclick="location.hash='#hot-reloading-of-static-resources'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The script below enables <a href="#hot-reload">hot-reloading</a> during development:</p>
<pre><code class="language-hbs">&lt;i hidden&gt;{‎{ '/js/hot-fileloader.js' |&gt; ifDebugIncludeScript }‎}&lt;/i&gt;
</code></pre>
<div><p>Where it will automatically reload the page if it detects any modifications to any <code>.html</code>, <code>.js</code> or <code>.css</code> files,
<a href="https://github.com/NetCoreTemplates/vue-lite/blob/fb56cff8d704f7a066242b4f90708f92a58dbaab/Startup.cs#L63">Configured with</a>:</p>
<pre><code class="language-csharp">if (Config.DebugMode)
{
    Plugins.Add(new HotReloadFeature {
        DefaultPattern = &quot;*.html;*.js;*.css&quot;,
        VirtualFiles = VirtualFiles // Monitor ContentRoot to detect changes in /src
    });
}
</code></pre>
<p>The <code>page</code> placeholder is where the page will be rendered inside the Layout template:</p>
<pre><code class="language-hbs">{‎{page}‎}
</code></pre>
<h3 id="javascript-library-bundling">JavaScript Library Bundling<a class="header-anchor" href="javascript:;" onclick="location.hash='#javascript-library-bundling'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The layout creates 2 JavaScript bundles, the first containing all 3rd Party libraries used in the App which is written to <code>/js/lib.bundle{.min}.js</code>
using the same bundling options as the <code>bundleCss</code> above:</p>
<pre><code class="language-hbs">{‎{ [
    `/lib/vue/dist/vue${min}.js`,
    `/lib/vue-router/dist/vue-router${min}.js`,
    '/lib/vue-class-component/vue-class-component.js',
    '/lib/vue-property-decorator/vue-property-decorator.umd.js',
    '/lib/@servicestack/client/servicestack-client.umd.js',
] |&gt; bundleJs({ minify:!debug, cache:!debug, disk:!debug, out:`/js/lib.bundle${min}.js` }) }‎}
</code></pre>
<h4 id="register-umd-module-mappings">Register UMD Module Mappings<a class="header-anchor" href="javascript:;" onclick="location.hash='#register-umd-module-mappings'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>After importing the libraries we need to make the globals registered by the UMD dependencies available under the module name they are imported from.
When they don't match they need to be explicitly registered in the <code>ALIASES</code> object:</p>
<pre><code class="language-html">&lt;script&gt;
    var ALIASES = {
        'vue': { default: Vue },
        'vue-router': { default: VueRouter },
        'vue-class-component': VueClassComponent
    };
    window.exports = {};
    window.require = function(name) {
        return ALIASES[name] || exports[name] || window[name] || exports;
    };
&lt;/script&gt;
</code></pre>
<p>Since <code>Vue</code> is imported as a <code>default</code> import:</p>
<pre><code class="language-ts">import Vue from 'vue';
</code></pre>
<p>It's expected for <code>require(&quot;vue&quot;).default</code> to return the module <a href="https://github.com/NetCoreTemplates/vue-lite/blob/master/wwwroot/lib/vue/dist/vue.js#L9">assigned to the Vue global</a>:</p>
<pre><code class="language-js">(global = global || self, global.Vue = factory());
</code></pre>
<p>Dependencies like <a href="https://github.com/NetCoreTemplates/vue-lite/blob/fb56cff8d704f7a066242b4f90708f92a58dbaab/wwwroot/lib/vue-property-decorator/vue-property-decorator.umd.js#L4">vue-property-decorator.umd.js</a> and <a href="https://github.com/NetCoreTemplates/vue-lite/blob/fb56cff8d704f7a066242b4f90708f92a58dbaab/wwwroot/lib/%40servicestack/client/servicestack-client.umd.js#L17">servicestack-client.umd.js</a> that already register themselves under their expected <code>&quot;vue-property-decorator&quot;</code> and <code>&quot;@servicestack/client&quot;</code> module names don't need any manual mappings.</p>
<h3 id="app-source-code-bundling">App Source Code Bundling<a class="header-anchor" href="javascript:;" onclick="location.hash='#app-source-code-bundling'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The last js bundle created is your App's source code which also needs to be imported in dependent order, both <a href="https://github.com/NetCoreTemplates/vue-lite">vue-lite</a> and
<a href="https://github.com/NetCoreTemplates/react-lite">react-lite</a> project templates share the same structure so their bundle configuration is identical where
<a href="https://github.com/NetCoreTemplates/vue-lite/tree/master/src/components">/src/components</a> contains each page defined as a separate component, the
<a href="https://github.com/NetCoreTemplates/vue-lite/tree/master/src/shared">/src/shared</a> contains any shared functionality used by the different components whilst the base
<a href="https://github.com/NetCoreTemplates/vue-lite/tree/master/src">/src</a> folder contains your App's entry point:</p>
<pre><code class="language-hbs">{‎{ [
    'content:/src/components/',
    'content:/src/shared/',
    'content:/src/',
] |&gt; bundleJs({ minify:!debug, cache:!debug, disk:!debug, out:`/js/bundle${min}.js` }) }‎}
</code></pre>
<h3 id="bundling-path-options">Bundling Path Options<a class="header-anchor" href="javascript:;" onclick="location.hash='#bundling-path-options'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The <code>content:</code> prefix specifies that the virtual path is from the <strong>ContentRoot</strong> directory, in this case so your App source code is maintained outside of the <code>wwwroot/</code> <strong>WebRoot</strong>.</p>
<p>Possible values include:</p>
<ul>
<li><code>web:</code> - Web Root folder (default)</li>
<li><code>content:</code> - Content Root folder</li>
<li><code>filesystem:</code> - The <code>FileSystem</code> VFS provider in the Web Root's cascading Virtual File Sources</li>
<li><code>memory:</code> - The <code>Memory</code> VFS provider in the Web Root's cascading Virtual File Sources</li>
</ul>
<p>Finally the <code>scripts</code> argument is written (unencoded) after the library and App Source code bundles where it contains any additional scripts that
individual pages wants to include at the bottom of the page:</p>
<pre><code class="language-hbs">{‎{ scripts | raw }‎}
</code></pre>
<h3 id="pre-compiled-minified-production-bundles">Pre-compiled minified production bundles<a class="header-anchor" href="javascript:;" onclick="location.hash='#pre-compiled-minified-production-bundles'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Whilst not required you can copy the <strong>exact same bundling configuration</strong> in your <code>_layout.html</code> above into a separate
<a href="https://github.com/NetCoreTemplates/vue-lite/blob/master/wwwroot/_bundle.ss">/wwwroot/_bundle.ss</a> script:</p>
<pre><code class="language-hbs">{‎{* run in host project directory with `web run wwwroot/_bundle.ss` *}‎}

{‎{ var debug = false }‎}
{‎{ var min = debug ? '' : '.min' }‎}
{‎{ [`/css/bundle${min}.css`,`/js/lib.bundle${min}.js`,`/js/bundle${min}.js`] |&gt; map =&gt; fileDelete(it) |&gt; end }‎}

{‎{* Copy same bundle definitions from _layout.html as-is *}‎}

{‎{ ['/assets/css/'] |&gt; bundleCss({ minify:!debug, cache:!debug, disk:!debug, out:`/css/bundle${min}.css` }) }‎}

{‎{ [
    `/lib/vue/dist/vue${min}.js`,
    `/lib/vue-router/dist/vue-router${min}.js`,
    '/lib/vue-class-component/vue-class-component.js',
    '/lib/vue-property-decorator/vue-property-decorator.umd.js',
    '/lib/@servicestack/client/servicestack-client.umd.js',
] |&gt; bundleJs({ minify:!debug, cache:!debug, disk:!debug, out:`/js/lib.bundle${min}.js` }) }‎}

{‎{ [
    'content:/src/components/',
    'content:/src/shared/',
    'content:/src/',
] |&gt; bundleJs({ minify:!debug, cache:!debug, disk:!debug, out:`/js/bundle${min}.js` }) }‎}
</code></pre>
<p>Then run it with:</p>
<pre><code>$ web run wwwroot/_bundle.ss
</code></pre>
<p>Which will create the production bundles, minify all already non-minified bundles and write them to disk with the paths written visible in the
<code>#Script</code> <strong>_bundle.ss</strong> output:</p>
<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bundle.min.css&quot;&gt;

&lt;script src=&quot;/js/lib.bundle.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;/js/bundle.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>The bundles created by running <code>_bundle.ss</code> generates more advanced compression courtesy of the <code>web</code> tool's use of <a href="https://github.com/xoofx/NUglify">NUglify's</a>
smarter and more advanced JS, CSS and HTML minifers.</p>
<p>If you encounter any issues you can revert back to using ServiceStack's built-in <code>JSMin</code> and <code>CssMinifier</code> implementations by adding these
script arguments at the top of your <code>_bundle.css</code> script:</p>
<pre><code class="language-html">&lt;!--
jsMinifier  ServiceStack
cssMinifier ServiceStack
--&gt;
</code></pre>
<h3 id="minified-bundles-with-cache-breakers">Minified bundles with cache breakers<a class="header-anchor" href="javascript:;" onclick="location.hash='#minified-bundles-with-cache-breakers'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Cache Breaker support is available by with the <code>[hash]</code> placeholder, which we only want to include in minified bundles.
In this case we need to perform a file pattern search to find and delete any existing generated bundles:</p>
<pre><code class="language-hbs">{‎{* run in host project directory with `web run wwwroot/_bundle.ss` *}‎}

{‎{ false | assignTo: debug }‎}
{‎{ (debug ? '' : '[hash].min') | assignTo: min }‎}
{‎{ [`/css/bundle${min}.css`,`/js/lib.bundle${min}.js`,`/js/bundle${min}.js`] 
   | map =&gt; filesFind(replace(it,'[hash]','.*'))
   | flatten
   | map =&gt; fileDelete(it.VirtualPath) | end }‎}

{‎{* Copy same bundle definitions from _layout.html as-is *}‎}

{‎{ ['/assets/css/'] | bundleCss({ minify:!debug, cache:!debug, disk:!debug, out:`/css/bundle${min}.css` }) }‎}

{‎{ [
    `/lib/vue/dist/vue${min}.js`,
    `/lib/vue-router/dist/vue-router${min}.js`,
    '/lib/vue-class-component/vue-class-component.js',
    '/lib/vue-property-decorator/vue-property-decorator.umd.js',
    '/lib/@servicestack/client/servicestack-client.umd.js',
] | bundleJs({ minify:!debug, cache:!debug, disk:!debug, out:`/js/lib.bundle${min}.js` }) }‎}

{‎{ [
    'content:/src/components/',
    'content:/src/shared/',
    'content:/src/',
] | bundleJs({ minify:!debug, cache:!debug, disk:!debug, out:`/js/bundle${min}.js` }) }‎}
</code></pre>
<p>Running the <code>_bundle.css</code> script again will then output minified bundles with cache breakers:</p>
<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bundle.1549858174979.min.css&quot;&gt;

&lt;script src=&quot;/js/lib.bundle.155190192923.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;/js/bundle.1551907971028.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>When using <code>[hash]</code> cache breakers the bundle APIs will use any existing generated bundles it finds, so you'll need to
ensure that any older minified assets are removed (as done in the above script).</p>
<h3 id="available-in-razor-helpers">Available in Razor Helpers<a class="header-anchor" href="javascript:;" onclick="location.hash='#available-in-razor-helpers'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The same <code>Html.BundleJs()</code>, <code>Html.BundleCss()</code> and <code>Html.BundleHtml()</code> bundling implementations as above have also been available in
ServiceStack Razor where it can be used like:</p>
<pre><code class="language-csharp">@Html.BundleJs(new BundleOptions {
    Sources = {
        &quot;content:/src/components/&quot;,
        &quot;content:/src/shared/&quot;,
        &quot;content:/src/&quot;,
    },
    Minify = !DebugMode,
    Cache = !DebugMode,
    SaveToDisk = !DebugMode,
    OutputTo = $&quot;/js/bundle{min}.js&quot;,
})
</code></pre>
<h2 id="vue-lite-project-template-features">vue-lite Project Template features<a class="header-anchor" href="javascript:;" onclick="location.hash='#vue-lite-project-template-features'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p><strong>vue-lite</strong> comes pre-configured with a lot of the functionality needed in most Single Page Apps including client-side routing in
<a href="https://github.com/NetCoreTemplates/vue-lite/blob/master/src/shared/router.ts">/shared/router.ts</a> and
<a href="https://github.com/NetCoreTemplates/vue-lite/blob/master/src/components/SignIn.ts">Sign In</a> and
<a href="https://github.com/NetCoreTemplates/vue-lite/blob/master/src/components/SignUp.ts">Registration</a> pages, both of which are integrated
with ServiceStack's declarative form validation and auto-binding.</p>
<h4 id="form-validation-example">Form Validation Example<a class="header-anchor" href="javascript:;" onclick="location.hash='#form-validation-example'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>The <a href="https://github.com/NetCoreTemplates/vue-lite/blob/master/src/components/SignUp.ts">Sign Up</a> Page shows a typical example of auto-form
validation with ServiceStack which can be developed using clean declarative markup:</p>
<pre><code class="language-html">@Component({ template: 
    `&lt;div&gt;
        &lt;h3&gt;Register New User&lt;/h3&gt;
        &lt;form ref=&quot;form&quot; @submit.prevent=&quot;submit&quot; :class=&quot;{ error:responseStatus, loading }&quot; &gt;
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;ErrorSummary except=&quot;displayName,email,password,confirmPassword&quot; :responseStatus=&quot;responseStatus&quot; /&gt;
            &lt;/div&gt;    
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;Input name=&quot;displayName&quot; v-model=&quot;displayName&quot; placeholder=&quot;Display Name&quot; :responseStatus=&quot;responseStatus&quot; /&gt;
            &lt;/div&gt;
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;Input name=&quot;email&quot; v-model=&quot;email&quot; placeholder=&quot;Email&quot; :responseStatus=&quot;responseStatus&quot; /&gt;
            &lt;/div&gt;
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;Input type=&quot;password&quot; name=&quot;password&quot; v-model=&quot;password&quot; placeholder=&quot;Password&quot; :responseStatus=&quot;responseStatus&quot; /&gt;
            &lt;/div&gt;
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;Input type=&quot;password&quot; name=&quot;confirmPassword&quot; v-model=&quot;confirmPassword&quot; placeholder=&quot;Password&quot; :responseStatus=&quot;responseStatus&quot; /&gt;
            &lt;/div&gt;
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;CheckBox name=&quot;autoLogin&quot; v-model=&quot;autoLogin&quot; :responseStatus=&quot;responseStatus&quot;&gt;
                    Auto Login
                &lt;/CheckBox&gt;
            &lt;/div&gt;
            &lt;div class=&quot;form-group&quot;&gt;
                &lt;button class=&quot;btn btn-lg btn-primary&quot; type=&quot;submit&quot;&gt;Register&lt;/button&gt;
            &lt;/div&gt;
            &lt;div class=&quot;pt-3&quot;&gt;
                &lt;b&gt;Quick Populate:&lt;/b&gt;
                &lt;p class=&quot;pt-1&quot;&gt;
                    &lt;a class=&quot;btn btn-outline-info btn-sm&quot; href=&quot;javascript:void(0)&quot; @click.prevent=&quot;newUser('new@user.com')&quot;&gt;new@user.com&lt;/a&gt;
                &lt;/p&gt;
            &lt;/div&gt;
        &lt;/form&gt;
    &lt;/div&gt;`
})
</code></pre>
<p>Which renders into the following Bootstrap Form UI:</p>
<p><a href="http://vue-lite.web-templates.io/signup"><img src="/img/pages/spa/vue-lite-registration.png" alt="" /></a></p>
<p>All custom controls used are defined in <a href="https://github.com/NetCoreTemplates/vue-lite/blob/master/src/shared/controls.ts">/shared/controls.ts</a> which
encapsulate the label and input controls and their validation error bindings within reusable Vue components.</p>
<h2 id="validation-error-binding">Validation Error Binding<a class="header-anchor" href="javascript:;" onclick="location.hash='#validation-error-binding'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>All validation errors are sourced from the Component's <code>this.responseStatus</code> reactive property, populated by any Exception's thrown when using the
<a href="/typescript-add-servicestack-reference#typescript-serviceclient">ServiceStack's TypeScript JsonServiceClient</a> which in this case is used to
Register the user by sending the <code>Register</code> Request DTO generated in <a href="https://github.com/NetCoreTemplates/vue-lite/blob/master/src/shared/dtos.ts">/shared/dtos.ts</a>:</p>
<pre><code class="language-ts">export class SignUp extends Vue {
    displayName = ''
    email = ''
    password = ''
    confirmPassword = ''
    autoLogin = true
    loading = false
    responseStatus = null

    async submit() {        
        try {
            this.loading = true;
            this.responseStatus = null;

            const response = await client.post(new Register({
                displayName: this.displayName,
                email: this.email,
                password: this.password,
                confirmPassword: this.confirmPassword,
                autoLogin: this.autoLogin,
            }));
            
            await checkAuth();
            redirect('/');
            
        } catch (e) {
            this.responseStatus = e.responseStatus || e;
        } finally {
            this.loading = false;
        }
    }

    newUser(email:string) {
        const names = email.split('@');
        this.displayName = toPascalCase(names[0]) + &quot; &quot; + toPascalCase(splitOnFirst(names[1],'.')[0]);
        this.email = email;
        this.password = this.confirmPassword = 'p@55wOrd';
    }
}
</code></pre>
<p>This is all it takes to render any server validation errors against their respective fields which we can test by submitting an empty form:</p>
<p><a href="http://vue-lite.web-templates.io/signup"><img src="/img/pages/spa/vue-lite-registration-validation.png" alt="" /></a></p>
<h3 id="vue-global-state-management">Vue Global State Management<a class="header-anchor" href="javascript:;" onclick="location.hash='#vue-global-state-management'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Instead of immediately reaching for <a href="https://vuex.vuejs.org">Vuex</a>, we've kept the templates &quot;lite&quot; by leveraging existing
functionality built into the core libraries. So for global state management we're using a global <code>Vue</code> instance as a pub/sub <code>EventBus</code> that
our decoupled components use to update global state and listen for events.</p>
<p>This is used by <code>checkAuth</code> to post an empty <code>Authenticate</code> DTO to ServiceStack to check if the user is still authenticated on the server,
which depending if they're Authenticated will either returns basic session info or fails with a <code>401</code> error response, which the pub/sub event listeners
use to update global its state:</p>
<pre><code class="language-ts">export const store:Store = {
    isAuthenticated: false,
    userSession: null,
};

class EventBus extends Vue {
    store = store
}
export var bus = new EventBus({ data: store });

bus.$on('signin', (userSession:AuthenticateResponse) =&gt; {
    bus.$set(store, 'isAuthenticated', true);
    bus.$set(store, 'userSession', userSession);
})

export const checkAuth = async () =&gt; {
    try {
        bus.$emit('signin', await client.post(new Authenticate()));
    } catch (e) {
        bus.$emit('signout');
    }
}
</code></pre>
<h2 id="react-lite-project-template-features">react-lite Project Template features<a class="header-anchor" href="javascript:;" onclick="location.hash='#react-lite-project-template-features'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>The <a href="https://github.com/NetCoreTemplates/react-lite">react-lite</a> template is functionality equivalent to <strong>vue-lite</strong> but created using
the latest React features. For client-side routing we use React Router's declarative markup defined in
<a href="https://github.com/NetCoreTemplates/react-lite/blob/master/src/main.tsx">main.tsx</a>.</p>
<p>All components are written as Functional Components and makes use of <a href="https://reactjs.org/docs/hooks-intro.html">React's new Hooks functionality</a>
which enable functional components to retain local state. Just like <strong>vue-lite</strong> all high-level controls are encapsulated into reusable
functional components defined in <a href="https://github.com/NetCoreTemplates/react-lite/blob/master/src/shared/controls.tsx">/shared/controls.tsx</a> which
ends up retaining similar markup as <strong>vue-lite</strong> despite their completely different implementations:</p>
<pre><code class="language-tsx">export const SignUpImpl: React.SFC&lt;any&gt; = ({ history }) =&gt; {
    const {state, dispatch} = useContext(StateContext);

    const [loading, setLoading] = useState(false);
    const [responseStatus, setResponseStatus] = useState(null);

    const [displayName, setDisplayName] = useState('');
    const [email, setEmail] = useState('');
    const [password, setPassword] = useState('');
    const [confirmPassword, setConfirmPassword] = useState('');
    const [autoLogin, setAutoLogin] = useState(true);

    const newUser = (email:string) =&gt; {
        const names = email.split('@');
        setDisplayName(toPascalCase(names[0]) + &quot; &quot; + toPascalCase(splitOnFirst(names[1],'.')[0]));
        setEmail(email);
        setPassword('p@55wOrd');
        setConfirmPassword('p@55wOrd');
    }

    const submit = async () =&gt; {
        try {
            setLoading(true);
            setResponseStatus(null);

            const response = await client.post(new Register({
                displayName,
                email,
                password,
                confirmPassword,
                autoLogin,
            }));
            
            await checkAuth(dispatch);
            setLoading(false);

            (history as History).push('/');
        } catch (e) {
            setResponseStatus(e.responseStatus || e);
            setLoading(false);
        }
    };

    return (&lt;div&gt;
        &lt;h3&gt;Register New User&lt;/h3&gt;
    
        &lt;form className={classNames({error:responseStatus, loading})} 
              onSubmit={async e =&gt; { e.preventDefault(); await submit(); }‎}&gt;
            &lt;div className=&quot;form-group&quot;&gt;
                &lt;ErrorSummary responseStatus={responseStatus} except={'displayName,email,password,confirmPassword'} /&gt;
            &lt;/div&gt;
            &lt;div className=&quot;form-group&quot;&gt;
                &lt;Input type=&quot;text&quot; name=&quot;displayName&quot; value={displayName} onChange={setDisplayName} responseStatus={responseStatus} placeholder=&quot;Display Name&quot; /&gt;
            &lt;/div&gt;
            &lt;div className=&quot;form-group&quot;&gt;
                &lt;Input type=&quot;text&quot; name=&quot;email&quot; value={email} onChange={setEmail} responseStatus={responseStatus} placeholder=&quot;Email&quot; /&gt;
            &lt;/div&gt;
            &lt;div className=&quot;form-group&quot;&gt;
                &lt;Input type=&quot;password&quot; name=&quot;password&quot; value={password} onChange={setPassword} responseStatus={responseStatus} placeholder=&quot;Password&quot; /&gt;
            &lt;/div&gt;
            &lt;div className=&quot;form-group&quot;&gt;
                &lt;Input type=&quot;password&quot; name=&quot;confirmPassword&quot; value={confirmPassword} onChange={setConfirmPassword} responseStatus={responseStatus} placeholder=&quot;Confirm&quot; /&gt;
            &lt;/div&gt;
            &lt;div className=&quot;form-group&quot;&gt;
                &lt;CheckBox name=&quot;autoLogin&quot; checked={autoLogin} onChange={setAutoLogin} responseStatus={responseStatus}&gt;
                    Auto Login
                &lt;/CheckBox&gt;
            &lt;/div&gt;
            &lt;div className=&quot;form-group&quot;&gt;
                &lt;button className=&quot;btn btn-lg btn-primary&quot; type=&quot;submit&quot;&gt;Register&lt;/button&gt;
            &lt;/div&gt;
            &lt;div className=&quot;pt-3&quot;&gt;
            &lt;b&gt;Quick Populate:&lt;/b&gt;
                &lt;p className=&quot;pt-1&quot;&gt;
                    &lt;a className=&quot;btn btn-outline-info btn-sm&quot; href=&quot;javascript:void(0)&quot; onClick={() =&gt; newUser('new@user.com')}&gt;new@user.com&lt;/a&gt;
                &lt;/p&gt;
            &lt;/div&gt;
        &lt;/form&gt;
        &lt;/div&gt;);
}

export const SignUp = withRouter(SignUpImpl);
</code></pre>
<p>Which renders the same Bootstrap form UI:</p>
<p><a href="http://react-lite.web-templates.io/signup"><img src="/img/pages/spa/react-lite-registration.png" alt="" /></a></p>
<p>Despite React and Vue's stylistic differences the ServiceStack integration remains the same where the populated <code>Register</code> Request DTO
in <a href="https://github.com/NetCoreTemplates/react-lite/blob/master/src/shared/dtos.ts">/shared/dtos.ts</a> is used to register the User with any failures used to
populate the <code>responseStatus</code> local state where it's reactively referenced in all Input components to render field validation errors against their targeted control:</p>
<p><a href="http://react-lite.web-templates.io/signup"><img src="/img/pages/spa/react-lite-registration-validation.png" alt="" /></a></p>
<h3 id="react-global-state-management">React Global State Management<a class="header-anchor" href="javascript:;" onclick="location.hash='#react-global-state-management'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Likewise with global state management we've leveraged existing functionality instead of depending on an external state library like Redux or MobX.</p>
<p>Instead <strong>react-lite</strong> use React's new <code>useReducer</code> hook within a global <code>StateContext</code> which is made available to all components using
<a href="https://reactjs.org/docs/context.html">React's Context</a> where they're used to dispatch actions that mutate global state:</p>
<pre><code class="language-tsx">const initialState: State = {
  isAuthenticated: false,
  userSession: null
};

const reducer = (state:State, action:Action) =&gt; {
    switch (action.type) {
        case 'signin':
            return { ...state, isAuthenticated:true, userSession:action.data };
        case 'signout':
            return { ...state, isAuthenticated:false, userSession:null };
        default:
            throw new Error();
    }
}

export const StateContext = createContext({} as Context);

export const StateProvider = (props:any) =&gt; {
    const [state, dispatch] = useReducer(reducer, initialState);
    return (&lt;StateContext.Provider value={ { state, dispatch } }&gt;{props.children}&lt;/StateContext.Provider&gt;);
}

type Dispatch = React.Dispatch&lt;Action&gt;;

export const checkAuth = async (dispatch:Dispatch) =&gt; {
    try {
        dispatch({ type: 'signin', data: await client.post(new Authenticate()) });
    } catch (e) {
        dispatch({ type: 'signout' });
    }
};
</code></pre>
<h2 id="lite-project-structure">&quot;lite&quot; Project Structure<a class="header-anchor" href="javascript:;" onclick="location.hash='#lite-project-structure'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Unlike most other project templates which follow our <a href="/physical-project-structure">Recommended Physical Project Structure</a>, the &quot;lite&quot;
project templates are all within a single project as it's more suitable for smaller projects and can be developed using lightweight IDE's
like VS Code which doesn't work well with multi-project solutions.</p>
<p>So what would've been separate projects are being maintained separate folders:</p>
<ul>
<li><a href="https://github.com/NetCoreTemplates/vue-lite/tree/master/ServiceInterface">ServiceInterface/</a></li>
<li><a href="https://github.com/NetCoreTemplates/vue-lite/tree/master/ServiceModel">ServiceModel/</a></li>
</ul>
<p>Where they still retain the same source code and namespaces and can be easily be moved out into a different project when wanting
to upgrade to a multi-project solution.</p>
<h3 id="updating-lite-project-dependencies">Updating &quot;lite&quot; project dependencies<a class="header-anchor" href="javascript:;" onclick="location.hash='#updating-lite-project-dependencies'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>We've also enabled a novel approach for updating your &quot;lite&quot; project 3rd Party dependencies where instead of everyone maintaining their
own bespoke configuration and a tool like <strong>libman</strong> for updating their local dependencies, <strong>vue-lite</strong> projects can just run:</p>
<pre><code>$ web +vue-lite-lib
</code></pre>
<p>To update their <strong>vue-lite</strong> projects with the latest JS libraries and TypeScript definitions used in the default project template.</p>
<p>For <strong>react-lite</strong> projects, run:</p>
<pre><code>$ web +react-lite-lib
</code></pre>
<p>We'll cover how this works in more detail when we announce our <a href="#web-tool"><code>web</code> tool's</a> new capabilities below.</p>
<h3 id="empty-memoryvirtualfiles-now-registered-in-virtualfilesources">Empty MemoryVirtualFiles now registered in VirtualFileSources<a class="header-anchor" href="javascript:;" onclick="location.hash='#empty-memoryvirtualfiles-now-registered-in-virtualfilesources'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>To enable <strong>shadowing</strong> of the <code>WebRoot</code> cascading Virtual File Sources, an empty <code>MemoryVirtualFiles</code> has been added to
<code>InsertVirtualFileSources</code> by default where it gets inserted at the start of <code>VirtualFileSources</code>, i.e:</p>
<pre><code class="language-csharp">new AppHost {
    InsertVirtualFileSources = { new MemoryVirtualFiles() } 
}
</code></pre>
<p>If needed, the individual Memory and FileSystem VFS providers in the WebRoot VFS Sources can be accessed with:</p>
<pre><code class="language-csharp">var memFs = appHost.VirtualFileSources.GetMemoryVirtualFiles();
var diskFs = appHost.VirtualFileSources.GetFileSystemVirtualFiles();
</code></pre>
<p>Which are also available from the <code>HostContext</code> singleton:</p>
<ul>
<li><code>HostContext.MemoryVirtualFiles</code> - <strong>WebRoot</strong> MemoryVirtualFiles</li>
<li><code>HostContext.FileSystemVirtualFiles</code> - <strong>WebRoot</strong> FileSystem</li>
</ul>
<p>The <strong>WebRoot</strong> Directory and <strong>ContentRoot</strong> Directories are also available from:</p>
<ul>
<li><code>HostContext.RootDirectory</code> - <strong>WebRoot</strong> <code>wwwroot/</code></li>
<li><code>HostContext.ContentRootDirectory</code> - <strong>ContentRoot</strong> <code>/</code></li>
</ul>
<h2 id="sharp-script">Sharp Script<a class="header-anchor" href="javascript:;" onclick="location.hash='#sharp-script'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p><a href="https://sharpscript.net"><img src="/img/pages/sharpscript/logo.png" alt="" /></a></p>
<h2 align="center"><a href="https://sharpscript.net">sharpscript.net</a></h2>
<h3 id="script-fka-servicestack-templates"><code>#Script</code> (fka ServiceStack Templates)<a class="header-anchor" href="javascript:;" onclick="location.hash='#script-fka-servicestack-templates'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>As we continue enhancing ServiceStack's scripting support with exciting new features, it no longer made sense to call our dynamic scripting language
&quot;Templates&quot; which is just one of the many use-cases <code>#Script</code> enables.</p>
<p><a href="https://sharpscript.net">#Script</a> is typical of a popular dynamic template language you'd find in other platforms, using the ubiquitously familiar mix of
<a href="https://sharpscript.net/docs/expression-viewer">JavaScript Expressions</a> which for increased wrist-friendly readability can be easily composed
together using the Unix <code>|</code> operator as embraced by <a href="https://vuejs.org/v2/guide/syntax.html#header">Vue.js filters</a> and
<a href="https://angular.io/guide/template-syntax#template-expression-operators">Angular's Template Expressions</a>
whist the <a href="https://sharpscript.net/docs/blocks">Script Statement Blocks</a> adopt the universally adopted Handlebars-like syntax that's ideal for
rendering dynamic pages.</p>
<p><code>#Script</code> is contained within the pure <code>ServiceStack.Common</code> library that as it doesn't require any compilation or reliance on any
external build tools is embeddable within any <strong>.NET v4.5</strong> or <strong>.NET Standard 2.0</strong> App, even within Environments that don't allow
<code>Reflection.Emit</code> thanks to the cascading implementations of <a href="/reflection-utils">Reflection Utils</a>.</p>
<p><code>#Script</code> is also completely customizable where all the <strong>script methods</strong> and <strong>blocks</strong> can easily be removed or shadowed and replaced to create your
own DSL language. Alternatively you can use its <a href="/js-utils#evaluating-javascript-expressions">AST parsing APIs</a> directly to create, parse and evaluate ASTs
from free-form JavaScript expressions.</p>
<h3 id="optimal-for-generating-html-and-live-scripting-environments">Optimal for generating HTML and Live Scripting Environments<a class="header-anchor" href="javascript:;" onclick="location.hash='#optimal-for-generating-html-and-live-scripting-environments'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>We're staunch proponents for using typed languages like C# for developing compiler-checked server software but we prefer using dynamic
languages for creating UIs which are typically constantly changing, single purpose &quot;end-user scripts&quot; where we believe it's more valuable to
have a flexible and highly iterative and productive workflow than be confronted with the friction and delays imposed by a static type system - that's especially cumbersome
in text generation tasks like dynamic HTML pages. We see this as the main reason why innovative Reactive UI frameworks like React and Vue don't work well translated in C#
where the friction and boilerplate imposed by conforming to static and generic typed structures inhibits the productivity and fast iteration that dynamic languages enjoy.</p>
<h4 id="unrestricted-flexibility">Unrestricted flexibility<a class="header-anchor" href="javascript:;" onclick="location.hash='#unrestricted-flexibility'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>The flexibility, extensibility, expendability of <code>#Script</code> ensures we can use it anywhere, e.g. the same UI logic and controls we use to render
dynamic HTML pages can also be re-used inside Services to render Emails and run in stand-alone scripts. It also becomes trivial to unit test
any partial fragments and functionality in isolation where the <code>ScriptContext</code> can easily be re-created and any functionality simulated.</p>
<p>As <code>#Script</code> is not shackled to external tooling or constrained by MVC Razor conventions it's unrestricted with which features and capabilities
we can add to <code>#Script</code> - where it's already being used to power a number of exciting scenarios.</p>
<h3 id="sharp-apps">Sharp Apps<a class="header-anchor" href="javascript:;" onclick="location.hash='#sharp-apps'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>In our last release we can see how we can use <code>#Script</code> to build <a href="https://sharpscript.net/docs/sharp-apps">Sharp Apps</a> in real-time:</p>
<p><lite-youtube class="w-full mx-4 my-4" width="560" height="315" videoid="Cf-vstYXrmY" style="background-image: url('https://img.youtube.com/vi/Cf-vstYXrmY/maxresdefault.jpg')"></lite-youtube></p>
<h3 id="sharp-apis">Sharp APIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#sharp-apis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><code>#Script</code> is also the fastest way to create APIs in .NET, which can also be created in real-time without compilation where you can use page based
routing to define your API at <a href="https://github.com/sharp-apps/Blog/blob/master/hello/_name/index.html">/hello/_name/index.html</a> (or <code>/hello/_name.html</code>)
that just returns a JS object literal:</p>
<pre><code class="language-hbs">{‎{ { result: `Hello, ${name}!` } | return }‎}
</code></pre>
<p>Which returns the same JSON wire-format as the equivalent ServiceStack Service:</p>
<pre><code class="language-csharp">[Route(&quot;/hello/{Name}&quot;)]
public class Hello : IReturn&lt;HelloResponse&gt;
{
    public string Name { get; set; }
}
public class HelloResponse
{
    public string Result { get; set; }
}

public class HelloService : Service
{
    public object Any(Hello request) =&gt; new HelloResponse { Result = $&quot;Hello, {request.Name}!&quot; };
}
</code></pre>
<p>Which also supports standard HTTP Content Negotiation available in all registered Content Types:</p>
<ul>
<li><a href="http://blog.web-app.io/hello/World?format=html">/hello/World?format=html</a></li>
<li><a href="http://blog.web-app.io/hello/World?format=json">/hello/World?format=json</a></li>
<li><a href="http://blog.web-app.io/hello/World?format=xml">/hello/World?format=xml</a></li>
<li><a href="http://blog.web-app.io/hello/World?format=csv">/hello/World?format=csv</a></li>
<li><a href="http://blog.web-app.io/hello/World?format=jsv">/hello/World?format=jsv</a></li>
</ul>
<blockquote>
<p>Note: as Sharp APIs are untyped they don't benefit from ServiceStack's metadata features around its Typed Services</p>
</blockquote>
<h3 id="sharp-scripts">Sharp Scripts<a class="header-anchor" href="javascript:;" onclick="location.hash='#sharp-scripts'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>In addition to being a versatile utility tool belt, our <code>web</code> (and <code>app</code>) .NET Core tools also serve as a <code>#Script</code> runner. We've seen a
glimpse of this with <a href="#pre-compiled-minified-production-bundles">_bundle.ss script above</a> which is run with <code>web run {script}</code>:</p>
<pre><code>$ web run wwwroot/_bundle.ss
</code></pre>
<p><strong><a href="https://sharpscript.net/docs/sharp-scripts">Sharp Scripts</a></strong> are <strong>run in the same context</strong> and have access to the same functionality and features as a
<a href="https://sharpscript.net/docs/sharp-apps">Sharp App</a> including extensibility va <a href="https://sharpscript.net/docs/sharp-apps#plugins">custom plugins</a>.
They can run <strong>stand-alone</strong> independent of an
<a href="https://sharpscript.net/docs/sharp-apps#ideal-for-web-designers-and-content-authors">app.settings</a> config file, instead the app settings configuration
can be added in its page arguments to enable or configure any features.</p>
<p>Lets go through a couple of different possibilities we can do with scripts:</p>
<h3 id="adhoc-reports">Adhoc reports<a class="header-anchor" href="javascript:;" onclick="location.hash='#adhoc-reports'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Scripts can use the built-in <a href="https://sharpscript.net/docs/db-scripts">Database Scripts</a> to be able to <a href="https://sharpscript.net/docs/sharp-apps#multi-platform-configurations">run queries against any</a> <code>sqlite</code>, <code>sqlserver</code>, <code>mysql</code> and <code>postgres</code> database and quickly view data snapshots using the built-in
<a href="https://sharpscript.net/docs/html-scripts#htmldump">HTML Scripts</a>, e.g:</p>
<div class="v-pre">
<pre><code class="language-hbs">&lt;!--
db sqlite
db.connection ~/../apps/northwind.sqlite
--&gt;

&lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot;&gt;
&lt;style&gt;body {padding:1em} caption{caption-side:top;}&lt;/style&gt;
&lt;h1 class=&quot;py-2&quot;&gt;Order Report #{‎{id}‎}&lt;/h1&gt;

{‎{ `SELECT o.Id, OrderDate, CustomerId, Freight, e.Id as EmployeeId, s.CompanyName as ShipVia, 
           ShipAddress, ShipCity, ShipPostalCode, ShipCountry
      FROM &quot;Order&quot; o
           INNER JOIN
           Employee e ON o.EmployeeId = e.Id
           INNER JOIN
           Shipper s ON o.ShipVia = s.Id
     WHERE o.Id = @id` 
  | dbSingle({ id }) | assignTo: order }‎}

{‎{#with order}‎}
  {‎{ &quot;table table-striped&quot; | assignTo: className }‎}
  &lt;style&gt;table {border: 5px solid transparent} th {white-space: nowrap}&lt;/style&gt;
  
  &lt;div style=&quot;display:flex&quot;&gt;
      {‎{ order | htmlDump({ caption: 'Order Details', className }) }‎}
      {‎{ `SELECT * FROM Customer WHERE Id = @CustomerId` 
         | dbSingle({ CustomerId }) | htmlDump({ caption: `Customer Details`, className }) }‎}
      {‎{ `SELECT Id, LastName, FirstName, Title, City, Country, Extension FROM Employee WHERE Id=@EmployeeId` 
         | dbSingle({ EmployeeId }) | htmlDump({ caption: `Employee Details`, className }) }‎}
  &lt;/div&gt;

  {‎{ `SELECT p.ProductName, ${sqlCurrency(&quot;od.UnitPrice&quot;)} UnitPrice, Quantity, Discount
        FROM OrderDetail od
             INNER JOIN
             Product p ON od.ProductId = p.Id
       WHERE OrderId = @id`
      | dbSelect({ id }) 
      | htmlDump({ caption: &quot;Line Items&quot;, className }) }‎}
{‎{else}‎}
  {‎{ `There is no Order with id: ${id}` }‎}
{‎{/with}‎}
</code></pre>
<h4 id="specifying-script-arguments">Specifying Script Arguments<a class="header-anchor" href="javascript:;" onclick="location.hash='#specifying-script-arguments'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>The above script generates a static HTML page can be invoked with <strong>any number of named arguments</strong> after the script name, in this case it
generates a report for Northwind Order <strong>#10643</strong>, saves it to <code>10643.html</code> and opens it in the OS's default browser:</p>
<pre><code>    $ web run script.html -id 10643 &gt; 10643.html &amp;&amp; start 10643.html
</code></pre>
<p>Which looks like:</p>
<p><img src="/img/pages/sharpscript/10643.html.png" alt="" /></p>
<h3 id="textdump">textDump<a class="header-anchor" href="javascript:;" onclick="location.hash='#textdump'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Generating static <code>.html</code> pages can quickly produce reports that looks good enough to share with others,
but if you just want to see a snapshot info at a glance or be able to share in text-based mediums like email or chat
channels you can replace <code>htmlDump</code> with <code>textDump</code> where it will instead output GitHub flavored Markdown tables, e.g:</p>
<pre><code class="language-hbs">&lt;!--
db sqlite
db.connection ~/../apps/northwind.sqlite
--&gt;

{‎{ `SELECT o.Id, OrderDate, CustomerId, Freight, e.Id as EmployeeId, s.CompanyName as ShipVia, 
           ShipAddress, ShipCity, ShipPostalCode, ShipCountry
      FROM &quot;Order&quot; o
           INNER JOIN
           Employee e ON o.EmployeeId = e.Id
           INNER JOIN
           Shipper s ON o.ShipVia = s.Id
     WHERE o.Id = @id` 
  | dbSingle({ id }) | assignTo: order }‎}

{‎{#with order}‎}

{‎{ order | textDump({ caption: 'Order Details' }) }‎}

{‎{ `SELECT p.ProductName, ${sqlCurrency(&quot;od.UnitPrice&quot;)} UnitPrice, Quantity, Discount
      FROM OrderDetail od
           INNER JOIN
           Product p ON od.ProductId = p.Id
     WHERE OrderId = @id`
    | dbSelect({ id }) 
    | textDump({ caption: &quot;Line Items&quot; }) 
}‎}
{‎{ `SELECT ${sqlCurrency(&quot;(od.UnitPrice * Quantity)&quot;)} AS OrderTotals 
      FROM OrderDetail od
           INNER JOIN
           Product p ON od.ProductId = p.Id
     WHERE OrderId = @id 
     ORDER BY 1 DESC`
    | dbSelect({ id }) 
    | textDump({ rowNumbers: false }) }‎}
{‎{else}‎}
  {‎{ `There is no Order with id: ${id}` }‎}
{‎{/with}‎}
</code></pre>
<p>As the output is human-readable we can view directly it without a browser:</p>
<pre><code>$ web run script.ss -id 10643 
</code></pre>
<p>Which will output:</p>
<pre><code class="language-markdown">| Order Details                    ||
|------------------|----------------|
| Id               | 10643          |
| Order Date       | 1997-08-25     |
| Customer Id      | ALFKI          |
| Freight          | 29.46          |
| Employee Id      | 6              |
| Ship Via         | Speedy Express |
| Ship Address     | Obere Str. 57  |
| Ship City        | Berlin         |
| Ship Postal Code | 12209          |
| Ship Country     | Germany        |


Line Items

| # | Product Name      | Unit Price | Quantity | Discount |
|---|-------------------|------------|----------|----------|
| 1 | Rössle Sauerkraut | $45.60     | 15       | 0.25     |
| 2 | Chartreuse verte  | $18.00     | 21       | 0.25     |
| 3 | Spegesild         | $12.00     | 2        | 0.25     |


| Order Totals |
|--------------|
| $684.00      |
| $378.00      |
| $24.00       |
</code></pre>
<p>And because they're GitHub Flavored Markdown Tables they can be embedded directly in Markdown docs (like this) where it's renders as:</p>
<p><textDump></textDump></p>
<h3 id="aws-dashboards">AWS Dashboards<a class="header-anchor" href="javascript:;" onclick="location.hash='#aws-dashboards'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The <a href="https://sharpscript.net/docs/default-scripts">comprehensive built-in scripts</a> coupled with ServiceStack's agnostic
providers like the <a href="/virtual-file-system">Virtual File System</a> makes it easy to quickly query infrastructure resources
like all Tables and Row counts in managed AWS RDS Instances or Search for static Asset resources in S3 Buckets.</p>
<pre><code class="language-hbs">&lt;!--
db postgres
db.connection $AWS_RDS_POSTGRES
files s3
files.config {AccessKey:$AWS_S3_ACCESS_KEY,SecretKey:$AWS_S3_SECRET_KEY,Region:us-east-1,Bucket:rockwind}
--&gt;

{‎{ dbTableNamesWithRowCounts | textDump({ caption: 'Tables' }) }‎}

{‎{ `SELECT &quot;Id&quot;, &quot;CustomerId&quot;, &quot;EmployeeId&quot;, &quot;OrderDate&quot; from &quot;Order&quot; ORDER BY &quot;Id&quot; DESC ${sqlLimit(5)}`
   | dbSelect | textDump({ caption: 'Last 5 Orders', headerStyle:'None' }) }‎}

{‎{ contentAllRootDirectories | map =&gt; `${it.Name}/`
   | union(map(contentAllRootFiles, x =&gt; x.Name))
   | textDump({ caption: 'Root Files and Folders' }) }‎}

{‎{ find ?? '*.html' | assignTo: find }‎}
{‎{ find | contentFilesFind | map =&gt; it.VirtualPath | take(15) 
   | textDump({ caption: `Files matching: ${find}` }) }‎}
</code></pre>
<p>You can use <code>$NAME</code> to move confidential information out of public scripts where it will be replaced with Environment
Variables. Then run the script as normal and optionally override the <code>find</code> pattern for files you want to search for:</p>
<pre><code>$ web run script-aws.ss -find *.png
</code></pre>
<p>Where it displays a dashboard of activity from your AWS resources: containing all Tables with their Row Counts,
adhoc queries like your last 5 Orders, The Root files and Folders available in your S3 Bucket and any matching resources
from your <code>find</code> search pattern:</p>
<pre><code class="language-markdown">| Tables                   ||
|--------------------|------|
| Order Detail       | 2155 |
| Order              | 830  |
| Customer           | 91   |
| Product            | 77   |
| Territory          | 53   |
| Region             | 0    |
| Shipper            | 0    |
| Supplier           | 0    |
| Category           | 0    |
| Employee           | 0    |
| Employee Territory | 0    |


Last 5 Orders

| # | Id    | CustomerId | EmployeeId | OrderDate  |
|---|-------|------------|------------|------------|
| 1 | 11077 | RATTC      | 1          | 1998-05-06 |
| 2 | 11076 | BONAP      | 4          | 1998-05-06 |
| 3 | 11075 | RICSU      | 8          | 1998-05-06 |
| 4 | 11074 | SIMOB      | 7          | 1998-05-06 |
| 5 | 11073 | PERIC      | 2          | 1998-05-05 |


| Root Files and Folders |
|------------------------|
| api/                   |
| northwind/             |
| rockstars/             |
| index.html             |
| web.aws.settings       |
| web.postgres.settings  |
| web.sqlite.settings    |
| web.sqlserver.settings |


| Files matching: *.png                   |
|-----------------------------------------|
| assets/img/logo-32.png                  |
| rockstars/img/green_dust_scratch.png    |
| rockstars/img/rip_jobs.png              |
| rockstars/img/tileable_wood_texture.png |
</code></pre>
<h3 id="azure-dashboards">Azure Dashboards<a class="header-anchor" href="javascript:;" onclick="location.hash='#azure-dashboards'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The nice thing about <code>#Script</code> late-binding and cloud agnostic providers is that with just different configuration we
can <strong>use the exact same script</strong> to query an Azure managed SQL Server Database and Azure Blob File Storage:</p>
<pre><code class="language-hbs">&lt;!--
db sqlserver
db.connection $AZURE_SQL_CONNECTION_STRING
files azure
files.config {ConnectionString:$AZURE_BLOB_CONNECTION_STRING,ContainerName:rockwind}
--&gt;

{‎{ dbTableNamesWithRowCounts |&gt; textDump({ caption: 'Tables' }) }‎}

{‎{ `SELECT &quot;Id&quot;, &quot;CustomerId&quot;, &quot;EmployeeId&quot;, &quot;OrderDate&quot; from &quot;Order&quot; ORDER BY &quot;Id&quot; DESC ${sqlLimit(5)}`
   |&gt; dbSelect |&gt; textDump({ caption: 'Last 5 Orders', headerStyle:'None' }) }‎}

{‎{ contentAllRootDirectories | map =&gt; `${it.Name}/` 
   |&gt; union(map(contentAllRootFiles, x =&gt; x.Name))
   |&gt; textDump({ caption: 'Root Files and Folders' }) }‎}

{‎{ find ?? '*.html' |&gt; to =&gt; find }‎}
{‎{ find |&gt; contentFilesFind |&gt; map =&gt; it.VirtualPath | take(5) 
   |&gt; textDump({ caption: `Files matching: ${find}` }) }‎}
</code></pre>
<h2 id="live-script-with-web-watch">Live #Script with <code>web watch</code><a class="header-anchor" href="javascript:;" onclick="location.hash='#live-script-with-web-watch'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>What's even nicer than the fast feedback of running adhoc scripts? Is the instant feedback you get from being able to <strong>&quot;watch&quot;</strong> the same script!</p>
<p>To watch a script just replace <code>run</code> with <code>watch</code>:</p>
<pre><code>$ web watch script-aws.ss -find *.png
</code></pre>
<p><a href="https://sharpscript.net/docs/sharp-scripts"><img src="/img/pages/sharpscript/watch-aws-azure.gif" alt="" /></a></p>
<p>The ability to run stand-alone adhoc scripts in an extensible dynamic scripting language feels like you're
using a &quot;developer enhanced&quot; SQL Studio, where you can combine queries from multiple data sources, <a href="https://sharpscript.net/linq/restriction-operators">manipulate them with LINQ</a>
and quickly pipe results to dump utils to combine them in the same output for instant visualization.</p>
<p><code>#Script</code> scripts can also be easily shared, maintained in gists and run on all different Win/OSX/Linux OS's that .NET Core runs on.</p>
<h3 id="live-transformations">Live Transformations<a class="header-anchor" href="javascript:;" onclick="location.hash='#live-transformations'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Another area where &quot;watched&quot; scripts can shine is as a &quot;companion scratch pad&quot; assistant during development that you can quickly switch to
and instantly test out live code fragments, calculations and transformations, e.g. This ends up being a great way to test out markdown syntax
and Nuglify's advanced compression using our new <code>minifyjs</code> and <code>minifycss</code> <a href="https://sharpscript.net/docs/blocks">Script Blocks</a>:</p>
<pre><code class="language-hbs">&lt;!--
debug false
--&gt;

Markdown:
{‎{#markdown}‎}
## Title

&gt; quote

Paragraph with [a link](https://example.org).
{‎{/markdown}‎}

JS:
{‎{#minifyjs}‎}
function add(left, right) {
    return left + right;
}
add(1, 2);
{‎{/minifyjs}‎}


CSS:
{‎{#minifycss}‎}
body {
    background-color: #ffffff;
}
{‎{/minifycss}‎}
</code></pre>
<p>Then run with:</p>
<pre><code>    $ web watch livepad.ss
</code></pre>
<p>Which starts a live watched session that re-renders itself on save, initially with:</p>
<pre><code>Markdown:
&lt;h2 id=&quot;title&quot;&gt;Title&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;quote&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Paragraph with &lt;a href=&quot;https://example.org&quot;&gt;a link&lt;/a&gt;.&lt;/p&gt;

JS:
function add(n,t){return n+t}add(1,2)

CSS:
body{background-color:#fff}
</code></pre>
<h3 id="live-session">Live Session<a class="header-anchor" href="javascript:;" onclick="location.hash='#live-session'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><a href="https://sharpscript.net/docs/sharp-scripts"><img src="/img/pages/sharpscript/livepad.gif" alt="" /></a></p>
<h3 id="usage-in.net">Usage in .NET<a class="header-anchor" href="javascript:;" onclick="location.hash='#usage-in.net'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>To evaluate <code>#Script</code> in .NET you'll first create the <code>ScriptContext</code> containing all functionality and features your Scripts have access to:</p>
<pre><code class="language-csharp">var context = new ScriptContext {
    Args = { ... },               // Global Arguments available to all Scripts, Pages, Partials, etc
    Plugins = { ... },            // Encapsulated Features, e.g. Markdown, Protected or ServiceStack Features
    ScriptMethods = { ... },      // Additional Methods
    ScriptBlocks = { ... },       // Additional Script Blocks 
    FilterTransformers = { ... }, // Additional Stream Transformers
    ScanTypes = { ... },          // Auto register Methods, Blocks and Code Page Types
    ScanAssemblies = { ... },     // Auto register all Methods, Blocks and Code Page Types in Assembly
    PageFormats = { ... },        // Additional Text Document Formats
}.Init();
</code></pre>
<p>Then call <code>EvaluateScript()</code> to evaluate the script and capture it's rendered output in a string:</p>
<pre><code class="language-csharp">string output = context.EvaluateScript(&quot;The time is now: {‎{ now | dateFormat('HH:mm:ss') }‎}&quot;);
</code></pre>
<h3 id="evaluating-scripts-with-return-values">Evaluating Scripts with return values<a class="header-anchor" href="javascript:;" onclick="location.hash='#evaluating-scripts-with-return-values'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><code>#Script</code> can render text as above or they can return values using the <code>return</code> method where it can be accessed using <code>Evaluate()</code>:</p>
<pre><code class="language-csharp">var result = context.Evaluate(&quot;1 + 1 = {‎{ 1 + 1 | return }‎}.&quot;); //= 2
</code></pre>
<p>The generic version utilizes ServiceStack's powerful built-in conversion utils to convert the return value into your preferred type, e.g:</p>
<pre><code class="language-csharp">double result = context.Evaluate&lt;double&gt;(&quot;1 + 1 = {‎{ return(1 + 1) }‎}.&quot;); //= 2.0
string result = context.Evaluate&lt;string&gt;(&quot;1 + 1 = {‎{ return(1 + 1) }‎}.&quot;); //= &quot;2&quot;
</code></pre>
<p>But can also be used for more powerful conversions like converting an Object Dictionary into your preferred POCO:</p>
<pre><code class="language-csharp">var result = context.Evaluate&lt;Customer&gt;(&quot;{‎{`select * from customer where id=@id` | dbSingle({id}) | return }‎}&quot;,
    new ObjectDictionary {
        [&quot;id&quot;] = 1
    });
</code></pre>
<h3 id="optimized-for.net">Optimized for .NET<a class="header-anchor" href="javascript:;" onclick="location.hash='#optimized-for.net'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>To enable JS-like dynamism when binding to .NET methods, <code>#Script</code> automatically converts arguments for Types that don't match.
One of the effects of this is that you can define a single method with <code>double</code> params:</p>
<pre><code class="language-csharp">class MyMethods : ScriptMethods
{
    public double add(double a, double b) =&gt; a + b;
}
</code></pre>
<p>And be able to call it with any .NET numeric type, e.g:</p>
<pre><code class="language-csharp">var context = new ScriptContext { ScriptMethods = { new MyMethods() } }.Init();
context.EvaluateScript(&quot;{‎{ add(1,1) }‎}&quot;);
</code></pre>
<p>Where it will convert all <code>int</code> arguments into <code>double</code> before executing your method.</p>
<blockquote>
<p>For improved performance the Default scripts <a href="https://sharpscript.net/docs/default-scripts#arithmetic">arithmetic and Math</a> methods
avoid any numeric conversions themselves by using <code>DynamicNumber</code> which delegates it to use the optimal concrete arithmetic methods.</p>
</blockquote>
<h3 id="auto-async-io-and-stream-transformations">Auto Async I/O and Stream Transformations<a class="header-anchor" href="javascript:;" onclick="location.hash='#auto-async-io-and-stream-transformations'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><code>#Script</code> makes it easy to write composable, intent-based self-documenting code, e.g it's clear that the expression below makes a database call
to fetch a URL from the <code>qotd</code> table, downloads the URL Contents, transforms its markdown contents and assigns the results to the <code>quote</code> argument:</p>
<pre><code class="language-csharp">{‎{ 'select url from qotd where id = @id' 
   | dbScalar({ id }) | urlContents | markdown | assignTo: quote }‎}
</code></pre>
<p>How it does it becomes an implementation detail, e.g. with this naive implementation below it will make a <strong>Sync DB</strong> call then
download the entire URL contents before passing it to the <code>markdown()</code> method to convert it to HTML:</p>
<pre><code class="language-csharp">class MyMethods : ScriptMethods
{
    public string urlContents(string url) =&gt; url.GetStringFromUrl();
    public string markdown(string markdown) =&gt; MarkdownConfig.Transform(markdown);
}

var context = new ScriptContext {
    InsertScriptMethods = { 
        new MyMethods(), 
        new DbScripts(),
    }
}.Init();
</code></pre>
<p>But <strong>without changing any of the script code</strong> we can use the more optimal built-in implementation:</p>
<pre><code class="language-csharp">var context = new ScriptContext {
    Plugins = { new MarkdownScriptPlugin() },
    ScriptMethods = { new DbScriptsAsync() },
}.Init();
</code></pre>
<p>Where <code>dbScalar</code> is now an async API that returns a <code>Task&lt;object&gt;</code> which is automatically <strong>awaited</strong> before the async <code>urlContents</code> method
is called which makes an Async I/O HTTP Call to asynchronously write the response to the <code>OutputStream</code> before it's passed to the <code>markdown</code>
<a href="https://sharpscript.net/docs/transformers#filter-transformers">Filter Transformer</a> which reads markdown from an async Input <code>Stream</code>
and returns a <code>Stream</code> of HTML, the rendered text output is then captured and stored in the <code>quote</code> string argument.</p>
<p>So whilst both implementations end up with the same result, they achieve it differently where no additional boilerplate is required
to enlist the more performant async streaming implementation below.</p>
<h2 id="breaking-changes">Breaking Changes<a class="header-anchor" href="javascript:;" onclick="location.hash='#breaking-changes'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>There were 2 major changes which can cause breaking changes in <code>#Script</code>:</p>
<h3 id="servicestack.script-rebrand">ServiceStack.Script rebrand<a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack.script-rebrand'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Despite the re-branding to <code>#Script</code> we were able to retain most source-code compatibility where the previous &quot;Old APIs&quot; under <code>ServiceStack.Templates</code>
are now <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Common/Templates/TemplateContext.cs">deprecated stubs</a>
that inherit the new APIs under <code>ServiceStack.Script</code>. All deprecation messages contain the newer classes that you should move to.</p>
<p>Some classes couldn't be duplicated, like if you were using <code>PageResult</code> in your Services. They now require adding:</p>
<pre><code class="language-csharp">using ServiceStack.Script;
</code></pre>
<p>Which is effectively the <a href="https://github.com/NetCoreApps/TemplatePages/commit/7f2fd9f22ef9d92927bd8dc8157f89b8195fdb6c">only changes</a>
that <a href="https://github.com/NetCoreApps/TemplatePages">ServiceStack Templates</a> needed to run on the latest version.</p>
<p><a href="https://github.com/NetCoreApps/TemplatePages">ServiceStack Templates</a> still uses and documents the old <code>ServiceStack.Template</code> APIs whilst the
new <a href="https://sharpscript.net">sharpscript.net</a> is the new website for <code>#Script</code> which has been converted to use and document the new <code>ServiceStack.Script</code> APIs.</p>
<p>To verify minimal disruption to existing APIs, most were converted into unit tests in
<a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/ScriptTests/BAK_CompatTemplateTests.cs">BAK_CompatTemplateTests.cs</a>.</p>
<h3 id="migration-to-new-script-apis">Migration to new Script APIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#migration-to-new-script-apis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Migrating to the new APIs is fairly straight forward:</p>
<ul>
<li>Change <code>using ServiceStack.Templates;</code> to <code>using ServiceStack.Script;</code></li>
<li>Any classes with <code>TemplatePage*</code> has been renamed to <code>SharpPage*</code></li>
<li>Any other class with a <code>Template*</code> prefix has been renamed to <code>Script*</code></li>
</ul>
<p>This change doesn't affect any of your existing <code>#Script</code> source code whose existing syntax and available filters/methods remains unchanged.</p>
<h4 id="new-terminology">New Terminology<a class="header-anchor" href="javascript:;" onclick="location.hash='#new-terminology'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>The primary rationale for the rebranding was so we're better able to label, describe and document all of <code>#Script</code> different features easier,
so when referring to Templates <strong>View Engine</strong> we're now calling <strong>#Script Pages</strong> which is a better corollary to &quot;Razor Pages&quot;
which it provides an alternative to.</p>
<p>Other re-branded features:</p>
<ul>
<li><strong>API Pages</strong> are now called <a href="https://sharpscript.net/docs/sharp-apis">Sharp APIs</a></li>
<li><strong>Web Apps</strong> are now called <a href="https://sharpscript.net/docs/sharp-apps">Sharp Apps</a></li>
<li><strong>Template Filters</strong> are now called <a href="https://sharpscript.net/docs/methods">Script Methods</a></li>
<li><strong>Template Blocks</strong> are now called <a href="https://sharpscript.net/docs/methods">Script Blocks</a></li>
</ul>
<p>The collection of methods you inject in your scripts like <code>TemplateRedisFilters</code> and <code>TemplateDbFilters</code> are now referred to as &quot;Scripts&quot;
where they've been renamed to <code>RedisScripts</code> and <code>DbScripts</code>.</p>
<h3 id="request-params-are-no-longer-imported-by-default">Request Params are no longer imported by default<a class="header-anchor" href="javascript:;" onclick="location.hash='#request-params-are-no-longer-imported-by-default'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>A major change that will require changing existing scripts is that Request Parameters are no longer imported by default and will need to
explicitly accessed or imported.</p>
<p>Previously you could access the <code>?id=1</code> queryString param in your page with:</p>
<pre><code>{‎{ id }‎}
</code></pre>
<p>This now needs to be explicitly accessed using the new <code>query</code> or shorter <code>qs</code> alias:</p>
<pre><code>{‎{ qs.id }‎}
</code></pre>
<p>For HTTP Form Data Params use:</p>
<pre><code>    {‎{ form.id }‎}
</code></pre>
<h4 id="importrequestparams">importRequestParams<a class="header-anchor" href="javascript:;" onclick="location.hash='#importrequestparams'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>The least disruption to existing Pages would be to specify a white-list of arguments you want to import at the top of your page:</p>
<pre><code class="language-hbs">{‎{ 'id,name,age' | importRequestParams }‎}
</code></pre>
<p>Or if preferred, you can specify a collection of param names instead:</p>
<pre><code class="language-hbs">{‎{ ['id','name','age'] | importRequestParams }‎}
</code></pre>
<h4 id="allow-all-request-params-in-a-page">Allow all Request Params in a page<a class="header-anchor" href="javascript:;" onclick="location.hash='#allow-all-request-params-in-a-page'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>There's a local nuclear option that you can use to temporarily restore previous behavior in adhoc pages by calling <code>importRequestParams</code>
without any arguments:</p>
<pre><code class="language-hbs">{‎{ importRequestParams }‎}
</code></pre>
<p>Which you can add at the top of adhoc pages to import all QueryString and FormData params as page arguments.</p>
<h4 id="allow-all-request-params-globally">Allow all Request Params Globally<a class="header-anchor" href="javascript:;" onclick="location.hash='#allow-all-request-params-globally'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>There's also the unrecommended global nuclear option of reverting to the previous behaving and always importing all Request Params in all pages:</p>
<pre><code class="language-csharp">Plugins.Add(new SharpPagesFeature {
    ImportRequestParams = true
});
</code></pre>
<h3 id="no-impact-on-page-based-routing">No impact on page based routing<a class="header-anchor" href="javascript:;" onclick="location.hash='#no-impact-on-page-based-routing'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>This doesn't impact page based routing as the path info arguments are explicitly declared in the file or directory name, e.g:</p>
<ul>
<li><code>/posts/_slug.html</code> called from <code>/posts/A</code> still populates <code>slug</code> with <strong>A</strong></li>
<li><code>/posts/_slug/edit.html</code> called from <code>/posts/A/edit</code> still populates <code>slug</code> with <strong>A</strong></li>
</ul>
<h3 id="request-param-methods">Request Param Methods<a class="header-anchor" href="javascript:;" onclick="location.hash='#request-param-methods'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>To make it accessing the Request Params as easy as possible we've added a number of new methods to access it in a variety of different ways:</p>
<table>
<thead>
<tr>
<th>Query Methods</th>
<th></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>formQuery(name)</td>
<td>-&gt; string</td>
<td>FormData[name] ?? QueryString[name]</td>
</tr>
<tr>
<td>formQueryValues(name)</td>
<td>-&gt; string[]</td>
<td>FormData[name]</td>
</tr>
<tr>
<td>httpParam(name)</td>
<td>-&gt; string</td>
<td>Headers[X-name] ?? QueryString[name] ?? FormData[name] ?? Item[name]</td>
</tr>
<tr>
<td>queryString</td>
<td>-&gt; string</td>
<td>$&quot;?{QueryString.ToString()}&quot;</td>
</tr>
<tr>
<td>queryDictionary</td>
<td>-&gt; Dictionary</td>
<td>QueryString.ToObjectDictionary()</td>
</tr>
<tr>
<td>formDictionary</td>
<td>-&gt; Dictionary</td>
<td>FormData.ToObjectDictionary()</td>
</tr>
<tr>
<td>formValue(name)</td>
<td>-&gt; string</td>
<td>if (hasError) FormData[name] ?? QueryString[name]</td>
</tr>
<tr>
<td>formValues(name)</td>
<td>-&gt; string[]</td>
<td>if (hasError) FormData[name] ?? QueryString[name]</td>
</tr>
<tr>
<td>formCheckValue(name)</td>
<td>-&gt; bool</td>
<td>formValue(name) in [ &quot;true&quot;, &quot;t&quot;, &quot;on&quot;, &quot;1&quot; ]</td>
</tr>
</tbody>
</table>
<p>Here's a flavor of how of using the different APIs above:</p>
<pre><code class="language-hbs">{‎{ `?${qs}`        | addQueryString({ qs3:3}) }‎}
{‎{ queryString     | addQueryString({ qs3:3}) }‎}
{‎{ qs              | toObjectDictionary     | addItem({ qs3:3 }) | toQueryString }‎}
{‎{ queryDictionary | addItem({ qs3:3 })     | toQueryString }‎}
{‎{ queryDictionary | addItem(pair('qs3',3)) | toQueryString }‎}
</code></pre>
<p>Which all return the same result:</p>
<pre><code>    ?qs1=1&amp;qs2=2&amp;qs3=3
    ?qs1=1&amp;qs2=2&amp;qs3=3
    ?qs1=1&amp;qs2=2&amp;qs3=3
    ?qs1=1&amp;qs2=2&amp;qs3=3
    ?qs1=1&amp;qs2=2&amp;qs3=3
</code></pre>
<p>As they all return a string they can be further manipulated with the various <a href="https://sharpscript.net/docs/default-scripts#url-handling">URL handling methods</a>:</p>
<pre><code class="language-hbs">{‎{ queryDictionary | addItem({ qs3:3 }) | toQueryString | addQueryString({ qs4:4 })  }‎}
{‎{ queryDictionary | addItem({ qs3:3 }) | toQueryString | setQueryString({ qs1:5 })  }‎}
{‎{ queryDictionary | addItem({ qs3:3 }) | toQueryString | addHashParams({ qs4:4 })   }‎}
{‎{ queryDictionary | toQueryString | addHashParams({qs4:4}) | setHashParams({qs4:5}) }‎}
</code></pre>
<p>Which returns:</p>
<pre><code>    ?qs1=1&amp;qs2=2&amp;qs3=3&amp;qs4=4
    ?qs1=5&amp;qs2=2&amp;qs3=3
    ?qs1=1&amp;qs2=2&amp;qs3=3#qs4=4
    ?qs1=1&amp;qs2=2#qs4=5
</code></pre>
<h2 id="world-validation">World Validation<a class="header-anchor" href="javascript:;" onclick="location.hash='#world-validation'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>One message we continually try to re-iterate is the importance of Services (aka APIs) having a well-defined coarse-grained Services Contract
which serves as the interface into your system by which all external consumers bind to - making it the most important contract in your system.</p>
<h3 id="benefits-of-services">Benefits of Services<a class="header-anchor" href="javascript:;" onclick="location.hash='#benefits-of-services'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>This is the development model ServiceStack has always promoted and what most of its features are centered around, where your Services Contract is
defined by decoupled impl-free DTOs. If your Services retain this property then they'll be able to encapsulate any of its capabilities of
infinite complexity and make it available remotely to all consumers with never any more complexity than the cost of a Service call:</p>
<p><img src="/img/pages/dtos-role.png" alt="" /></p>
<p>This is where the <strong>true value</strong> of Services are derived, they're the ultimate form of encapsulating complexity and offers the highest level
of software reuse. ServiceStack amplifies your Services capabilities by making them available in multiple <a href="/why-servicestack#multiple-hosting-options">Hosting Options</a>,
<a href="/why-servicestack#multiple-pluggable-formats">serialization formats</a>, <a href="/why-servicestack#multiple-endpoints">MQ and SOAP endpoints</a> to
enable more seamless integrations in a variety of different scenarios including native end-to-end Typed APIs for the most popular
<a href="/why-servicestack#multiple-clients">Web, Mobile and Desktop Apps</a> that reduce the effort and complexity required to call your Services
in all consumers - multiplicatively increasing the value provided.</p>
<h3 id="api-first-development-model">API First Development Model<a class="header-anchor" href="javascript:;" onclick="location.hash='#api-first-development-model'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The practice .NET has always dictated was that you need to maintain <strong>separate controllers</strong> and logic for your <strong>HTML UIs</strong> and a <strong>different controller</strong>
for your <strong>HTTP APIs</strong>. Apart from forcing code duplication, doing this breaks your systems well-defined Service Contracts where any custom
logic in your MVC Controllers and Razor pages becomes another entry point into your system where no longer are all your system capabilities available
to all clients, some are only available when using a browser to navigate MVC pages.</p>
<p>Whereas in ServiceStack there are only Services, which are written with pure logic that's unopinionated as to what clients are calling it, with
clean <strong>Request DTOs</strong> received as Inputs that typically return clean <strong>Response DTOs</strong> as outputs. HTML is then just another serialization format,
providing a View of your Services or serving as a bundled UI that works on top of your existing Services, in all cases calling the same
well tested and defined Services that all other clients use.</p>
<h3 id="validation-from-all-the-things">Validation from all the things<a class="header-anchor" href="javascript:;" onclick="location.hash='#validation-from-all-the-things'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>To better demonstrate the benefits of this approach and to show there's no loss of flexibility, we've created the new
<a href="https://github.com/NetCoreApps/Validation">Validation</a> .NET Core App which uses the same pure unopinionated ServiceStack Services to support
<strong>8 different HTML UI strategies</strong> including server HTML Rendered and Ajax Client forms, multiple View Engines, multiple layouts - all utilizing
the same Services and declarative Fluent Validation.</p>
<p><a href="https://github.com/NetCoreApps/Validation"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/apps/Validation/home.png" alt="" /></a></p>
<h4 align="center">View Source on GitHub <a href="https://github.com/NetCoreApps/Validation">NetCoreApps/Validation</a></h4>
<p>It should be noted that these are just examples of different HTML UIs, with no additional effort, all ServiceStack Services automatically
provide native integrations into <strong>all popular Mobile and Desktop Apps</strong> with <a href="/add-servicestack-reference">Add ServiceStack Reference</a>.</p>
<h3 id="about">About<a class="header-anchor" href="javascript:;" onclick="location.hash='#about'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The Validation App covers a typical App example you'd find in most Apps, including <strong>Login</strong> and <strong>Registration Forms</strong> to <strong>Sign In</strong> and
<strong>Register</strong> new Users who are then able to access the <strong>same protected Services</strong> to maintain their own private contact lists.
It's a compact example that tries to cover a lot of use-cases typical in a real-world App, including maintaining a separate Data and DTO Model
and using C# idioms like Enum's for defining a finite list of options which are re-used to populate its HTML UI.</p>
<p>The UI for the same App is re-implemented in <strong>8 popular Web Development approaches</strong>, each integrated with ServiceStack's validation.</p>
<p>As of this writing there <strong>4 different server HTML</strong> generated strategies that use HTML Form Posts to call back-end Services:</p>
<h3 id="server-rendered-html-uis">Server Rendered HTML UIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#server-rendered-html-uis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<ul>
<li><a href="https://github.com/NetCoreApps/Validation/tree/master/world/wwwroot/server">/server</a> - #Script Pages using Server Controls</li>
<li><a href="https://github.com/NetCoreApps/Validation/tree/master/world/wwwroot/server-ts">/server-ts</a> - Server HTML enhanced with TypeScript</li>
<li><a href="https://github.com/NetCoreApps/Validation/tree/master/world/wwwroot/server-jquery">/server-jquery</a> - Server HTML enhanced with jQuery</li>
<li><a href="https://github.com/NetCoreApps/Validation/tree/master/world/wwwroot/server-razor">/server-razor</a> - ServiceStack.Razor using Razor Helpers</li>
</ul>
<h3 id="client-html-uis">Client HTML UIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#client-html-uis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The Client Examples use Ajax Forms and the <a href="/typescript-add-servicestack-reference#typescript-serviceclient">TypeScript JsonServiceClient</a>
to send TypeScript <a href="https://github.com/NetCoreApps/Validation/blob/master/world/wwwroot/dtos.ts">dtos.ts</a> generated with <a href="/typescript-add-servicestack-reference">TypeScript Add ServiceStack Reference</a>:</p>
<ul>
<li><a href="https://github.com/NetCoreApps/Validation/tree/master/world/wwwroot/vuetify">/vuetify</a> - Vue App using Vuetify's Material Design Controls using ServiceClient Requests</li>
<li><a href="https://github.com/NetCoreApps/Validation/tree/master/world/wwwroot/client-ts">/client-ts</a> - TypeScript UI using Ajax Forms and ServiceClient Requests</li>
<li><a href="https://github.com/NetCoreApps/Validation/tree/master/world/wwwroot/client-jquery">/client-jquery</a> - JavaScript UI using jQuery Ajax Requests</li>
<li><a href="https://github.com/NetCoreApps/Validation/tree/master/world/wwwroot/client-razor">/client-razor</a> - Client jQuery Ajax Requests rendered by Razor pages</li>
</ul>
<p>The source code for all different strategies are encapsulated within their folders above except for the Razor examples which need to
maintain their shared resources in the <a href="https://github.com/NetCoreApps/Validation/tree/master/world/Views">/Views</a> folder
(representative of friction and restrictions when working with Razor).</p>
<h3 id="server-implementation">Server Implementation<a class="header-anchor" href="javascript:;" onclick="location.hash='#server-implementation'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>This is the shared backend Server implementation that all UIs are using:</p>
<p>All Auth Configuration is encapsulated within a &quot;no-touch&quot; <code>IConfigureAppHost</code> plugin that's run once on Startup:</p>
<p><div><pre><code class="language-csharp">// Run before AppHost.Configure()
public class ConfigureAuth : IConfigureAppHost
{
    public void Configure(IAppHost appHost)
    {
        var AppSettings = appHost.AppSettings;
        appHost.Plugins.Add(new AuthFeature(() =&gt; new CustomUserSession(),
            new IAuthProvider[] {
                new CredentialsAuthProvider(), //Enable UserName/Password Credentials Auth
            }));

        appHost.Plugins.Add(new RegistrationFeature()); //Enable /register Service

        //override the default registration validation with your own custom implementation
        appHost.RegisterAs&lt;CustomRegistrationValidator, IValidator&lt;Register&gt;&gt;();

        container.Register&lt;ICacheClient&gt;(new MemoryCacheClient()); //Store User Sessions in Memory

        appHost.Register&lt;IAuthRepository&gt;(new InMemoryAuthRepository()); //Store Authenticated Users in Memory

        CreateUser(appHost, &quot;admin@email.com&quot;, &quot;Admin User&quot;, &quot;p@55wOrd&quot;, roles:new[]{ RoleNames.Admin });
    }

    // Add initial Users to the configured Auth Repository
    public void CreateUser(IAppHost appHost, string email, string name, string password, string[] roles)
    {
        var authRepo = appHost.TryResolve&lt;IAuthRepository&gt;();
        var newAdmin = new UserAuth { Email = email, DisplayName = name };
        var user = authRepo.CreateUserAuth(newAdmin, password);
        authRepo.AssignRoles(user, roles);
    }
}

// Type class to store additional metadata in Users Session
public class CustomUserSession : AuthUserSession {}

// Custom Validator to add custom validators to built-in /register Service requiring DisplayName and ConfirmPassword
public class CustomRegistrationValidator : RegistrationValidator
{
    public CustomRegistrationValidator()
    {
        RuleSet(ApplyTo.Post, () =&gt;
        {
            RuleFor(x =&gt; x.DisplayName).NotEmpty();
            RuleFor(x =&gt; x.ConfirmPassword).NotEmpty();
        });
    }
}
</code></pre>

</div></p>
<p>All Services and Validators used in this App. Extension methods are used to DRY reusable code and a Custom
<a href="/auto-mapping">Auto Mapping</a> handles conversion between the <code>Contact</code> Data Model and Contact`` DTO:</p>
<p><div><pre><code class="language-csharp">public class CreateContactValidator : AbstractValidator&lt;CreateContact&gt;
{
    public CreateContactValidator()
    {
        RuleFor(r =&gt; r.Title).NotEqual(Title.Unspecified).WithMessage(&quot;Please choose a title&quot;);
        RuleFor(r =&gt; r.Name).NotEmpty();
        RuleFor(r =&gt; r.Color).Must(x =&gt; x.IsValidColor()).WithMessage(&quot;Must be a valid color&quot;);
        RuleFor(r =&gt; r.FilmGenres).NotEmpty().WithMessage(&quot;Please select at least 1 genre&quot;);
        RuleFor(r =&gt; r.Age).GreaterThan(13).WithMessage(&quot;Contacts must be older than 13&quot;);
        RuleFor(x =&gt; x.Agree).Equal(true).WithMessage(&quot;You must agree before submitting&quot;);
    }
}

[Authenticate] // Limit to Authenticated Users
[ErrorView(nameof(CreateContact.ErrorView))] // Display ErrorView for HTML requests resulting in an Exception
[DefaultView(&quot;/server/contacts&quot;)] // Render custom HTML View for HTML Requests
public class ContactServices : Service
{
    private static int Counter = 0;
    internal static readonly ConcurrentDictionary&lt;int, Data.Contact&gt; Contacts = new ConcurrentDictionary&lt;int, Data.Contact&gt;();

    public object Any(GetContacts request)
    {
        var userId = this.GetUserId();
        return new GetContactsResponse
        {
            Results = Contacts.Values
                .Where(x =&gt; x.UserAuthId == userId)
                .OrderByDescending(x =&gt; x.Id)
                .Map(x =&gt; x.ConvertTo&lt;Contact&gt;())
        };
    }

    public object Any(GetContact request) =&gt;
        Contacts.TryGetValue(request.Id, out var contact) &amp;&amp; contact.UserAuthId == this.GetUserId()
            ? (object)new GetContactResponse { Result = contact.ConvertTo&lt;Contact&gt;() }
            : HttpError.NotFound($&quot;Contact was not found&quot;);

    public object Any(CreateContact request) 
    {
        var newContact = request.ConvertTo&lt;Data.Contact&gt;();
        newContact.Id = Interlocked.Increment(ref Counter);
        newContact.UserAuthId = this.GetUserId();
        newContact.CreatedDate = newContact.ModifiedDate = DateTime.UtcNow;

        var contacts = Contacts.Values.ToList();
        var alreadyExists = contacts.Any(x =&gt; x.UserAuthId == newContact.UserAuthId &amp;&amp; x.Name == request.Name);
        if (alreadyExists)
            throw new ArgumentException($&quot;You already have a contact named '{request.Name}'&quot;, nameof(request.Name));
        
        Contacts[newContact.Id] = newContact;
        return new CreateContactResponse { Result = newContact.ConvertTo&lt;Contact&gt;() };
    }
    
    public object AnyHtml(CreateContact request) // Called for CreateContact API HTML Requests on any HTTP Method
    {
        Any(request);
        return HttpResult.Redirect(request.Continue ?? Request.GetView());
    }

    public void Any(DeleteContact request)
    {
        if (Contacts.TryGetValue(request.Id, out var contact) &amp;&amp; contact.UserAuthId == this.GetUserId())
            Contacts.TryRemove(request.Id, out _);
    }

    public object PostHtml(DeleteContact request) // Only called by DeleteContact HTML POST requests 
    {
        Any(request);
        return HttpResult.Redirect(request.Continue ?? Request.GetView()); //added by [DefaultView]
    }
}

public class UpdateContactValidator : AbstractValidator&lt;UpdateContact&gt;
{
    public UpdateContactValidator()
    {
        RuleFor(r =&gt; r.Id).GreaterThan(0);
        RuleFor(r =&gt; r.Title).NotEqual(Title.Unspecified).WithMessage(&quot;Please choose a title&quot;);
        RuleFor(r =&gt; r.Name).NotEmpty();
        RuleFor(r =&gt; r.Color).Must(x =&gt; x.IsValidColor()).WithMessage(&quot;Must be a valid color&quot;);
        RuleFor(r =&gt; r.FilmGenres).NotEmpty().WithMessage(&quot;Please select at least 1 genre&quot;);
        RuleFor(r =&gt; r.Age).GreaterThan(13).WithMessage(&quot;Contacts must be older than 13&quot;);
    }
}

[ErrorView(nameof(UpdateContact.ErrorView))] // Display ErrorView for HTML requests resulting in an Exception
public class UpdateContactServices : Service
{
    public object Any(UpdateContact request)
    {
        if (!ContactServices.Contacts.TryGetValue(request.Id, out var contact) || contact.UserAuthId != this.GetUserId())
            throw HttpError.NotFound(&quot;Contact was not found&quot;);

        contact.PopulateWith(request);
        contact.ModifiedDate = DateTime.UtcNow;
        
        return request.Continue != null 
            ? (object) HttpResult.Redirect(request.Continue)
            : new UpdateContactResponse();
    }
}

public static class ContactServiceExtensions // DRY reusable logic used in Services and Validators
{
    public static int GetUserId(this Service service) =&gt; int.Parse(service.GetSession().UserAuthId);

    public static bool IsValidColor(this string color) =&gt; !string.IsNullOrEmpty(color) &amp;&amp; 
        (color.FirstCharEquals('#')
            ? int.TryParse(color.Substring(1), NumberStyles.HexNumber, CultureInfo.InvariantCulture, out _)
            : Color.FromName(color).IsKnownColor);
}

// Register Custom Auto Mapping for converting Contact Data Model to Contact DTO
public class ContactsHostConfig : IConfigureAppHost 
{
    public void Configure(IAppHost appHost) =&gt;
        AutoMapping.RegisterConverter((Data.Contact from) =&gt; from.ConvertTo&lt;Contact&gt;(skipConverters:true));
}
</code></pre>

</div></p>
<p>The dynamic App data used within ServiceStack Sharp Pages and Razor pages are maintained within Custom <code>ContactScripts</code> and <code>RazorHelpers</code>:</p>
<p><div><pre><code class="language-csharp">// Custom filters for App data sources and re-usable UI snippets in ServiceStack Sharp Pages

using Microsoft.AspNetCore.Mvc.Rendering;
using ServiceModel.Types;
using ServiceStack.Script;

public class ContactScripts : ScriptMethods
{
    internal readonly List&lt;KeyValuePair&lt;string, string&gt;&gt; MenuItems = new()
    {
        KeyValuePair.Create(&quot;/&quot;, &quot;Home&quot;),
        KeyValuePair.Create(&quot;/login-links&quot;, &quot;Login Links&quot;),
        KeyValuePair.Create(&quot;/register-links&quot;, &quot;Register Links&quot;),
        KeyValuePair.Create(&quot;/contact-links&quot;, &quot;Contacts Links&quot;),
        KeyValuePair.Create(&quot;/contact-edit-links&quot;, &quot;Edit Contact Links&quot;),
    };

    public List&lt;KeyValuePair&lt;string, string&gt;&gt; menuItems() =&gt; MenuItems;

    static Dictionary&lt;string, string&gt; Colors = new()
    {
        {&quot;#ffa4a2&quot;, &quot;Red&quot;},
        {&quot;#b2fab4&quot;, &quot;Green&quot;},
        {&quot;#9be7ff&quot;, &quot;Blue&quot;}
    };

    public Dictionary&lt;string, string&gt; contactColors() =&gt; Colors;

    private static List&lt;KeyValuePair&lt;string, string&gt;&gt; Titles =&gt; EnumUtils.GetValues&lt;Title&gt;()
        .Where(x =&gt; x != Title.Unspecified)
        .ToKeyValuePairs();

    public List&lt;KeyValuePair&lt;string, string&gt;&gt; contactTitles() =&gt; Titles;

    private static List&lt;string&gt; FilmGenres =&gt; EnumUtils.GetValues&lt;FilmGenres&gt;().Map(x =&gt; x.ToDescription());
    public List&lt;string&gt; contactGenres() =&gt; FilmGenres;
}

// Razor Helpers for App data sources and re-usable UI snippets in Razor pages
public static class RazorHelpers
{
    internal static readonly ContactScripts Instance = new ContactScripts();
        
    public static Dictionary&lt;string, string&gt; ContactColors(this IHtmlHelper html) =&gt; Instance.contactColors();
    public static List&lt;KeyValuePair&lt;string, string&gt;&gt; ContactTitles(this IHtmlHelper html) =&gt; Instance.contactTitles();
    public static List&lt;string&gt; ContactGenres(this IHtmlHelper html) =&gt; Instance.contactGenres();
    public static List&lt;KeyValuePair&lt;string, string&gt;&gt; MenuItems(this IHtmlHelper html) =&gt; Instance.MenuItems;
}
</code></pre>

</div></p>
<p>Typed Request/Response Service Contracts including Data and DTO models that utilizes Enum's:</p>
<p><div><pre><code class="language-csharp">namespace Data // DB Models
{
    using ServiceModel.Types;
    
    public class Contact // Data Model
    {
        public int Id { get; set; }
        public int UserAuthId { get; set; }
        public Title Title { get; set; }
        public string Name { get; set; }
        public string Color { get; set; }
        public FilmGenres[] FilmGenres { get; set; }
        public int Age { get; set; }
        public DateTime CreatedDate { get; set; }
        public DateTime ModifiedDate { get; set; }
    }
}

namespace ServiceModel // Request/Response DTOs
{
    using Types;
    
    [Route(&quot;/contacts&quot;, &quot;GET&quot;)]
    public class GetContacts : IReturn&lt;GetContactsResponse&gt; {}
    public class GetContactsResponse 
    {
        public List&lt;Contact&gt; Results { get; set; }
        public ResponseStatus ResponseStatus { get; set; }
    }

    [Route(&quot;/contacts/{Id}&quot;, &quot;GET&quot;)]
    public class GetContact : IReturn&lt;GetContactResponse &gt;
    {
        public int Id { get; set; }
    }
    public class GetContactResponse 
    {
        public Contact Result { get; set; }
        public ResponseStatus ResponseStatus { get; set; }
    }

    [Route(&quot;/contacts&quot;, &quot;POST&quot;)]
    public class CreateContact : IReturn&lt;CreateContactResponse&gt;
    {
        public Title Title { get; set; }
        public string Name { get; set; }
        public string Color { get; set; }
        public FilmGenres[] FilmGenres { get; set; }
        public int Age { get; set; }
        public bool Agree { get; set; }
        
        public string Continue { get; set; }
        public string ErrorView { get; set; }
    }
    public class CreateContactResponse 
    {
        public Contact Result { get; set; }
        public ResponseStatus ResponseStatus { get; set; }
    }

    [Route(&quot;/contacts/{Id}&quot;, &quot;POST PUT&quot;)]
    public class UpdateContact : IReturn&lt;UpdateContactResponse&gt;
    {
        public int Id { get; set; }
        public Title Title { get; set; }
        public string Name { get; set; }
        public string Color { get; set; }
        public FilmGenres[] FilmGenres { get; set; }
        public int Age { get; set; }
        
        public string Continue { get; set; }
        public string ErrorView { get; set; }
    }
    public class UpdateContactResponse 
    {
        public ResponseStatus ResponseStatus { get; set; }
    }

    [Route(&quot;/contacts/{Id}&quot;, &quot;DELETE&quot;)]
    [Route(&quot;/contacts/{Id}/delete&quot;, &quot;POST&quot;)] // more accessible from HTML
    public class DeleteContact : IReturnVoid
    {
        public int Id { get; set; }
        public string Continue { get; set; }
    }

    namespace Types // DTO Types
    {
        public class Contact 
        {
            public int Id { get; set; }
            public int UserAuthId { get; set; }
            public Title Title { get; set; }
            public string Name { get; set; }
            public string Color { get; set; }
            public FilmGenres[] FilmGenres { get; set; }
            public int Age { get; set; }
        }

        public enum Title
        {
            Unspecified=0,
            [Description(&quot;Mr.&quot;)] Mr,
            [Description(&quot;Mrs.&quot;)] Mrs,
            [Description(&quot;Miss.&quot;)] Miss
        }

        public enum FilmGenres
        {
            Action,
            Adventure,
            Comedy,
            Drama,
        }
    }
}
</code></pre>

</div></p>
<p>Each UI implements 4 different screens which are linked from:</p>
<ul>
<li><a href="http://validation.web-app.io/login-links">Login Page</a> - Sign In to ServiceStack's built-in Username/Password Credentials Auth Provider</li>
<li><a href="http://validation.web-app.io/register-links">Registration Page</a> - Calling ServiceStack's built-in <code>/register</code> Service to register a new User</li>
<li><a href="http://validation.web-app.io/contact-links">Contacts Page</a> - Contacts Form to Add a new Contact and view list of existing contacts</li>
<li><a href="http://validation.web-app.io/contact-edit-links">Edit Contact Page</a> - Edit Contact Form</li>
</ul>
<h3 id="shared-error-handling-concepts">Shared Error Handling Concepts<a class="header-anchor" href="javascript:;" onclick="location.hash='#shared-error-handling-concepts'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Despite their respective differences they share the same concepts where all validation errors are populated from the Service's <code>ResponseStatus</code>
Error Response. The UI implementations takes care of binding all matching field errors next to their respective controls whilst the
<code>validationSummary</code> or <code>errorResponseExcept</code> methods takes a list of field names that they <strong>should not display</strong> as they'll already be
displayed next to their targeted control.</p>
<p>We'll cover just the <strong>Login</strong> and <strong>Contacts</strong> Pages since they're sufficiently different, to see what this looks like in practice:</p>
<h2 id="login-page">Login Page<a class="header-anchor" href="javascript:;" onclick="location.hash='#login-page'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>The Login Page contains a standard Bootstrap Username/Password form with labels, placeholders and help text, which initially looks like:</p>
<p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/apps/Validation/login-validation.png" alt="" /></p>
<p>What it looks like after submitting an empty form with Server Exception Errors rendered against their respective fields:</p>
<p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/apps/Validation/login-validation-failed.png" alt="" /></p>
<h3 id="server-uis">Server UIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#server-uis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>All Server Examples submits a HTML Form Post and renders full page responses:</p>
<p><server-login-uis></server-login-uis></p>
<h3 id="about-server-implementations">About Server Implementations<a class="header-anchor" href="javascript:;" onclick="location.hash='#about-server-implementations'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Unfortunately Validation in Bootstrap doesn't lend itself to easy server rendering as it requires co-ordination with label, input and error feedback
elements so <strong>#Script Pages</strong> wraps this in a <code>formInput</code> control from <code>BootstrapScripts</code> to render both Label and Input elements together.
For those preferring Razor, these same controls are available as <code>@Html</code> Helpers as seen in <strong>Server Razor</strong> which ends up having identical
behavior and markup, albeit rendered using a different View Engine.</p>
<p><strong>Server TypeScript</strong> shows a more fine-grained version where we show how to bind validation errors to your own custom HTML markup.
This would normally end up being a lot more tedious to do so we've extended it with our own declarative <code>data-invalid</code> attribute to hold the
fields error message which drastically reduces the manual binding effort required. Calling the <code>bootstrap()</code> method will scan the form for populated
<code>data-invalid</code> attributes where it's used to render the appropriate error message adjacent to the control and toggle the appropriate error classes.</p>
<p>All TypeScript examples only depends on the dependency-free <a href="https://github.com/ServiceStack/servicestack-client">@servicestack/client</a> which is
available as both an <a href="https://www.npmjs.com/package/@servicestack/client">npm package</a> and as a stand-alone
<a href="https://unpkg.com/@servicestack/client/dist/servicestack-client.umd.js">servicestack-client.umd.js</a> script include.</p>
<p>The <strong>Server jQuery</strong> version uses the exact same markup as <strong>Server TypeScript</strong> but requires a dependency on jQuery and uses the
<code>$(document).bootstrap()</code> jQuery plugin from ServiceStack's built-in <a href="/ss-utils-js">ss-utils.js</a>.</p>
<h4 id="continue-and-errorview">Continue and ErrorView<a class="header-anchor" href="javascript:;" onclick="location.hash='#continue-and-errorview'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>In order to enable full-page reloads in ServiceStack's built-in Services like its <code>/auth</code> and <code>/register</code> Services we need to submit 2 additional
hidden input fields: <code>errorView</code> to tell it which page it should render on <strong>failed requests</strong> and <code>continue</code> to tell it where to redirect to after
<strong>successful requests</strong>.</p>
<h3 id="client-uis">Client UIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#client-uis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>In contrast to full page reloads all Client UIs submit Ajax forms and bind their JSON Error Response to the UI for a more fluid and flicker-free UX:</p>
<p><client-login-uis></client-login-uis></p>
<h3 id="about-client-implementations">About Client Implementations<a class="header-anchor" href="javascript:;" onclick="location.hash='#about-client-implementations'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><strong>Vuetify</strong> is a Vue App which uses the popular <a href="https://vuetifyjs.com/en/">Vuetify Material Design UI</a> which is in contrast to all other UIs which use Bootstrap.
It also uses the <code>JsonServiceClient</code> to send a JSON <code>Authenticate</code> Request whereas all other UIs sends HTML Form <code>x-www-form-urlencoded</code> Key/Value Pairs.</p>
<p><strong>Client TypeScript</strong> only needs to render the initial Bootstrap Form Markup as <code>bootstrapForm()</code> takes care of submitting the Ajax Request and binding
any validation errors to the form. The <code>data-validation-summary</code> placeholder is used to render any other error summary messages except for the <code>userName</code>
or <code>password</code> fields.</p>
<p><strong>Client jQuery</strong> uses the exact same markup but uses <code>$('form').bootstrapForm()</code> jQuery plugin to handle the form Ajax request and any error binding.</p>
<p><strong>Client Razor</strong> adopts the same jQuery implementation but is rendered using MVC Razor instead of <strong>#Script Pages</strong>.</p>
<h2 id="contacts-page">Contacts Page<a class="header-anchor" href="javascript:;" onclick="location.hash='#contacts-page'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>The Contacts Page is representative of a more complex page that utilizes a variety of different form controls where the same page is also responsible
for rendering the list of existing contacts:</p>
<p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/apps/Validation/contacts-validation.png" alt="" /></p>
<p>Here's an example of what a partially submitted invalid form looks like:</p>
<p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/apps/Validation/contacts-validation-failed.png" alt="" /></p>
<h3 id="server-uis-1">Server UIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#server-uis-1'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><server-contact-uis></server-contact-uis></p>
<h3 id="about-server-implementations-1">About Server Implementations<a class="header-anchor" href="javascript:;" onclick="location.hash='#about-server-implementations-1'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Both the Contacts UIs and Contacts Services are protected resources which uses a <strong>partial</strong> to protect its pages.
Normally <code>redirectIfNotAuthenticated</code> wouldn't require a URL, but one is needed here so it knows the right login page it should redirect to.</p>
<h4 id="script-pages">Script Pages<a class="header-anchor" href="javascript:;" onclick="location.hash='#script-pages'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>In <strong>#Script Pages</strong> our wrist-friendly server controls are back as we start to see more of its features. The arguments of the left of the <code>formInput</code>
are for HTML attributes you want rendered on the input control whilst the arguments on the right (or 2nd argument) are to enlist the controls
other &quot;high-level features&quot; like <code>values</code> which is used to populate a list of radio and checkboxes or <code>formSelect</code> options. The <code>inline</code>
argument tells the control to render multiple controls in-line whilst you can use <code>help</code> to render some help text as an aside.</p>
<p>We also see the introduction of the <code>sendToGateway</code> method used to send the <code>GetContacts</code> Request DTO to call its Service using the
<a href="/service-gateway">Service Gateway</a>, the Response of which is used to render the list of contacts on the Server.</p>
<p>Another difference is that there are multiple <code>&lt;form&gt;</code> elements on this page to handle deleting a contact by submitting an empty form post to
<code>/contacts/{‎{Id}‎}/delete</code>.</p>
<p><strong>#Script Pages</strong> doesn't need to specify its own <code>ErrorView</code> or <code>Continue</code> Request params as its the default view used for <code>ContactServices</code>:</p>
<pre><code class="language-csharp">[DefaultView(&quot;/server/contacts&quot;)] // Render custom HTML View for HTML Requests
public class ContactServices : Service { ... }
</code></pre>
<p>This is typically all that's needed, as most real-world Apps would rarely have more than 1 HTML View per Service.</p>
<h4 id="server-typescript">Server TypeScript<a class="header-anchor" href="javascript:;" onclick="location.hash='#server-typescript'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>With <strong>Server TypeScript</strong> you're starting to see the additional effort required when you need to use your own custom markup to render form controls.</p>
<p>It differs with <strong>#Script Pages</strong> in that instead of rendering the list of contacts on the server, it renders the <code>GetContacts</code> Response DTO
as JSON which is interpreted in the browser as a native JS Object literal which the <code>render()</code> method uses to render the list of contacts in the browser.</p>
<p>Deleting a contact is also handled differently where it uses the <code>JsonServiceClient</code> to send the <code>DeleteContact</code> Request DTO from the generated <code>dtos.ts</code>.
After the request completes it uses <code>GetContacts</code> to fetch an updated list of Contacts which it re-renders.</p>
<h4 id="server-jquery">Server jQuery<a class="header-anchor" href="javascript:;" onclick="location.hash='#server-jquery'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p><strong>Server jQuery</strong> adopts the same approach as <strong>Server TypeScript</strong> but renders it using jQuery and uses custom routes constructed on the client
with jQuery's Ajax APIs to call the <code>ContactServices</code>.</p>
<h4 id="server-razor">Server Razor<a class="header-anchor" href="javascript:;" onclick="location.hash='#server-razor'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p><strong>Server Razor</strong> is very similar to <strong>#Script Pages</strong> but implemented using Razor. In many cases the built-in script methods in #Script Pages have
Razor equivalents, either in the base <code>ViewPage&lt;T&gt;</code> class like <code>RedirectIfNotAuthenticated()</code> or as a <code>@Html</code> helper.</p>
<h3 id="client-uis-1">Client UIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#client-uis-1'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><client-contact-uis></client-contact-uis></p>
<h3 id="about-client-implementations-1">About Client Implementations<a class="header-anchor" href="javascript:;" onclick="location.hash='#about-client-implementations-1'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><strong>Vuetify</strong> ends up being larger than other implementations as it also handles Edit Contacts functionality which is a separate page in other UIs.
It also includes additional functionality like client-side validation enabled in each control using its <code>:rules</code> attribute. One thing
that remains consistent is the way to call ServiceStack Services and handle errors by assigning it to <code>this.responseStatus</code> which the reactive
<code>errorResponse</code> method uses to bind to each control.</p>
<p>The remaining client implementations show that whilst the server controls require the least code, if you need custom markup it's much easier
to render the initial markup once, then use <code>bootstrapForm()</code> to bind any validation errors and handle the ajax form submissions. It's especially
valuable when you need to update a form where the same markup can be populated by just assigning the <code>model</code> property as done in the
<a href="http://validation.web-app.io/contact-edit-links">Edit Contact Pages</a>:</p>
<pre><code class="language-ts">const form = document.querySelector(&quot;form&quot;)!;
bootstrapForm(form,{
    model: CONTACT,
    success: function () {
        location.href = '/client-ts/contacts/';
    }
});
</code></pre>
<p>The amount of code can be even further reduced when using an SPA framework that allows easy componentization as seen in the
<a href="#vue-lite-project-template-features">Vue Form Validation</a> and <a href="#react-lite-project-template-features">React Form Validation</a> examples.</p>
<h2 id="no-touch-host-configuration">&quot;No touch&quot; Host Configuration<a class="header-anchor" href="javascript:;" onclick="location.hash='#no-touch-host-configuration'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>There's also a couple of new ServiceStack features that World Validation introduces, the first is that all Auth Configuration logic is encapsulated
in a single <a href="https://github.com/NetCoreApps/Validation/blob/master/world/Configure.Auth.cs">Configure.Auth.cs</a>:</p>
<pre><code class="language-csharp">public class ConfigureAuth : IConfigureAppHost
{
    public void Configure(IAppHost appHost)
    {
        // Auth configuration logic
    }
}
</code></pre>
<p>You can use this to refactor out different cohesive parts your Host configuration over multiple files and decouple them from your concrete <code>AppHost</code> which
ServiceStack automatically runs all <code>IPreConfigureAppHost</code>, <code>IConfigureAppHost</code> and <code>IPostConfigureAppHost</code> interfaces on Startup it
can find in either your <code>AppHost</code> Assembly or <strong>Service Assemblies</strong> specified in your AppHost constructor.</p>
<p>This opens up a number of re-use benefits where you'll be able to use the same AppHost configuration if your Services are being hosted
in <a href="/why-servicestack#multiple-hosting-options">different Hosting Options</a>, it makes it easy to maintain a standardized configuration
across many of your ServiceStack projects, e.g. you can easily replace <code>Configure.Auth.cs</code> in all your projects to ensure they're running
the same Auth Configuration without impacting any of the projects other bespoke host configuration.</p>
<p>It also allows you to maintain any necessary Startup configuration that your Services implementation needs alongside the Services themselves.</p>
<p>E.g. This is used to register the <code>Data.Contact</code> to DTO <code>Contact</code> <a href="/auto-mapping">Auto Mapping</a>:</p>
<pre><code class="language-csharp">// Register Custom Auto Mapping for converting Contact Data Model to Contact DTO
public class ContactsHostConfig : IConfigureAppHost 
{
    public void Configure(IAppHost appHost) =&gt;
        AutoMapping.RegisterConverter((Data.Contact from) =&gt; from.ConvertTo&lt;Contact&gt;(skipConverters:true));
}
</code></pre>
<p>There are <strong>3 different Startup interfaces</strong> you can use depending on when you want your configuration to run.</p>
<p>Use <code>IPreConfigureAppHost</code> for Startup logic you want to run before the AppHost starts initialization, this is
run before <code>AppHost.Config</code> is initialized or Services are registered so has limited configurability but is useful
if you want to register additional Service Assemblies with ServiceStack, e.g:</p>
<pre><code class="language-csharp">public class ConfigureContactsServices : IPreConfigureAppHost
{
    public void Configure(IAppHost host) =&gt; host.ServiceAssemblies.AddIfNotExists(typeof(MyServices).Assembly);
}
</code></pre>
<p>Use <code>IConfigureAppHost</code> for Startup logic you want to run immediately <strong>before</strong> <code>AppHost.Configure()</code>:</p>
<pre><code class="language-csharp">public interface IConfigureAppHost
{
    void Configure(IAppHost appHost);
}
</code></pre>
<p>Use <code>IPostConfigureAppHost</code> for Startup logic you want to run immediately <strong>after</strong> <code>AppHost.Configure()</code>:</p>
<pre><code class="language-csharp">public interface IPostConfigureAppHost
{
    void Configure(IAppHost appHost);
}
</code></pre>
<h2 id="auto-mapping">Auto Mapping<a class="header-anchor" href="javascript:;" onclick="location.hash='#auto-mapping'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>We've added the number 1 feature request that prevented many Customers from using ServiceStack's built-in
Auto Mapping instead of the more feature-complete <a href="https://automapper.org">AutoMapper</a>.</p>
<p>Our stance was that you should use a C# Extension Method for any additional Custom Conversions that didn't follow the intuitive mapping convention, e.g:</p>
<pre><code class="language-csharp">public static class ConvertExtensions
{
    public static MyDto ToDto(this MyViewModel from)
    {
        var to = from.ConvertTo&lt;MyDto&gt;();
        to.Items = from.Items.ConvertAll(x =&gt; x.ToDto());
        to.CalculatedProperty = Calculate(from.Seed);
        return to;
    }
}
</code></pre>
<p>Which would be explicitly called when you want to convert between a Data Model and View Model:</p>
<pre><code class="language-csharp">var dto = viewModel.ToDto();
</code></pre>
<p>Using C# methods ensures conversion is explicit, discoverable, debuggable, fast and flexible with access to the full C# language at your disposal
whose conversion logic can be further DRY'ed behind reusable extension methods.</p>
<p>The problem with his is having to call this extension method manually everywhere you want this conversion to occur.</p>
<h3 id="register-converters">Register Converters<a class="header-anchor" href="javascript:;" onclick="location.hash='#register-converters'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>No More! You can now register a custom Converter mapping using the new <code>AutoMapping.RegisterConverter()</code> APIs, e.g:</p>
<pre><code class="language-csharp">// Data.User -&gt; DTO User
AutoMapping.RegisterConverter((Data.User from) =&gt; {
    var to = from.ConvertTo&lt;User&gt;(skipConverters:true); // avoid infinite recursion
    to.FirstName = from.GivenName;
    to.LastName = from.Surname;
    return to;
});

// Car -&gt; String
AutoMapping.RegisterConverter((Car from) =&gt; $&quot;{from.Model} ({from.Year})&quot;);

// WrappedDate -&gt; DateTime
AutoMapping.RegisterConverter((WrappedDate from) =&gt; from.ToDateTime());
// DateTime    -&gt; WrappedDate
AutoMapping.RegisterConverter((DateTime from) =&gt; new WrappedDate(from));
</code></pre>
<p>Where it will be called whenever a conversion between <code>Data.User -&gt; User</code> or <code>Car -&gt; String</code> is needed, inc. nested types and collections.</p>
<p>Converters can also be used when you want to &quot;take over&quot; and override the default conversion behavior.</p>
<h3 id="ignore-mapping">Ignore Mapping<a class="header-anchor" href="javascript:;" onclick="location.hash='#ignore-mapping'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Use the new <code>AutoMapping.IgnoreMapping()</code> API to specify mappings you want to skip entirely, e.g:</p>
<pre><code class="language-csharp">// Ignore Data.User -&gt; User
AutoMapping.IgnoreMapping&lt;Data.User, User&gt;();
// Ignore List&lt;Data.User&gt; -&gt; List&lt;User&gt;
AutoMapping.IgnoreMapping&lt;List&lt;Data.User&gt;, List&lt;User&gt;&gt;();
</code></pre>
<h3 id="support-for-implicit-explicit-type-casts">Support for Implicit / Explicit Type Casts<a class="header-anchor" href="javascript:;" onclick="location.hash='#support-for-implicit-explicit-type-casts'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>This release also extends the built-in Auto Mapping to use any <code>implicit</code> or <code>explicit</code> Value Type Casts when they exists, e.g:</p>
<pre><code class="language-csharp">struct A
{
    public int Id { get; }
    public A(int id) =&gt; Id = id;
    public static implicit operator B(A from) =&gt; new B(from.Id);
}

struct B
{
    public int Id { get; }
    public B(int id) =&gt; Id = id;
    public static implicit operator A(B from) =&gt; new A(from.Id);
}

var b = new A(1).ConvertTo&lt;B&gt;();
</code></pre>
<h3 id="powerful-and-capable">Powerful and Capable<a class="header-anchor" href="javascript:;" onclick="location.hash='#powerful-and-capable'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Due to its heavy reliance in <code>#Script</code> and other parts in ServiceStack, the built-in Auto Mapping is a sophisticated implementation
that covers a large number of use-cases and corner cases when they can be intuitively mapped.</p>
<p>To see a glimpse of its available capabilities check out some of the examples in the docs where it's able to
<a href="/reflection-utils#call-any-method-dynamically">call any method or construct any type dynamically</a> using different Types.</p>
<p>Or how it's able to <a href="/reflection-utils#converting-instances-from-an-object-dictionary">convert any Reference Type into and out of an Object Dictionary</a>,
providing a simple approach to dynamically manipulating Types.</p>
<h2 id="page-based-routing-in-razor">Page Based Routing in Razor!<a class="header-anchor" href="javascript:;" onclick="location.hash='#page-based-routing-in-razor'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Another feature introduced in the Validation App is the new support for Page Based Routing in <a href="/netcore-razor">ASP.NET Core Razor</a>
which lets you use a <code>_</code> prefix to declare a variable placeholder for dynamic routes defined solely by directory and file names.</p>
<p>With this feature we can use a <code>_id</code> directory name to declare an <code>id</code> variable place holder:</p>
<ul>
<li><a href="https://github.com/NetCoreApps/Validation/blob/master/world/wwwroot/server-razor/contacts/_id/edit.cshtml">/contacts/_id/edit.cshtml</a></li>
</ul>
<p>This will let you navigate to the <code>edit.cshtml</code> page directly to edit a contact using the ideal &quot;pretty url&quot; we want:</p>
<ul>
<li><a href="http://validation.web-app.io/server-razor/contacts/1/edit">/contacts/1/edit</a></li>
</ul>
<p>Placeholders can be on both directory or file names, e.g:</p>
<ul>
<li><code>/contacts/edit/_id.cshtml</code> -&gt; <strong>/contacts/edit/1</strong></li>
</ul>
<p>Inside your Razor page you can fetch any populated placeholders from the <code>ViewBag</code>:</p>
<pre><code class="language-csharp">var id = int.Parse(ViewBag.id);
var contact = Html.Exec(() =&gt; Gateway.Send(new GetContact { Id = id }).Result, out var error);
</code></pre>
<p>Which <a href="https://github.com/NetCoreApps/Validation/blob/master/world/wwwroot/server-razor/contacts/_id/edit.cshtml">/_id/edit.cshtml</a>
uses to call the <code>GetContact</code> Service using the <a href="/service-gateway">Service Gateway</a>.</p>
<blockquote>
<p><code>Html.Exec()</code> is a UX-friendly alternative to using <code>try/catch</code> boilerplate in Razor</p>
</blockquote>
<h4 id="limitation">Limitation<a class="header-anchor" href="javascript:;" onclick="location.hash='#limitation'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>One drawback of page based routing is that MVC is unable to resolve Page Based Routes when pre-compiled and will need to disabled with:</p>
<pre><code class="language-xml">&lt;MvcRazorCompileOnPublish&gt;false&lt;/MvcRazorCompileOnPublish&gt;
</code></pre>
<h3 id="consider-pretty-urls-for-public-pages">Consider &quot;pretty-urls&quot; for public pages<a class="header-anchor" href="javascript:;" onclick="location.hash='#consider-pretty-urls-for-public-pages'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>A constant eyesore that hurts my aesthetic eye when surfing the web is how you can immediately tell that a Website is written in ASP.NET
by its <code>/{Controller}/{Action}</code> routing convention or <code>.aspx</code> suffix. This forces URL abnormalities where instead of choosing
the ideal identifier for your public resource, the path tends to adopt internal method and class names that typically makes more sense
to its developers than to external users. These dictated conventions also results in the <code>?queryString</code> becoming a data bag of params
that should otherwise be hidden or included as part of its public URI identifier.</p>
<h4 id="permalinks-important-for-seo-usability-and-refactorability">Permalinks important for SEO, usability and refactorability<a class="header-anchor" href="javascript:;" onclick="location.hash='#permalinks-important-for-seo-usability-and-refactorability'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>In general it's not a good idea to let a technology to dictate what your public routes end up being. Ideally your external routes
should be regarded as permalinks and decoupled from their internal implementations as you don't want internal refactors to cause
link rot, break existing inbound navigation or lose any SEO weight they've accumulated.</p>
<p>If you adopt the ideal URL from the start, you'll never have a reason to change it and the decoupling frees you from being able
to refactor it's mapped implementation or even replacing the underlying technology completely as the ideal routes are already at what
they should be that's free from any technology bias.</p>
<p>Pretty URLs or <a href="https://en.wikipedia.org/wiki/Clean_URL">Clean URLs</a> also provide important usability and accessibility benefits to
non technical users where their prominent location in browsers is a valuable opportunity to add meaningful context on where they are in your Website.</p>
<h4 id="pre-defined-routes-are-optimal-for-machines">Pre-defined Routes are optimal for machines<a class="header-anchor" href="javascript:;" onclick="location.hash='#pre-defined-routes-are-optimal-for-machines'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>In ServiceStack all Services are automatically available using the <a href="/routing#pre-defined-routes">pre-defined routes</a> which is optimal
for automated tooling and machinery as they can be predicted without requiring any server meta information.</p>
<h4 id="optimize-custom-routes-for-humans">Optimize Custom Routes for humans<a class="header-anchor" href="javascript:;" onclick="location.hash='#optimize-custom-routes-for-humans'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>Use <a href="/routing#custom-routes">Custom Routes</a> to also make your <strong>Services</strong> available at the optimal Clean URLs for humans. For <strong>Content Pages</strong>
you can take advantage of <strong>Page Based Routing</strong> in both <strong>#Script Pages</strong> and now in <strong>Razor</strong> to specify the ideal route for your page which
in addition to requiring less effort to define (as they're implicitly defined) they're also less effort to implement as <strong>no Controller or Service</strong>
are needed. They also benefit from being immediately inferrible by looking at the intuitively mapped directory and file names alone which works
equally well in reverse where the page for a route will be exactly where you think it will be.</p>
<h4 id="designing-clean-urls">Designing Clean URLs<a class="header-anchor" href="javascript:;" onclick="location.hash='#designing-clean-urls'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>Some great references on designing RESTful Pretty URLs are the <a href="https://en.wikipedia.org/wiki/Clean_URL#Structure">Clean URL examples in Wikipedia</a>:</p>
<table>
<thead>
<tr>
<th>Uncleaned URL</th>
<th>Clean URL</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://example.com/index.php?page=name">http://example.com/index.php?page=name</a></td>
<td><a href="http://example.com/name">http://example.com/name</a></td>
</tr>
<tr>
<td><a href="http://example.com/about.html">http://example.com/about.html</a></td>
<td><a href="http://example.com/about">http://example.com/about</a></td>
</tr>
<tr>
<td><a href="http://example.com/index.php?page=consulting/marketing">http://example.com/index.php?page=consulting/marketing</a></td>
<td><a href="http://example.com/consulting/marketing">http://example.com/consulting/marketing</a></td>
</tr>
<tr>
<td><a href="http://example.com/products?category=12&amp;pid=25">http://example.com/products?category=12&amp;pid=25</a></td>
<td><a href="http://example.com/products/12/25">http://example.com/products/12/25</a></td>
</tr>
<tr>
<td><a href="http://example.com/cgi-bin/feed.cgi?feed=news&amp;frm=rss">http://example.com/cgi-bin/feed.cgi?feed=news&amp;frm=rss</a></td>
<td><a href="http://example.com/news.rss">http://example.com/news.rss</a></td>
</tr>
<tr>
<td><a href="http://example.com/services/index.jsp?category=legal&amp;id=patents">http://example.com/services/index.jsp?category=legal&amp;id=patents</a></td>
<td><a href="http://example.com/services/legal/patents">http://example.com/services/legal/patents</a></td>
</tr>
<tr>
<td><a href="http://example.com/kb/index.php?cat=8&amp;id=41">http://example.com/kb/index.php?cat=8&amp;id=41</a></td>
<td><a href="http://example.com/kb/8/41">http://example.com/kb/8/41</a></td>
</tr>
<tr>
<td><a href="http://example.com/index.php?mod=profiles&amp;id=193">http://example.com/index.php?mod=profiles&amp;id=193</a></td>
<td><a href="http://example.com/profiles/193">http://example.com/profiles/193</a></td>
</tr>
<tr>
<td><a href="http://en.wikipedia.org/w/index.php?title=Clean_URL">http://en.wikipedia.org/w/index.php?title=Clean_URL</a></td>
<td><a href="http://en.wikipedia.org/wiki/Clean_URL">http://en.wikipedia.org/wiki/Clean_URL</a></td>
</tr>
</tbody>
</table>
<h4 id="get-inspired-by-github">Get Inspired by GitHub<a class="header-anchor" href="javascript:;" onclick="location.hash='#get-inspired-by-github'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>For some real-world inspiration look to <a href="https://github.com">github.com</a> who are masters at it. You can tell a lot of thought went into
meticulously choosing the ideal routes they want for all of their sites functionality. This has added tremendous value to GitHub's usability
whose intuitive routes have made deep navigation possible where you can jump directly to the page you want without always having to navigate
from their home page as needed in most websites with framework-generated routes who are more susceptible to negatively impacting user engagement
in home page redesigns that move around existing links and navigation. GitHub's logically grouped routes also gets a natural assist
from Autocomplete in browsers who are better able to complete previously visited GitHub URLs.</p>
<h2 id="web-tool"><code>web</code> tool<a class="header-anchor" href="javascript:;" onclick="location.hash='#web-tool'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Our <code>web</code> (and <code>app</code>) .NET Core tools have graduated to become a versatile invaluable companion for all ServiceStack developers.</p>
<p>It builds on our last <a href="/releases/v5_4">v5.4 release</a> where it served as a <a href="https://sharpscript.net/docs/sharp-apps">Sharp App</a>
delivery platform where they can be run as a .NET Core Windows Desktop App with <code>app</code> or as a cross-platform Web App launcher
using <code>web</code> and we've already how it's now a <a href="#sharp-scripts"><code>#Script</code> runner</a> with <code>web run</code> and into a
<a href="#live-script-with-web-watch">Live <code>#Script</code> playground</a> with <code>web watch</code>.</p>
<p>They've now also gained all existing features from our <a href="https://github.com/ServiceStack/servicestack-cli">@servicestack/cli</a> npm tools
so you'll <strong>no longer need npm</strong> to create ServiceStack projects or Add/Update ServiceStack References.</p>
<p>To access available features, install with:</p>
<pre><code>$ dotnet tool install --global web 
</code></pre>
<p>Or if you had a previous version installed, update with:</p>
<pre><code>$ dotnet tool update -g web
</code></pre>
<p>Then run <code>web</code> without any arguments to view Usage:</p>
<pre><code>$ web
</code></pre>
<pre><code>Usage:

  web new                     List available Project Templates
  web new &lt;template&gt; &lt;name&gt;   Create New Project From Template

  web &lt;lang&gt;                  Update all ServiceStack References in directory (recursive)
  web &lt;file&gt;                  Update existing ServiceStack Reference (e.g. dtos.cs)
  web &lt;lang&gt;     &lt;url&gt; &lt;file&gt; Add ServiceStack Reference and save to file name
  web csharp     &lt;url&gt;        Add C# ServiceStack Reference         (Alias 'cs')
  web typescript &lt;url&gt;        Add TypeScript ServiceStack Reference (Alias 'ts')
  web swift      &lt;url&gt;        Add Swift ServiceStack Reference      (Alias 'sw')
  web java       &lt;url&gt;        Add Java ServiceStack Reference       (Alias 'ja')
  web kotlin     &lt;url&gt;        Add Kotlin ServiceStack Reference     (Alias 'kt')
  web dart       &lt;url&gt;        Add Dart ServiceStack Reference       (Alias 'da')
  web fsharp     &lt;url&gt;        Add F# ServiceStack Reference         (Alias 'fs')
  web vbnet      &lt;url&gt;        Add VB.NET ServiceStack Reference     (Alias 'vb')
  web tsd        &lt;url&gt;        Add TypeScript Definition ServiceStack Reference

  web +                       Show available gists
  web +&lt;name&gt;                 Write gist files locally, e.g:
  web +init                   Create empty .NET Core 2.2 ServiceStack App
  web + #&lt;tag&gt;                Search available gists
  web gist &lt;gist-id&gt;          Write all Gist text files to current directory

  web run &lt;name&gt;.ss           Run #Script within context of AppHost   (or &lt;name&gt;.html)
  web watch &lt;name&gt;.ss         Watch #Script within context of AppHost (or &lt;name&gt;.html)

  web run                     Run Sharp App in App folder using local app.settings
  web run path/app.settings   Run Sharp App at folder containing specified app.settings

  web list                    List available Sharp Apps            (Alias 'l')
  web gallery                 Open Sharp App Gallery in a Browser  (Alias 'g')
  web install &lt;name&gt;          Install Sharp App                    (Alias 'i')

  web publish                 Package Sharp App to /publish ready for deployment (.NET Core Required)
  web publish-exe             Package self-contained .exe Sharp App to /publish  (.NET Core Embedded)

  web shortcut                Create Shortcut for Sharp App
  web shortcut &lt;name&gt;.dll     Create Shortcut for .NET Core App

  dotnet tool update -g web   Update to latest version

Options:
    -h, --help, ?             Print this message
    -v, --version             Print this version
    -d, --debug               Run in Debug mode for Development
    -r, --release             Run in Release mode for Production
    -s, --source              Change GitHub Source for App Directory
    -f, --force               Quiet mode, always approve, never prompt
        --clean               Delete downloaded caches
        --verbose             Display verbose logging
</code></pre>
<h3 id="addupdate-servicestack-references">Add/Update ServiceStack References<a class="header-anchor" href="javascript:;" onclick="location.hash='#addupdate-servicestack-references'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>This shows us we can Add a ServiceStack Reference with <code>web &lt;lang&gt; &lt;baseurl&gt;</code> which will let us create a TypeScript Reference
to the new <a href="#world-validation">World Validation</a> App using its <code>ts</code> file extension alias:</p>
<pre><code>$ web ts http://validation.web-app.io

Saved to: dtos.ts
</code></pre>
<p>Or create a C# ServiceStack Reference with:</p>
<pre><code>$ web cs http://validation.web-app.io

Saved to: dtos.cs
</code></pre>
<p>To update run <code>web &lt;lang&gt;</code> which will recursively update all existing ServiceStack References:</p>
<pre><code>$ web ts

Updated: dtos.ts
</code></pre>
<h2 id="web-new.nets-missing-project-template-system"><code>web new</code> - .NET's missing project template system<a class="header-anchor" href="javascript:;" onclick="location.hash='#web-new.nets-missing-project-template-system'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>It's not often that a tool causes enough friction that it ends up requiring less effort to develop a replacement than
it is to continue using the tool. But this has been our experience with maintaining our VS.NET Templates in the
<a href="https://github.com/ServiceStack/ServiceStackVS">ServiceStackVS</a> VS.NET Extension which has been the biggest time sink of all our
3rd Party Integrations where the iteration time to check in a change, wait for CI build, uninstall/re-install the VS.NET extension
and create and test new projects is measured in hours not minutes. To top off the poor development experience we've now appeared to have
reached the limits of the number of Project Templates we can bundle in our 5MB <strong>ServiceStackVS.vsix</strong> VS.NET Extension as a
number of Customers have reported seeing VS.NET warning messages that ServiceStackVS is taking too long to load.</p>
<p>Given all the scenarios ServiceStack can be used in, we needed a quicker way to create, update and test our growing <strong>47 starting project templates</strong>.
In the age of simple command-line dev tools like git and .NET Core's light weight text/human friendly projects, maintaining and creating
new .NET project templates still feels archaic &amp; legacy requiring packaging projects as binary blobs in NuGet packages which become stale
the moment they're created.</p>
<h3 id="github-powered-project-templates">GitHub powered Project Templates<a class="header-anchor" href="javascript:;" onclick="location.hash='#github-powered-project-templates'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Especially for SPA projects which need to be frequently updated, the existing .NET Project Templates system is a stale solution that doesn't offer
much benefit over maintaining individual GitHub projects, which is exactly what the <code>dotnet-new</code> npm tool and now <code>web new</code> .NET Core are designed around.</p>
<p>Inside <a href="/templates/dotnet-new">dotnet-new</a> and <code>web new</code> is an easier way to create and share any kind of project templates which are easier for developers
to create, test, maintain and install. So if you're looking for a simpler way to be able to create and maintain your own value-added project templates
with additional bespoke customizations, functionality, dependencies and configuration, using <code>web new</code> is a great way to maintain and share them.</p>
<p>Using GitHub for maintaining project templates yields us a lot of natural benefits:</p>
<ul>
<li>Uses the same familiar development workflow to create and update Project Templates</li>
<li>Git commit history provides a public audit trail of changes</li>
<li>Publish new versions of project templates by creating a new GitHub release</li>
<li>Compare changes between Project Templates using GitHub's compare changes viewer</li>
<li>Browse and Restore Previous Project Releases</li>
<li>End users can raise issues with individual project templates and send PR contributions</li>
</ul>
<h3 id="always-up-to-date">Always up to date<a class="header-anchor" href="javascript:;" onclick="location.hash='#always-up-to-date'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Importantly end users will always be able to view the latest list of project templates and create projects using the latest available version,
even if using older versions of the tools as they query GitHub's public APIs to list all currently available projects that for installation
will use the latest published release (or <strong>master</strong> if there are no published releases), which if available, downloads, caches and
creates new projects from the latest published <code>.zip</code> release.</p>
<h3 id="just-regular-projects">Just regular Projects<a class="header-anchor" href="javascript:;" onclick="location.hash='#just-regular-projects'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Best of all creating and testing projects are now much easier since project templates are just working projects following a simple naming convention
that when a new project is created with:</p>
<pre><code>$ web new &lt;template&gt; ProjectName
</code></pre>
<p>Replaces all occurrences in all text files, file and directory names, where:</p>
<ul>
<li><code>MyApp</code> is replaced with <code>ProjectName</code></li>
<li><code>my-app</code> is replaced with <code>project-name</code></li>
<li><code>My App</code> is replaced with <code>Project Name</code></li>
</ul>
<p>The tool installer then inspects the project contents and depending on what it finds will:</p>
<ul>
<li>Restore the .NET <code>.sln</code> if it exists</li>
<li>Install npm packages if <code>package.json</code> exists</li>
<li>Install libman packages if <code>libman.json</code> exists</li>
</ul>
<p>That after installation is complete, results in newly created projects being all setup and ready to run.</p>
<h3 id="available-project-templates">Available project templates<a class="header-anchor" href="javascript:;" onclick="location.hash='#available-project-templates'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>One missing detail is how it finds which GitHub repo should be installed from the <code>&lt;template&gt;</code> name.</p>
<p>This can be configured with the <code>APP_SOURCE_TEMPLATES</code> Environment variable to configure the <code>web</code> tool to use your own GitHub organizations instead, e.g:</p>
<pre><code>APP_SOURCE_TEMPLATES=NetCoreTemplates;NetFrameworkTemplates;NetFrameworkCoreTemplates
</code></pre>
<p>Optionally you can display a friendly name next to each Organization name, e.g:</p>
<pre><code>APP_SOURCE_TEMPLATES=NetCoreTemplates .NET Core C# Templates;
</code></pre>
<p><code>web new</code> will then use the first GitHub Repo that matches the <code>&lt;template&gt;</code> name from all your GitHub Sources, so this
does require that all repos have unique names across all your configured GitHub Sources.</p>
<p>These are the only sources <code>web new</code> looks at to create ServiceStack projects, which by default is configured to use
<a href="https://github.com/NetCoreTemplates">NetCoreTemplates</a>, <a href="https://github.com/NetFrameworkTemplates">NetFrameworkTemplates</a> and
<a href="https://github.com/NetFrameworkCoreTemplates">NetFrameworkCoreTemplates</a> GitHub Organizations, whose repos will be listed when running:</p>
<pre><code>$ x new
</code></pre>
<pre><code>.NET Core C# Templates:

   1. angular-spa        .NET 8 Angular 15 App with Bootstrap
   2. blazor             .NET 8 Blazor Tailwind App Template
   3. blazor-vue         .NET 8 Blazor Static Rendered Vue interactivity App with Tailwind
   4. blazor-wasm        .NET 8 Blazor Server &amp; WebAssembly Interactive Auto App with Tailwind
   5. empty              .NET 8 Empty Single Project App
   6. grpc               .NET 8 gRPC Services
   7. mvc                .NET 8 MVC Identity Auth App with Tailwind
   8. mvc-bootstrap      .NET 8 MVC Identity Auth App with Bootstrap
   9. mvcauth            .NET 8 MVC App with ServiceStack Auth and Bootstrap
  10. mvcidentityserver  .NET 8 MVC App with ServiceStack and IdentityServer4 Auth
  11. nextjs             .NET 8 Jamstack Next.js SSG React App with Tailwind
  12. razor              .NET 8 Razor Pages App with Tailwind
  13. razor-bootstrap    .NET 8 Razor Pages Identity Auth App with Bootstrap
  14. razor-pages        .NET 8 Razor Pages App with ServiceStack Auth and Bootstrap
  15. razor-press        .NET 8 Statically Generated, CDN hostable Razor Pages Documentation
  16. razor-ssg          .NET 8 Statically Generated, CDN hostable Razor Pages Website
  17. react-spa          .NET 8 React Create App with Bootstrap
  18. script             .NET 8 #Script Pages App with Bootstrap
  19. selfhost           .NET 8 self-hosting Console App
  20. svelte-spa         .NET 8 Svelte v3 Rollup App with Bootstrap
  21. vue-desktop        .NET 8 Chromium Vue Desktop App
  22. vue-mjs            .NET 8 Simple, Modern Vue ServiceStack Auth App with Tailwind
  23. vue-nuxt           .NET 8 Nuxt.js SPA App with Bootstrap
  24. vue-spa            .NET 8 Vue App with Bootstrap
  25. vue-ssg            .NET 8 Jamstack Vue SSG App with Tailwind
  26. vue-vite           .NET 8 Jamstack Vue Vite App with Tailwind
  27. web                .NET 8 Empty App
  28. web-tailwind       .NET 8 Empty App with Tailwind
  29. worker-rabbitmq    .NET 8 Rabbit MQ Worker Service
  30. worker-redismq     .NET 8 Redis MQ Worker Service
  31. worker-servicebus  .NET 8 Azure Service Bus MQ Worker Service
  32. worker-sqs         .NET 8 AWS SQS MQ Worker Service

.NET Framework C# Templates:

   1. angular-spa-netfx         .NET Framework Angular 7 Bootstrap cli.angular.io App
   2. aurelia-spa-netfx         .NET Framework Aurelia Bootstrap Webpack App
   3. mvc-netfx                 .NET Framework MVC Website
   4. razor-netfx               .NET Framework Website with ServiceStack.Razor
   5. react-desktop-apps-netfx  .NET Framework React Desktop Apps
   6. react-spa-netfx           .NET Framework React Bootstrap Webpack App
   7. script-netfx              .NET Framework #Script Pages Bootstrap WebApp
   8. selfhost-netfx            .NET Framework self-hosting HttpListener Console App
   9. vue-nuxt-netfx            .NET Framework Vue Nuxt.js SPA Web App
  10. vue-spa-netfx             .NET Framework Vue Bootstrap Webpack App
  11. vuetify-nuxt-netfx        .NET Framework Vuetify Material Nuxt.js SPA Web App
  12. vuetify-spa-netfx         .NET Framework Vuetify Material Webpack App
  13. web-netfx                 .NET Framework Empty Website
  14. winservice-netfx          .NET Framework Windows Service

ASP.NET Core Framework Templates:

   1. empty-corefx       .NET Framework ASP.NET Core Empty Web Single Project Template
   2. mvc-corefx         .NET Framework ASP.NET Core MVC Website
   3. razor-corefx       .NET Framework ASP.NET Core Website with ServiceStack.Razor
   4. react-lite-corefx  .NET Framework ASP.NET Core lite (npm-free) React SPA using TypeScript
   5. script-corefx      .NET Framework ASP.NET Core #Script Pages Bootstrap Website
   6. selfhost-corefx    .NET Framework ASP.NET Core self-hosting Console App
   7. vue-lite-corefx    .NET Framework ASP.NET Core lite (npm-free) Vue SPA using TypeScript
   8. web-corefx         .NET Framework ASP.NET Core Website
</code></pre>
<h2 id="web-customize-mixmatch-projects-from-gists"><code>web +</code> - customize mix/match projects from gists!<a class="header-anchor" href="javascript:;" onclick="location.hash='#web-customize-mixmatch-projects-from-gists'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Whilst we believe <code>web new</code> is a super simple way to create and maintain project templates, we've also created an even
simpler and lighter way to create projects - from gists!</p>
<p>We can use <code>web +</code> (read as &quot;apply gist&quot;) to create light-weight customized projects by applying multiple gists on top of each other.
One of the major benefits of this approach is that it's not only limited at project creation time as it's also a great way to easily add
&quot;layered functionality&quot; to existing projects and was the catalyst for the new &quot;no touch&quot; <code>IConfigureAppHost</code> interfaces which allows
for easy extension and replacement of isolated AppHost configuration.</p>
<p>We saw an example of this earlier with how we can use this to <a href="#updating-lite-project-dependencies">easily update dependencies in &quot;lite&quot; projects</a>
which is just applying the <strong>vue-lite-lib</strong> and <strong>react-lite-lib</strong> to your existing &quot;lite&quot; projects:</p>
<pre><code>$ web +vue-lite-lib
</code></pre>
<h3 id="usage">Usage<a class="header-anchor" href="javascript:;" onclick="location.hash='#usage'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Similar to <code>web</code> other features, we get the full user experience where we can list, search and apply gists from the commands below:</p>
<pre><code>Usage: 
  web +                       Show available gists
  web +&lt;name&gt;                 Write gist files locally, e.g:
  web + #&lt;tag&gt;                Search available gists
  web gist &lt;gist-id&gt;          Write all Gist text files to current directory
</code></pre>
<p>Where we can view all available gists that we can apply to our projects with:</p>
<pre><code>$ web +
</code></pre>
<p>Which as of this writing lists:</p>
<pre><code>   1. init                 Empty .NET Core 2.2 ServiceStack App                                   to: .                            by @ServiceStack  [project]
   2. init-lts             Empty .NET Core 2.1 LTS ServiceStack App                               to: .                            by @ServiceStack  [project]
   3. init-corefx          Empty ASP.NET Core 2.1 LTS on .NET Framework                           to: .                            by @ServiceStack  [project]
   4. init-sharp-app       Empty ServiceStack Sharp App                                           to: .                            by @ServiceStack  [project]
   5. bootstrap-sharp      Bootstrap + #Script Pages Starter Template                             to: $HOST                        by @ServiceStack  [ui,sharp]
   6. sqlserver            Use OrmLite with SQL Server                                            to: $HOST                        by @ServiceStack  [db]
   7. sqlite               Use OrmLite with SQLite                                                to: $HOST                        by @ServiceStack  [db]
   8. postgres             Use OrmLite with PostgreSQL                                            to: $HOST                        by @ServiceStack  [db]
   9. mysql                Use OrmLite with MySql                                                 to: $HOST                        by @ServiceStack  [db]
  10. auth-db              AuthFeature with OrmLite AuthRepository, CacheClient (requires ui,db)  to: $HOST                        by @ServiceStack  [auth]
  11. auth-memory          AuthFeature with Memory AuthRepository, CacheClient (requires ui)      to: $HOST                        by @ServiceStack  [auth]
  12. validation-contacts  Contacts Validation Example                                            to: $HOST                        by @ServiceStack  [example,sharp]
  13. vue-lite-lib         Update vue-lite projects libraries                                     to: $HOST                        by @ServiceStack  [lib,vue]
  14. react-lite-lib       Update react-lite projects libraries                                   to: $HOST                        by @ServiceStack  [lib,react]
  15. nginx                Nginx reverse proxy config for .NET Core Apps                          to: /etc/nginx/sites-available/  by @ServiceStack  [config]
  16. supervisor           Supervisor config for managed execution of .NET Core Apps              to: /etc/supervisor/conf.d/      by @ServiceStack  [config]
  17. docker               Dockerfile example for .NET Core Web Apps                              to: .                            by @ServiceStack  [config]

 Usage:  web +&lt;name&gt;
         web +&lt;name&gt; &lt;UseName&gt;

Search:  web + #&lt;tag&gt;      Available tags: auth, config, db, example, lib, project, react, sharp, ui, vue
</code></pre>
<p>The way we populate this list is by extending the multi-purpose functionality of Markdown and using it as an &quot;Executable Document&quot;
where the human-friendly <a href="https://gist.github.com/gistlyn/f3fa8c016bbd253badc61d80afe399d9">apply.md</a> document below is also
reused as the datasource to populate the above list:</p>
<p><div><h2 id="apply-gists">Apply Gists<a class="header-anchor" href="javascript:;" onclick="location.hash='#apply-gists'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<pre><code class="language-txt">Usage: 
  web +                       Show available gists
  web +&lt;name&gt;                 Write gist files locally, e.g:
  web + #&lt;tag&gt;                Search available gists
  web gist &lt;gist-id&gt;          Write all Gist text files to current directory
</code></pre>
<h3 id="available-modifers">Available Modifers<a class="header-anchor" href="javascript:;" onclick="location.hash='#available-modifers'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The modifiers next to each gist specify where the gist files should be written to:</p>
<ul>
<li><code>{to:'.'}</code> - Write to current directory (default)</li>
<li><code>{to:'$HOST'}</code> - Write to host project (1st folder containing either <code>appsettings.json,Web.config,App.config,Startup.cs</code>)</li>
<li><code>{to:'wwwroot/'}</code> - Write to first sub directories named <code>wwwroot</code></li>
<li><code>{to:'package.json'}</code> - Write to first directory containing <code>package.json</code></li>
<li><code>{to:'/etc/nginx/sites-available/'}</code> - Write to absolute folder</li>
<li><code>{to:'$HOME/.my-app/'}</code> - Write to <code>$HOME</code> in unix or <code>%USERPROFILE%</code> on windows</li>
<li><code>{to:'${EnumName}/.my-app/'}</code> - Write to <code>Environment.SpecialFolder.{EnumName}</code>, e.g:</li>
<li><code>{to:'$UserProfile/.my-app/'}</code> - Write to <code>Environment.SpecialFolder.UserProfile</code></li>
</ul>
<h3 id="file-name-features">File Name features<a class="header-anchor" href="javascript:;" onclick="location.hash='#file-name-features'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Use <code>\</code> to in gist file names to write files to sub directories, e.g:</p>
<ul>
<li><code>wwwroot\js\script.js</code> - Writes gist file to <code>wwwroot/js/script.js</code></li>
</ul>
<p>Use <code>?</code> at end of filename to indicate optional file that should not be overridden, e.g:</p>
<ul>
<li><code>wwwroot\login.html?</code> - Only writes to <code>wwwroot\login.html</code> if it doesn't already exist.</li>
</ul>
<h3 id="replacement-rules">Replacement rules<a class="header-anchor" href="javascript:;" onclick="location.hash='#replacement-rules'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Any gist file name or contents with different &quot;MyApp&quot; text styles will be replaced with the Project Name in that style, e.g:</p>
<ul>
<li><code>MyApp</code> will be replaced with <code>ProjectName</code></li>
<li><code>my-app</code> will be replaced with <code>project-name</code></li>
<li><code>My App</code> will be replaced with <code>Project Name</code></li>
</ul>
<h3 id="adding-packages">Adding packages<a class="header-anchor" href="javascript:;" onclick="location.hash='#adding-packages'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>To include nuget package dependencies, create a file in your gist called <code>_init</code> with the list of <code>dotnet</code> or <code>nuget</code> commands:</p>
<pre><code>dotnet add package ServiceStack.OrmLite.Sqlite
</code></pre>

</div></p>
<p>This self-documenting list lets you browse all available gists and their contents the same way as the <code>web</code> tool does.</p>
<p>That just like <code>web new</code> can be configured to use your own <code>apply.md</code> Gist document with:</p>
<pre><code>APP_SOURCE_GISTS=&lt;gist id&gt;
</code></pre>
<h3 id="available-gists">Available Gists<a class="header-anchor" href="javascript:;" onclick="location.hash='#available-gists'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>As we expect to see this list of available gists expand greatly in future we've also included support for grouping related gists by <code>&lt;tag&gt;</code>,
e.g. you can view available starting projects with:</p>
<pre><code>$ web + #project
</code></pre>
<pre><code>Results matching tag [project]:

   1. init            Empty .NET Core 2.2 ServiceStack App          to: .  by @ServiceStack  [project]
   2. init-lts        Empty .NET Core 2.1 LTS ServiceStack App      to: .  by @ServiceStack  [project]
   3. init-corefx     Empty ASP.NET Core 2.1 LTS on .NET Framework  to: .  by @ServiceStack  [project]
   4. init-sharp-app  Empty ServiceStack Sharp App                  to: .  by @ServiceStack  [project]

 Usage:  web +&lt;name&gt;
         web +&lt;name&gt; &lt;UseName&gt;

Search:  web + #&lt;tag&gt; Available tags: auth, config, db, example, lib, project, react, sharp, ui, vue
</code></pre>
<p>Which can be chained together to search for all <code>project</code> and <code>sharp</code> gists we can use for <a href="https://sharpscript.net/docs/script-pages">#Script Pages</a> projects:</p>
<pre><code>$ web + #project,sharp
</code></pre>
<pre><code>Results matching tags [project,sharp]:

   1. init                 Empty .NET Core 2.2 ServiceStack App          to: .      by @ServiceStack  [project]
   2. init-lts             Empty .NET Core 2.1 LTS ServiceStack App      to: .      by @ServiceStack  [project]
   3. init-corefx          Empty ASP.NET Core 2.1 LTS on .NET Framework  to: .      by @ServiceStack  [project]
   4. init-sharp-app       Empty ServiceStack Sharp App                  to: .      by @ServiceStack  [project]
   5. bootstrap-sharp      Bootstrap + #Script Pages Starter Template      to: $HOST  by @ServiceStack  [ui,sharp]
   6. validation-contacts  Contacts Validation Example                   to: $HOST  by @ServiceStack  [example,sharp]

 Usage:  web +&lt;name&gt;
         web +&lt;name&gt; &lt;UseName&gt;

Search:  web + #&lt;tag&gt;      Available tags: auth, config, db, example, lib, project, react, sharp, ui, vue
</code></pre>
<h3 id="creating-customized-projects">Creating customized projects<a class="header-anchor" href="javascript:;" onclick="location.hash='#creating-customized-projects'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>From this list we can see that we can create an <strong>Empty .NET Core 2.2 ServiceStack App</strong> by starting in a new App Folder:</p>
<pre><code>$ mkdir ProjectName &amp;&amp; cd ProjectName
</code></pre>
<p>Then applying the <code>init</code> labelled gist which will be saved to the <code>'.'</code> current directory:</p>
<pre><code>$ web +init
</code></pre>
<pre><code>Write files from 'init' https://gist.github.com/gistlyn/58030e271595520d87873c5df5e4c2eb to:
  C:\projects\Example\ProjectName.csproj
  C:\projects\Example\Program.cs
  C:\projects\Example\Properties\launchSettings.json
  C:\projects\Example\ServiceInterface\MyServices.cs
  C:\projects\Example\ServiceModel\Hello.cs
  C:\projects\Example\Startup.cs
  C:\projects\Example\appsettings.Development.json
  C:\projects\Example\appsettings.json

Proceed? (n/Y):
</code></pre>
<p>Where its output will let you inspect and verify the gist it's writing and all the files that it will write to before accepting, by typing <code>y</code> or <code>Enter</code>.</p>
<p>To instead start with the <strong>latest .NET Core LTS release</strong>, run:</p>
<pre><code>$ web +init-lts
</code></pre>
<p>After we've created our empty .NET Core project we can configure it to use <strong>PostgreSQL</strong> with:</p>
<pre><code>$ web +postgres
</code></pre>
<p>Or we can give it a <strong>Bootstrap #Script Pages UI</strong> with:</p>
<pre><code>$ web +bootstrap-sharp
</code></pre>
<p>What's even better is that gists can be chained, so we can create a <strong>.NET Core 2.2 Bootstrap #Script Pages App using PostgreSQL</strong> with:</p>
<pre><code>$ web +init+bootstrap-sharp+postgres
</code></pre>
<p>A <strong>Bootstrap #Script Pages App</strong> that includes a complete <strong>Contacts Validation example</strong> with:</p>
<pre><code>$ web +init+bootstrap-sharp+validation-contacts
</code></pre>
<p>The same as above, but its Auth replaced to persist in a <strong>PostgreSQL</strong> backend:</p>
<pre><code>$ web +init+bootstrap-sharp+validation-contacts+postgres+auth-db
</code></pre>
<p>If we decided later we wanted to switch to use <strong>SQL Server</strong> instead we can just layer it over the top of our existing App:</p>
<pre><code>$ web +sqlserver
</code></pre>
<p>This isn't just limited to gist projects, you can also apply gists when <strong>creating new projects</strong>:</p>
<pre><code>$ web new sharp+postgres+auth-db
</code></pre>
<p>Which will create a <a href="https://github.com/NetCoreTemplates/script">script</a> project configured to use <strong>PostgreSQL Auth</strong>.</p>
<p>This works despite the <code>sharp</code> project being a <a href="/physical-project-structure">multi-project solution</a>
thanks to the <code>to: $HOST</code> modifier which says to <strong>apply the gists files</strong> to the <code>HOST</code> project.</p>
<h3 id="apply-gist-modifiers">Apply Gist Modifiers<a class="header-anchor" href="javascript:;" onclick="location.hash='#apply-gist-modifiers'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>To enable a versatile and fine-grained solution you can use the modifiers below to control how gists are applied:</p>
<p>The modifiers next to each gist specify where the gist files should be written to:</p>
<ul>
<li><code>{to:'.'}</code> - Write to current directory (default)</li>
<li><code>{to:'$HOST'}</code> - Write to host project (1st folder containing either <code>appsettings.json,Web.config,App.config,Startup.cs</code>)</li>
<li><code>{to:'wwwroot/'}</code> - Write to first sub directories named <code>wwwroot</code></li>
<li><code>{to:'package.json'}</code> - Write to first directory containing <code>package.json</code></li>
<li><code>{to:'/etc/nginx/sites-available/'}</code> - Write to absolute folder</li>
<li><code>{to:'$HOME/.my-app/'}</code> - Write to <code>$HOME</code> in unix or <code>%USERPROFILE%</code> on windows</li>
<li><code>{to:'${EnumName}/.my-app/'}</code> - Write to <code>Environment.SpecialFolder.{EnumName}</code>, e.g:</li>
<li><code>{to:'$UserProfile/.my-app/'}</code> - Write to <code>Environment.SpecialFolder.UserProfile</code></li>
</ul>
<h4 id="file-name-features">File Name features<a class="header-anchor" href="javascript:;" onclick="location.hash='#file-name-features'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>Use <code>\</code> in gist file names to write files to sub directories, e.g:</p>
<ul>
<li><code>wwwroot\js\script.js</code> - Writes gist file to <code>wwwroot/js/script.js</code></li>
</ul>
<p>Use <code>?</code> at end of filename to indicate optional file that <strong>should not be overridden</strong>, e.g:</p>
<ul>
<li><code>wwwroot\login.html?</code> - Only writes to <code>wwwroot\login.html</code> if it doesn't already exist.</li>
</ul>
<h4 id="replacement-rules">Replacement rules<a class="header-anchor" href="javascript:;" onclick="location.hash='#replacement-rules'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>Just like <code>web new</code> any gist file name or contents with different &quot;MyApp&quot; text styles will be replaced with the Project Name in that style, e.g:</p>
<ul>
<li><code>MyApp</code> will be replaced with <code>ProjectName</code></li>
<li><code>my-app</code> will be replaced with <code>project-name</code></li>
<li><code>My App</code> will be replaced with <code>Project Name</code></li>
</ul>
<h4 id="adding-packages">Adding packages<a class="header-anchor" href="javascript:;" onclick="location.hash='#adding-packages'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>To include nuget package dependencies, create a file in your gist called <code>_init</code> with the list of <code>dotnet</code> or <code>nuget</code> commands:</p>
<pre><code>dotnet add package ServiceStack.OrmLite.Sqlite
</code></pre>
<h3 id="open-for-gists">Open for Gists!<a class="header-anchor" href="javascript:;" onclick="location.hash='#open-for-gists'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Whilst we intend to use this feature extensively to be able to deliver &quot;pre-set layered functionality&quot; to ServiceStack Users, we're
happy to maintain a curated list of gists that can <strong>help any .NET Core project</strong> as we've done with the <code>config</code> gists:</p>
<pre><code>$ web + #config
</code></pre>
<pre><code>Results matching tag [config]:

   1. nginx       by @ServiceStack  Nginx reverse proxy config for .NET Core Apps              to: /etc/nginx/sites-available/  [config]
   2. supervisor  by @ServiceStack  Supervisor config for managed execution of .NET Core Apps  to: /etc/supervisor/conf.d/      [config]
   3. docker      by @ServiceStack  Dockerfile example for .NET Core Web Apps                  to: .                            [config]
</code></pre>
<p>Where being able to apply pre-configured configuration files like this reduces the required steps and effort to
<a href="/netcore-deploy-rsync">Configure .NET Core Apps to run on Linux</a>.</p>
<h4 id="how-to-include-your-gist">How to include your gist<a class="header-anchor" href="javascript:;" onclick="location.hash='#how-to-include-your-gist'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>To add your gist to the public list <a href="https://gist.github.com/gistlyn/f3fa8c016bbd253badc61d80afe399d9">add a comment to apply.md</a> with
a link to your gist and the modifiers you want it to use.</p>
<h3 id="apply-adhoc-gists">Apply adhoc Gists<a class="header-anchor" href="javascript:;" onclick="location.hash='#apply-adhoc-gists'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Alternatively you can share and apply any gists by <strong>gist id</strong> or <strong>URL</strong>, e.g:</p>
<pre><code>$ web gist 58030e271595520d87873c5df5e4c2eb
$ web gist https://gist.github.com/58030e271595520d87873c5df5e4c2eb
</code></pre>
<h2 id="sourcelink-enabled-packages">SourceLink Enabled Packages<a class="header-anchor" href="javascript:;" onclick="location.hash='#sourcelink-enabled-packages'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>To maximize the debuggability of ServiceStack packages all ServiceStack projects have been overhauled and converted to utilize <strong>MSBuild generated NuGet packages</strong>
where all packages are now embedding <strong>pdb symbols</strong> and have configured <a href="https://github.com/dotnet/sourcelink/">support for SourceLink</a> to
improve the debugging experience of ServiceStack Apps as source files can be downloaded on-the-fly from GitHub as you debug.</p>
<p>Scott Hanselman has written a <a href="https://www.hanselman.com/blog/ExploringNETCoresSourceLinkSteppingIntoTheSourceCodeOfNuGetPackagesYouDontOwn.aspx">nice post on Source Link</a>
and how it can be enabled inside VS.NET by turning on <strong>Enable source link support</strong>:</p>
<p><a href="https://www.hanselman.com/blog/ExploringNETCoresSourceLinkSteppingIntoTheSourceCodeOfNuGetPackagesYouDontOwn.aspx"><img src="https://www.hanselman.com/blog/content/binary/Windows-Live-Writer/7e5fb7b6dad8_140AA/image_0c73cb8d-bd5a-406e-a51d-a2eb4af12117.png" alt="" /></a></p>
<p>When enabled it should let you debug into the ServiceStack framework implementation, downloading the correct source files version from GitHub as and when needed.</p>
<h3 id="all-servicestack-github-projects-now-use-ci-nuget-feed">All ServiceStack GitHub projects now use CI NuGet feed<a class="header-anchor" href="javascript:;" onclick="location.hash='#all-servicestack-github-projects-now-use-ci-nuget-feed'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>In addition to switching to MSBuild generated packages all projects have also switched to using CI NuGet package feeds for external dependencies instead
of copying .dll's in <code>/lib</code> folders. As a consequence you'll no longer have to build external ServiceStack GitHub projects or use GitHub published releases,
as now the <strong>master</strong> repo of all GitHub projects can be built from a clean checkout at anytime.</p>
<p>The pre-release packages are still published using the <strong>same version number</strong> so if you get a build error from having a cached stale package
you'll need to <a href="/pre-release#redownloading-myget-packages">clear your local packages cache</a> to download the latest build packages from the CI NuGet packages feed.</p>
<h2 id="authentication">Authentication<a class="header-anchor" href="javascript:;" onclick="location.hash='#authentication'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>For many Customers the improved Authentication support will be the most important part of this release which saw
a major focus going into enhancing Authentication integration with ASP.NET Core's Claims based Authentication.</p>
<h3 id="community-auth-providers">Community Auth Providers<a class="header-anchor" href="javascript:;" onclick="location.hash='#community-auth-providers'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Before we begin, I'd like to give a shoutout to our amazing community who have been filling in the gaps with the
<a href="/auth/authentication-and-authorization#community-auth-providers">Community Auth Providers</a> when a built-in solution doesn't exist
like the <a href="https://github.com/wwwlicious/servicestack-authentication-identityserver">ServiceStack.Authentication.IdentityServer</a> by
<a href="https://github.com/wwwlicious">@wwwlicious</a> to integrate with a remote Identity Server.</p>
<p>To best way to describe the differences between existing Identity/IdentityServer Auth Providers is that they function on
converting token <strong>inputs</strong> into ServiceStack Authenticated Sessions whereas the new <code>NetCoreIdentityAuthProvider</code> creates Authenticated
Sessions from the Claims based Authentication <strong>outputs</strong> and so still requires Identity/IdentityServer configured as normal
to handle the token Authentication. Depending on your use-case or preferences you may want to continue using and contributing to the existing
<a href="/auth/authentication-and-authorization#community-auth-providers">Community Auth Providers</a> instead.</p>
<h3 id="asp.net-core-identity-auth-provider">ASP.NET Core Identity Auth Provider<a class="header-anchor" href="javascript:;" onclick="location.hash='#asp.net-core-identity-auth-provider'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The central piece that enables integration with ASP.NET Core's Claims Based Authentication is the new <code>NetCoreIdentityAuthProvider</code> which
is a bi-directional adapter that <strong>for non-ServiceStack requests</strong> converts ServiceStack's Authenticated UserSession into an ASP.NET Core Identity
<code>ClaimsPrincipal</code> and lets you use ServiceStack's Auth Model in ASP.NET Core MVC. It also does the inverse where it lets you use
ASP.NET Core's Identity Auth to protect ServiceStack Services in which case it does the reverse and converts an Authenticated <code>ClaimsPrincipal</code>
into a ServiceStack Authenticated User Session.</p>
<p>This enables <strong>3 new popular integration strategies</strong> which lets you have a single Auth Model to protect your hybrid
ServiceStack + MVC Apps:</p>
<ol>
<li>Using ServiceStack Auth in MVC</li>
<li>Using ASP.NET Core Identity in ServiceStack</li>
<li>Using Identity Server in ServiceStack</li>
</ol>
<blockquote>
<p>Note: Despite the new integration possibilities we're continuing to invest and enhance in <a href="/auth/authentication-and-authorization">ServiceStack Auth</a>
where we're able to provide a simpler integrated experience and more optimal implementation as we have full control over the implementation
and is still the better choice if you prefer Roles/Permissions based Authentication (like we do).</p>
</blockquote>
<p>In general if your hybrid App only has a small ServiceStack component and a large MVC component than it may make more sense to
start with the <strong>ASP.NET Core Identity</strong> templates (unless of course, you find ServiceStack Auth to be simpler to use).</p>
<h3 id="use-existing-attributes">Use existing Attributes<a class="header-anchor" href="javascript:;" onclick="location.hash='#use-existing-attributes'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Irrespective of what Auth Provider is used, you'd continue to use the same Auth Attributes to protect ServiceStack Services:</p>
<pre><code class="language-csharp">[Authenticate]
public object Any(RequiresAuth request) =&gt; new RequiresAuthResponse { Result = $&quot;Hello, {request.Name}!&quot; };

[RequiredRole(&quot;Manager&quot;)]
public object Any(RequiresRole request) =&gt; new RequiresRoleResponse { Result = $&quot;Hello, {request.Name}!&quot; };

[RequiredRole(nameof(RoleNames.Admin))]
public object Any(RequiresAdmin request) =&gt; new RequiresAdminResponse { Result = $&quot;Hello, {request.Name}!&quot; };
</code></pre>
<p>and MVC's <code>[Authorize]</code> attribute to protect ASP.NET Core MVC Controllers:</p>
<pre><code class="language-csharp">[Authorize]
public IActionResult RequiresAuth() =&gt; View();

[Authorize(Roles = &quot;Manager&quot;)]
public IActionResult RequiresRole() =&gt; View();

[Authorize(Roles = &quot;Admin&quot;)]
public IActionResult RequiresAdmin() =&gt;View();
</code></pre>
<p>To quickly get started, we've created new pre-configured .NET Core project templates for all 3 scenarios:</p>
<h2 id="using-servicestack-auth-in-mvc">Using ServiceStack Auth in MVC<a class="header-anchor" href="javascript:;" onclick="location.hash='#using-servicestack-auth-in-mvc'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p><a href="https://github.com/NetCoreTemplates/mvcauth">mvcauth</a> is a .NET Core 2.2 MVC Website integrated with ServiceStack Auth:</p>
<p><a href="https://github.com/NetCoreTemplates/mvcauth"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/csharp-templates/mvcauth.png" alt="" /></a></p>
<p>Create new <code>mvcauth</code> project with:</p>
<pre><code>$ web new mvcauth ProjectName
</code></pre>
<p>The ServiceStack Auth is pre-configured to persist users in an OrmLite Auth Repository (default SQLite) and enables both local
Username/Password Credentials Auth as well as external Sign In's via Facebook, Twitter, Google and the new Microsoft Graph OAuth providers:</p>
<pre><code class="language-csharp">container.Register&lt;IDbConnectionFactory&gt;(c =&gt;
    new OrmLiteConnectionFactory(&quot;:memory:&quot;, SqliteDialect.Provider));

container.Register&lt;IAuthRepository&gt;(c =&gt;
    new OrmLiteAuthRepository(c.Resolve&lt;IDbConnectionFactory&gt;()) {
        UseDistinctRoleTables = true,
    });
container.Resolve&lt;IAuthRepository&gt;().InitSchema();

// TODO: Replace OAuth App settings in: appsettings.Development.json
Plugins.Add(new AuthFeature(() =&gt; new CustomUserSession(), 
    new IAuthProvider[] {
        new NetCoreIdentityAuthProvider(AppSettings) { // Adapter to enable ServiceStack Auth in MVC
            AdminRoles = { &quot;Manager&quot; }, // Automatically Assign additional roles to Admin Users
        },
        new CredentialsAuthProvider(AppSettings), // Sign In with Username / Password credentials 
        new FacebookAuthProvider(AppSettings),    // Create App at: https://developers.facebook.com/apps
        new TwitterAuthProvider(AppSettings),     // Create App at: https://dev.twitter.com/apps
        new GoogleAuthProvider(AppSettings),      // https://console.developers.google.com/apis/credentials
        new MicrosoftGraphAuthProvider(AppSettings), // Create App https://apps.dev.microsoft.com
    }) {
    IncludeRegistrationService = true,
    IncludeAssignRoleServices = false,
});
</code></pre>
<p>In ServiceStack users with the <code>Admin</code> roles are &quot;super users&quot; with unrestricted access to all protected resources whereas in MVC we need to specify
all the Roles Admin Users should have access to with <code>AdminRoles</code> above.</p>
<p>We also see the built-in <code>Register</code> and <code>AssignRoles</code> Services are enabled to allow new User Registration and assignment of roles/permissions to existing users.</p>
<p>On Startup, 3 users are created to test out the different access levels:</p>
<ol>
<li>A basic Authenticated User</li>
<li>A Manager with the <code>Manager</code> role</li>
<li>A Super User with the <code>Admin</code> role</li>
</ol>
<pre><code class="language-csharp">if (authRepo.GetUserAuthByUserName(&quot;user@gmail.com&quot;) == null)
{
    var testUser = authRepo.CreateUserAuth(new UserAuth
    {
        DisplayName = &quot;Test User&quot;,
        Email = &quot;user@gmail.com&quot;,
        FirstName = &quot;Test&quot;,
        LastName = &quot;User&quot;,
    }, &quot;p@55wOrd&quot;);
}

if (authRepo.GetUserAuthByUserName(&quot;manager@gmail.com&quot;) == null)
{
    var roleUser = authRepo.CreateUserAuth(new UserAuth
    {
        DisplayName = &quot;Test Manager&quot;,
        Email = &quot;manager@gmail.com&quot;,
        FirstName = &quot;Test&quot;,
        LastName = &quot;Manager&quot;,
    }, &quot;p@55wOrd&quot;);
    authRepo.AssignRoles(roleUser, roles:new[]{ &quot;Manager&quot; });
}

if (authRepo.GetUserAuthByUserName(&quot;admin@gmail.com&quot;) == null)
{
    var roleUser = authRepo.CreateUserAuth(new UserAuth
    {
        DisplayName = &quot;Admin User&quot;,
        Email = &quot;admin@gmail.com&quot;,
        FirstName = &quot;Admin&quot;,
        LastName = &quot;User&quot;,
    }, &quot;p@55wOrd&quot;);
    authRepo.AssignRoles(roleUser, roles:new[]{ &quot;Admin&quot; });
}
</code></pre>
<p>You can sign in with any of these users and go to the the home page to test the behavior of the different granular protection levels
which contains links to both MVC and ServiceStack Public and Protected Pages and Services.</p>
<p><strong>mvcauth</strong> also comes complete with User Registration where users can Sign up with either Password or using any of the registered OAuth providers:</p>
<p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/csharp-templates/mvcauth-login.png" alt="" /></p>
<h3 id="defaults-to-mvc-auth-redirect-conventions">Defaults to MVC Auth Redirect Conventions<a class="header-anchor" href="javascript:;" onclick="location.hash='#defaults-to-mvc-auth-redirect-conventions'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>When using <code>NetCoreIdentityAuthProvider</code> we assume you're going to use MVC for your UI so it overrides the HTML Redirects
that Users will be redirected to when trying to access Pages they don't have access to:</p>
<pre><code class="language-csharp">authFeature.HtmlRedirect = &quot;~/Account/Login&quot;;
authFeature.HtmlRedirectAccessDenied = &quot;~/Account/AccessDenied&quot;;
authFeature.HtmlRedirectReturnParam = &quot;ReturnUrl&quot;;
authFeature.HtmlRedirectReturnPathOnly = true;
</code></pre>
<p>Where non-Authenticated Users will be redirected to MVC's convention of <code>/Account/Login?ReturnUrl=</code> instead of ServiceStack's <code>/login?redirect=</code>.</p>
<p>Alternatively you can retain ServiceStack's HTML redirect defaults with:</p>
<pre><code class="language-csharp">new NetCoreIdentityAuthProvider(AppSettings) {
    OverrideHtmlRedirect = false
}
</code></pre>
<h2 id="using-asp.net-identity-auth-in-servicestack">Using ASP.NET Identity Auth in ServiceStack<a class="header-anchor" href="javascript:;" onclick="location.hash='#using-asp.net-identity-auth-in-servicestack'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p><a href="https://github.com/NetCoreTemplates/mvcidentity">mvcidentity</a> is a .NET Core 2.2 MVC Website integrated with ServiceStack using ASP.NET Identity Auth:</p>
<p><a href="https://github.com/NetCoreTemplates/mvcidentity"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/csharp-templates/mvcidentity.png" alt="" /></a></p>
<p>Create new <code>mvcidentity</code> project with:</p>
<pre><code>$ web new mvcidentity ProjectName
</code></pre>
<p><a href="https://github.com/NetCoreTemplates/mvcidentity">mvcidentity</a> is essentially the same App with the same functionality as <a href="https://github.com/NetCoreTemplates/mvcauth">mvcauth</a>
but rewritten to use ASP.NET Identity Auth instead of ServiceStack Auth, including the registration options which are handled implemented
using MVC Controllers instead of ServiceStack's built-in Services:</p>
<p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/csharp-templates/mvcidentity-login.png" alt="" /></p>
<p><code>mvcidentity</code> defaults to using EF and SQL Server which we expect to be the most popular configuration:</p>
<pre><code class="language-csharp">services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;
    options.UseSqlServer(Configuration.GetConnectionString(&quot;DefaultConnection&quot;)));

services.AddIdentity&lt;ApplicationUser, IdentityRole&gt;(options =&gt; {
        options.User.AllowedUserNameCharacters = null;
    })
    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;()
    .AddDefaultTokenProviders();
</code></pre>
<p>The rest of <a href="https://github.com/NetCoreTemplates/mvcidentity/blob/master/MyApp/Startup.cs">Startup.cs</a> contains the
standard setup for configuring ASP.NET Identity Auth with the same Twitter, Facebook, Google and Microsoft OAuth Providers.</p>
<p>A custom <a href="https://github.com/NetCoreTemplates/mvcidentity/blob/master/MyApp/Models/ApplicationUser.cs">ApplicationUser</a>
EF DataModel is used to better prepare for real world usage to show how to propagate custom User metadata<br />
down into Authenticated UserSessions. <code>mvcidentity</code> starts with an extended <code>ApplicationUser</code> that captures basic info about
the user and capture external references to any 3rd Party OAuth providers that Users have signed in with:</p>
<pre><code class="language-csharp">public class ApplicationUser : IdentityUser
{
    public string FirstName { get; set; }
    public string LastName { get; set; }
    public string DisplayName { get; set; }

    public string TwitterUserId { get; set; }
    public string TwitterScreenName { get; set; }

    public string FacebookUserId { get; set; }

    public string GoogleUserId { get; set; }

    public string GoogleProfilePageUrl { get; set; }

    public string MicrosoftUserId { get; set; }
    
    public string ProfileUrl { get; set; }
}
</code></pre>
<h3 id="mapping-customizations">Mapping Customizations<a class="header-anchor" href="javascript:;" onclick="location.hash='#mapping-customizations'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>By default the <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/NetCoreIdentityAuthProvider.cs">NetCoreIdentityAuthProvider.cs</a>
uses the <code>MapClaimsToSession</code> dictionary to map well known <code>ClaimTypes</code> Properties to their natural <code>AuthUserSession</code> property:</p>
<pre><code class="language-csharp">public Dictionary&lt;string, string&gt; MapClaimsToSession { get; set; } = new Dictionary&lt;string, string&gt; {
    [ClaimTypes.Email] = nameof(AuthUserSession.Email),
    [ClaimTypes.Name] = nameof(AuthUserSession.UserAuthName),
    [ClaimTypes.GivenName] = nameof(AuthUserSession.FirstName),
    [ClaimTypes.Surname] = nameof(AuthUserSession.LastName),
    [ClaimTypes.StreetAddress] = nameof(AuthUserSession.Address),
    [ClaimTypes.Locality] = nameof(AuthUserSession.City),
    [ClaimTypes.StateOrProvince] = nameof(AuthUserSession.State),
    [ClaimTypes.PostalCode] = nameof(AuthUserSession.PostalCode),
    [ClaimTypes.Country] = nameof(AuthUserSession.Country),
    [ClaimTypes.OtherPhone] = nameof(AuthUserSession.PhoneNumber),
    [ClaimTypes.DateOfBirth] = nameof(AuthUserSession.BirthDateRaw),
    [ClaimTypes.Gender] = nameof(AuthUserSession.Gender),
    [ClaimTypes.Dns] = nameof(AuthUserSession.Dns),
    [ClaimTypes.Rsa] = nameof(AuthUserSession.Rsa),
    [ClaimTypes.Sid] = nameof(AuthUserSession.Sid),
    [ClaimTypes.Hash] = nameof(AuthUserSession.Hash),
    [ClaimTypes.HomePhone] = nameof(AuthUserSession.HomePhone),
    [ClaimTypes.MobilePhone] = nameof(AuthUserSession.MobilePhone),
    [ClaimTypes.Webpage] = nameof(AuthUserSession.Webpage),
};
</code></pre>
<p>Which you can also extend or modify to handle any additional straightforward <strong>1:1 mappings</strong>.</p>
<h3 id="custom-mappings">Custom Mappings<a class="header-anchor" href="javascript:;" onclick="location.hash='#custom-mappings'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Alternatively you can use <code>PopulateSessionFilter</code> to apply additional logic when creating a <code>UserSession</code> from a <code>ClaimsPrincipal</code>
which is what's needed to copy over <strong>EF Identity Roles</strong> when using EF Identity Auth with ServiceStack.</p>
<p>As <code>mvcidentity</code> doesn't have a dependency on OrmLite you could choose to populate roles using EF's APIs directly:</p>
<pre><code class="language-csharp">new NetCoreIdentityAuthProvider(AppSettings) 
{
    PopulateSessionFilter = (session, principal, req) =&gt; 
    {
        var userManager = req.TryResolve&lt;UserManager&lt;ApplicationUser&gt;&gt;();
        var user = userManager.FindByIdAsync(session.Id).Result;
        var roles = userManager.GetRolesAsync(user).Result;        
    }
},
</code></pre>
<p>Whilst this works it uses &quot;sync over async&quot; which is
<a href="https://github.com/davidfowl/AspNetCoreDiagnosticScenarios/blob/master/AsyncGuidance.md">discouraged and problematic in many use-cases</a>,
less efficient than just sync and UserManager's limited API available forces multiple DB calls and more data over the wire than just the role names needed.</p>
<h3 id="built-in-identity-db-apis">Built-in Identity DB APIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#built-in-identity-db-apis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Instead we recommend instead using the more optimal <code>IDbConnection.GetIdentityUserRolesById()</code> API which returns just the role names in
a single indexed DB query.</p>
<p>If you're not using OrmLite you can utilize EF's configured <strong>DB Connection</strong> by adding this extension method to your host project:</p>
<pre><code class="language-csharp">public static class AppExtensions
{
    public static T DbExec&lt;T&gt;(this IServiceProvider services, Func&lt;IDbConnection, T&gt; fn) =&gt; services
        .DbContextExec&lt;ApplicationDbContext,T&gt;(x =&gt; { x.Database.OpenConnection(); return x.Database.GetDbConnection(); }, fn);
}
</code></pre>
<p>Where you'll able to use it to perform adhoc DB queries, in this case calling <code>GetIdentityUserRolesById()</code> to populate the Users roles:</p>
<pre><code class="language-csharp">new NetCoreIdentityAuthProvider(AppSettings) 
{
    PopulateSessionFilter = (session, principal, req) =&gt; 
    {
        session.Roles = ApplicationServices.DbExec(db =&gt; db.GetIdentityUserRolesById(session.Id));
    }
}
</code></pre>
<p>This gets called whenever <strong>ServiceStack receives an Authenticated Request</strong> which you can intercept and customize how <code>ClaimsPrincipal</code>
are mapped to ServiceStack User Sessions.</p>
<p>To improve performance and save the DB hit, we recommend caching the User Roles into an In Memory Cache:</p>
<pre><code class="language-csharp">new NetCoreIdentityAuthProvider(AppSettings) 
{
    PopulateSessionFilter = (session, principal, req) =&gt; 
    {
        session.Roles = req.GetMemoryCacheClient().GetOrCreate(
            IdUtils.CreateUrn(nameof(session.Roles), session.Id),
            TimeSpan.FromMinutes(5),
            () =&gt; ApplicationServices.DbExec(db =&gt; db.GetIdentityUserRolesById(session.Id)));
    }
},
</code></pre>
<blockquote>
<p>Alternatively use <code>req.GetCacheClient()</code> if you want to use your registered <code>ICacheClient</code> provider instead.</p>
</blockquote>
<h3 id="propagating-extended-user-info">Propagating Extended User Info<a class="header-anchor" href="javascript:;" onclick="location.hash='#propagating-extended-user-info'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>In addition to populating the Users Roles we also want to populate our custom User metadata on our <code>ApplicationUser</code> EF model,
for this we can use the new <code>GetIdentityUserById&lt;T&gt;</code> API which we'll also want to cache.</p>
<p>This brings us to the end result in <a href="https://github.com/NetCoreTemplates/mvcidentity">mvcidentity</a> project template:</p>
<pre><code class="language-csharp">Plugins.Add(new AuthFeature(() =&gt; new CustomUserSession(), 
    new IAuthProvider[] {
        new NetCoreIdentityAuthProvider(AppSettings) // Adapter to enable ASP.NET Identity Auth in ServiceStack
        {
            AdminRoles = { &quot;Manager&quot; }, // Automatically Assign additional roles to Admin Users
            PopulateSessionFilter = (session, principal, req) =&gt; 
            {
                //Example of populating ServiceStack Session Roles + Custom Info from EF Identity DB
                var user = req.GetMemoryCacheClient().GetOrCreate(
                    IdUtils.CreateUrn(nameof(ApplicationUser), session.Id),
                    TimeSpan.FromMinutes(5), // return cached results before refreshing cache from db every 5mins
                    () =&gt; ApplicationServices.DbExec(db =&gt; db.GetIdentityUserById&lt;ApplicationUser&gt;(session.Id)));

                session.Email = session.Email ?? user.Email;
                session.FirstName = session.FirstName ?? user.FirstName;
                session.LastName = session.LastName ?? user.LastName;
                session.DisplayName = session.DisplayName ?? user.DisplayName;
                session.ProfileUrl = user.ProfileUrl ?? AuthMetadataProvider.DefaultNoProfileImgUrl;

                session.Roles = req.GetMemoryCacheClient().GetOrCreate(
                    IdUtils.CreateUrn(nameof(session.Roles), session.Id),
                    TimeSpan.FromMinutes(5), // return cached results before refreshing cache from db every 5mins
                    () =&gt; ApplicationServices.DbExec(db =&gt; db.GetIdentityUserRolesById(session.Id)));
            }
        }, 
    }));
</code></pre>
<h2 id="using-identityserver4-auth-in-servicestack">Using IdentityServer4 Auth in ServiceStack<a class="header-anchor" href="javascript:;" onclick="location.hash='#using-identityserver4-auth-in-servicestack'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p><a href="https://github.com/NetCoreTemplates/mvcidentityserver">mvcidentityserver</a> .NET Core 2.1 MVC Website integrated with IdentityServer4 Auth and ServiceStack:</p>
<p><a href="https://github.com/NetCoreTemplates/mvcidentityserver"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/csharp-templates/mvcidentityserver.png" alt="" /></a></p>
<p>The <a href="https://github.com/NetCoreTemplates/mvcidentityserver">mvcidentityserver</a> builds upon Identity Server's
<a href="https://github.com/IdentityServer/IdentityServer4.Samples/tree/master/Quickstarts/5_HybridFlowAuthenticationWithApiAccess">OpenID Connect Hybrid Flow Authentication and API Access Tokens</a>
Quickstart project to include integration with ServiceStack and additional OAuth providers.</p>
<p>The home page has also been customized to contain the same functionality as the other 2 templates with some additional features to validate against custom
OAuth App scopes and <strong>Delegation Auth Pages</strong> showing how to make Authenticated API requests to our remote microservices from within MVC Controllers.</p>
<p>In contrast to integrating Authentication into our App directly, <a href="https://github.com/NetCoreTemplates/mvcidentityserver">mvcidentityserver</a> configures a central
<strong>remote IdentityServer instance</strong> with the Auth Features and OAuth providers we want available to our Apps.</p>
<p>Then when non Authenticated users go to a protected resource they're redirected to the Sign In page on IdentityServer:</p>
<p><a href="https://github.com/NetCoreTemplates/mvcidentityserver"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/csharp-templates/mvcidentityserver-is4.png" alt="" /></a></p>
<p>Users can sign in using the same Credentials or external OAuth Providers but are presented with an additional <strong>consent</strong> screen to grant the App permission to access their
User profile information and access to custom features the App needs:</p>
<p><a href="https://github.com/NetCoreTemplates/mvcidentityserver"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/csharp-templates/mvcidentityserver-is4-allow.png" alt="" /></a></p>
<p>Once granted the Auth information is captured in a stateless IdentityServer Token, stored in a cookie and redirected back to the App.</p>
<h4 id="physical-project-structure">Physical Project Structure<a class="header-anchor" href="javascript:;" onclick="location.hash='#physical-project-structure'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p><a href="https://github.com/NetCoreTemplates/mvcidentityserver">mvcidentityserver</a> is pre-configured with <strong>3 Host projects</strong>:</p>
<ul>
<li><a href="https://github.com/NetCoreTemplates/mvcidentityserver/tree/master/IdentityServer">/IdentityServer</a> - The Central IdentityServer Auth Server (port <strong>5000</strong>)</li>
<li><a href="https://github.com/NetCoreTemplates/mvcidentityserver/tree/master/MyApp">/ProjectName</a> - Our Hybrid MVC + ServiceStack App (port <strong>5002</strong>)</li>
<li><a href="https://github.com/NetCoreTemplates/mvcidentityserver/tree/master/MyApp.Api">/ProjectName.Api</a> - Example Microservice API used by Hybrid App (port <strong>5001</strong>)</li>
</ul>
<h3 id="identityserver">IdentityServer<a class="header-anchor" href="javascript:;" onclick="location.hash='#identityserver'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The IdentityServer instance is configured in <a href="https://github.com/NetCoreTemplates/mvcidentityserver/blob/master/IdentityServer/Startup.cs">Startup.cs</a>
which contains all <strong>external OAuth providers</strong> we want to allow Sign Ins from, the <strong>OpenId Connect Endpoint</strong> which allows Sign Ins from another external
IdentityServer on <a href="https://demo.identityserver.io/">demo.identityserver.io</a> and all its pre-configured Users, Identity Resources, API Resources and Clients
defined in <a href="https://github.com/NetCoreTemplates/mvcidentityserver/blob/master/IdentityServer/Config.cs">Config.cs</a>.</p>
<h3 id="app">App<a class="header-anchor" href="javascript:;" onclick="location.hash='#app'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The App's <a href="https://github.com/NetCoreTemplates/mvcidentityserver/blob/master/MyApp/Startup.cs">Startup.cs</a> consists of configuring the OpenId Connect Endpoint
to our Central <strong>IdentityServer</strong> containing additional customizations to control what <code>Claims</code> the Authenticated <code>ClaimsPrincipal</code> will have:</p>
<pre><code class="language-csharp">services.AddAuthentication(options =&gt;
    {
        options.DefaultScheme = &quot;Cookies&quot;;
        options.DefaultChallengeScheme = &quot;oidc&quot;;
    })
    .AddCookie(&quot;Cookies&quot;)
    .AddOpenIdConnect(&quot;oidc&quot;, options =&gt;
    {
        options.SignInScheme = &quot;Cookies&quot;;

        options.Authority = &quot;http://localhost:5000&quot;;
        options.RequireHttpsMetadata = false;

        options.ClientId = &quot;mvc&quot;;
        options.ClientSecret = &quot;secret&quot;;
        options.ResponseType = &quot;code id_token&quot;;

        options.SaveTokens = true;
        options.GetClaimsFromUserInfoEndpoint = true;

        options.Scope.Add(&quot;api1&quot;);
        options.Scope.Add(&quot;offline_access&quot;);
        
        options.ClaimActions.MapJsonKey(&quot;website&quot;, &quot;website&quot;);
        options.ClaimActions.MapJsonKey(&quot;role&quot;, &quot;role&quot;);
        options.ClaimActions.Add(new AdminRolesClaimAction(&quot;Manager&quot;, &quot;Employee&quot;));
        
        options.TokenValidationParameters = new TokenValidationParameters
        {
            NameClaimType = &quot;name&quot;,
            RoleClaimType = &quot;role&quot;
        };

        options.Events = new OpenIdConnectEvents {
            OnRemoteFailure = CustomHandlers.HandleCancelAction,
            OnTokenResponseReceived = CustomHandlers.CopyAllowedScopesToUserClaims,                        
        };
    });
</code></pre>
<p>The only customization needed in ServiceStack is to specify the different custom name being used for <code>RoleClaimType</code>:</p>
<pre><code class="language-csharp">Plugins.Add(new AuthFeature(() =&gt; new CustomUserSession(), 
    new IAuthProvider[] {
        // Adapter to enable ASP.NET Core Identity Auth in ServiceStack
        new NetCoreIdentityAuthProvider(AppSettings) {
            RoleClaimType = &quot;role&quot;
        }, 
    }));
</code></pre>
<p>The <code>MapJsonKey</code> contains a whitelist of properties in Identity Server's Token we want propagated to <code>Claims</code>.
The <code>AdminRolesClaimAction</code> is a custom <code>ClaimAction</code> we can use to add additional <code>AdminRoles</code> to users with the <code>RoleNames.Admin</code> role:</p>
<pre><code class="language-csharp">/// &lt;summary&gt;
/// Use this class to assign additional roles to Admin Users
/// &lt;/summary&gt;
public class AdminRolesClaimAction : ClaimAction
{
    string[] AdminRoles { get; }
    public AdminRolesClaimAction(params string[] adminRoles) : base(&quot;role&quot;, null) =&gt; AdminRoles = adminRoles;

    public override void Run(JObject userData, ClaimsIdentity identity, string issuer)
    {
        if (!HasAdminRole(userData)) return;
        foreach (var role in AdminRoles)
        {
            identity.AddClaim(new Claim(&quot;role&quot;, role));
        }
    }

    private bool HasAdminRole(JObject userData)
    {
        var jtoken = userData?[this.ClaimType];
        if (jtoken is JValue)
        {
            if (jtoken?.ToString() == RoleNames.Admin)
                return true;
        }
        else if (jtoken is JArray)
        {
            foreach (var obj in jtoken)
                if (obj?.ToString() == RoleNames.Admin)
                    return true;
        }
        return false;
    }
}
</code></pre>
<p>The <code>OpenIdConnectEvents</code> lets us intercept the original IdentityServer token so we can extract the custom <strong>OAuth scopes</strong> the User
has granted the App and add them to <code>scope</code> Claims:</p>
<pre><code class="language-csharp">public static class CustomHandlers
{
    /// &lt;summary&gt;
    /// Use this handler to copy requested Scopes to User Claims so they can be validated using a Policy  
    /// &lt;/summary&gt;
    public static Task CopyAllowedScopesToUserClaims(TokenResponseReceivedContext context)
    {
        var scopes = context.ProtocolMessage.Scope?.Split(' ');
        if (scopes != null &amp;&amp; context.Principal.Identity is ClaimsIdentity identity)
        {
            foreach (var scope in scopes)
            {
                identity.AddClaim(new Claim(&quot;scope&quot;, scope));
            }
        }
        return Task.CompletedTask;
    }

    public static Task HandleCancelAction(RemoteFailureContext context)
    {
        context.Response.Redirect(&quot;/&quot;);
        context.HandleResponse();
        return Task.CompletedTask;
    }
}
</code></pre>
<p>Now that our populated claims contains the granted OAuth scopes we can validate against it in ServiceStack Services using the new <code>[RequiredClaim]</code> attribute:</p>
<pre><code class="language-csharp">[RequiredClaim(&quot;scope&quot;, &quot;profile&quot;)]
public object Any(RequiresScope request)
{
    return new RequiresScopeResponse { Result = $&quot;Hello, {request.Name}!&quot; };
}
</code></pre>
<p>In MVC we need create a custom Auth Policy:</p>
<pre><code class="language-csharp">services.AddAuthorization(options =&gt; {
    options.AddPolicy(&quot;ProfileScope&quot;, policy =&gt;
        policy.RequireClaim(&quot;scope&quot;, &quot;profile&quot;));
});
</code></pre>
<p>That can then be used in our MVC Controllers using the <code>[Authorize]</code> attribute, referencing our custom policy:</p>
<pre><code class="language-csharp">[Authorize(Policy = &quot;ProfileScope&quot;)]
public async Task&lt;IActionResult&gt; RequiresScope()
{
    var accessToken = await HttpContext.GetTokenAsync(&quot;access_token&quot;);

    return View();
}
</code></pre>
<h4 id="delegated-auth-pages">Delegated Auth Pages<a class="header-anchor" href="javascript:;" onclick="location.hash='#delegated-auth-pages'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p><a href="https://github.com/NetCoreTemplates/mvcidentityserver">mvcidentityserver</a> also contains examples showing how to make
Authenticated API Requests to a remote Web API Service using <code>HttpClient</code>:</p>
<pre><code class="language-csharp">public async Task&lt;IActionResult&gt; CallWebApi()
{
    var accessToken = await HttpContext.GetTokenAsync(&quot;access_token&quot;);

    var client = new HttpClient();
    client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(&quot;Bearer&quot;, accessToken);
    var content = await client.GetStringAsync(&quot;http://localhost:5001/webapi-identity&quot;);

    ViewBag.Json = JArray.Parse(content).ToString();
    return View(&quot;json&quot;);
}
</code></pre>
<p>The same <code>HttpClient</code> request to call an Authenticated ServiceStack Service:</p>
<pre><code class="language-csharp">public async Task&lt;IActionResult&gt; CallServiceStack()
{
    var accessToken = await HttpContext.GetTokenAsync(&quot;access_token&quot;);

    var client = new HttpClient();
    client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(&quot;Bearer&quot;, accessToken);
    client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(MimeTypes.Json)); 
    var json = await client.GetStringAsync(&quot;http://localhost:5001/servicestack-identity&quot;);

    ViewBag.Json = json.IndentJson();
    return View(&quot;json&quot;);
}
</code></pre>
<p>We need the additional <code>Accept</code> JSON HTTP header to tell ServiceStack which of the registered Content Types
we want to receive the response in.</p>
<p>Alternatively we can make Authenticated Requests using the more typed and terse <a href="/csharp-client">C#/.NET Service Client</a>:</p>
<pre><code class="language-csharp">public async Task&lt;IActionResult&gt; CallServiceClient()
{
    var accessToken = await HttpContext.GetTokenAsync(&quot;access_token&quot;);

    var client = new JsonServiceClient(&quot;http://localhost:5001/&quot;) {
        BearerToken = accessToken
    };
    var response = await client.GetAsync(new GetIdentity());

    ViewBag.Json = response.ToJson().IndentJson();
    return View(&quot;json&quot;);
}
</code></pre>
<h3 id="api">API<a class="header-anchor" href="javascript:;" onclick="location.hash='#api'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The API's <a href="https://github.com/NetCoreTemplates/mvcidentityserver/blob/master/MyApp.Api/Startup.cs">Startup.cs</a> is configured to accept
Bearer Tokens issued by our central <strong>IdentityServer</strong>:</p>
<pre><code class="language-csharp">services.AddAuthentication(&quot;Bearer&quot;)
    .AddJwtBearer(&quot;Bearer&quot;, options =&gt; {
        options.Authority = &quot;http://localhost:5000&quot;;
        options.RequireHttpsMetadata = false;

        options.Audience = &quot;api1&quot;;
    });
</code></pre>
<p>Nothing special is needed for ServiceStack here other than registering the Identity Auth Provider adapter:</p>
<pre><code class="language-csharp">Plugins.Add(new AuthFeature(() =&gt; new AuthUserSession(), 
    new IAuthProvider[] {
        new NetCoreIdentityAuthProvider(AppSettings), 
    }));
</code></pre>
<p>The <code>GetIdentity</code> ServiceStack Service then returns the populated <code>AuthUserSession</code> and all claims contained in the Bearer Token:</p>
<pre><code class="language-csharp">[Route(&quot;/servicestack-identity&quot;)]
public class GetIdentity : IReturn&lt;GetIdentityResponse&gt; { }

public class GetIdentityResponse
{
    public List&lt;Property&gt; Claims { get; set; }
    public AuthUserSession Session { get; set; }
}

[Authenticate]
public class IdentityService : Service
{
    public object Any(GetIdentity request)
    {
        return new GetIdentityResponse {
            Claims = Request.GetClaims().Map(x =&gt; new Property { Name = x.Type, Value = x.Value }),
            Session = SessionAs&lt;AuthUserSession&gt;(),
        };
    }
}
</code></pre>
<h2 id="servicestack">ServiceStack<a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<h3 id="appsettings.net-core-configuration-conventions">AppSettings .NET Core Configuration conventions<a class="header-anchor" href="javascript:;" onclick="location.hash='#appsettings.net-core-configuration-conventions'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>To improve integration with .NET Core's Configuration API, using the <code>:</code> in your AppSettings Key can be used to navigate nested configuration, e.g:</p>
<pre><code class="language-json">{
    &quot;A&quot;: { 
        &quot;B&quot;: { 
            &quot;C&quot;: &quot;value&quot; 
        } 
    }
}
</code></pre>
<p>You can retrieve the nested configuration above with:</p>
<pre><code class="language-csharp">var value = AppSettings.GetString(&quot;A:B:C&quot;);
</code></pre>
<p>See <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.Common.Tests/Configuration/NetCoreAppSettingsTests.cs">NetCoreAppSettingsTests.cs</a>
for more examples.</p>
<h3 id="update-servicestacklicense-configuration">Update <code>servicestack:license</code> configuration<a class="header-anchor" href="javascript:;" onclick="location.hash='#update-servicestacklicense-configuration'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>This is a <strong>breaking change</strong> if you were relying on Auto License Key registration in <code>appsettings.json</code> with:</p>
<pre><code class="language-json">{
    &quot;servicestack:license&quot;: &quot;{LICENSE_KEY}&quot;
}
</code></pre>
<p>Which now needs to be changed to:</p>
<pre><code class="language-json">{
    &quot;servicestack&quot; : {
        &quot;license&quot;: &quot;{LICENSE_KEY}&quot;
    }
}
</code></pre>
<p>Alternatively you can use your own key without <code>:</code> and register your license key manually:</p>
<pre><code class="language-json">{
    &quot;servicestack_license&quot;: &quot;{LICENSE_KEY}&quot;
}
</code></pre>
<p>Then you can register the key as a normal string app setting, e.g:</p>
<pre><code class="language-csharp">Licensing.RegisterLicense(AppSettings.GetString(&quot;servicestack_license&quot;));
</code></pre>
<h3 id="new-auth-providers">New Auth Providers<a class="header-anchor" href="javascript:;" onclick="location.hash='#new-auth-providers'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>In coordination with winding down our support for <a href="https://www.nuget.org/packages/ServiceStack.Authentication.OAuth2">ServiceStack.Authentication.OAuth2</a> and
<a href="https://www.nuget.org/packages/ServiceStack.Authentication.OpenId">ServiceStack.Authentication.OpenId</a> packages that depends on the abandoned <strong>DotNetOpenAuth</strong>,
we've rewritten the remaining popular Auth Providers to not have any dependencies where they're now included in
<a href="https://github.com/ServiceStack/ServiceStack/tree/master/src/ServiceStack/Auth">ServiceStack.Auth</a> and can be used in all .NET Framework and .NET Core hosts:</p>
<ul>
<li><code>LinkedInAuthProvider</code></li>
<li><code>GoogleAuthProvider</code></li>
</ul>
<h3 id="microsoft-graph-auth-provider">Microsoft Graph Auth Provider<a class="header-anchor" href="javascript:;" onclick="location.hash='#microsoft-graph-auth-provider'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>We've also added a new Microsoft Auth Provider to authenticate using <a href="https://graph.microsoft.com">Microsoft's Graph API</a>:</p>
<ul>
<li><code>MicrosoftGraphAuthProvider</code></li>
</ul>
<p>To get started quickly with the Microsoft and Google Auth providers, create a new <a href="https://github.com/NetCoreTemplates/mvcauth">mvcauth</a> project with:</p>
<pre><code>$ web new mvcauth ProjectName
</code></pre>
<p><a href="https://github.com/NetCoreTemplates/mvcauth"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/csharp-templates/mvcauth-login.png" alt="" /></a></p>
<h4 id="oauth-setup">OAuth Setup<a class="header-anchor" href="javascript:;" onclick="location.hash='#oauth-setup'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>You'll need to Replace the <code>oauth.*</code> App settings with your own in <code>appsettings.Development.json</code> for local development and <code>appsettings.json</code> for production deployments.
Follow the links below to create OAuth Apps for the different external providers:</p>
<ul>
<li>Twitter - <a href="https://dev.twitter.com/apps">Create Twitter App</a> with <code>{BaseUrl}/auth/twitter</code> referrer</li>
<li>Facebook - <a href="https://developers.facebook.com/apps">Create Facebook App</a> with <code>{BaseUrl}/auth/facebook</code> referrer</li>
<li>Google - <a href="https://console.developers.google.com/apis/credentials">Create Google App</a> with <code>{BaseUrl}/auth/google</code> referrer</li>
<li>Microsoft - <a href="https://apps.dev.microsoft.com">Create Microsoft App</a> with <code>{BaseUrl}/auth/microsoft</code> referrer</li>
</ul>
<h3 id="microsoft-graph-savephoto">Microsoft Graph SavePhoto<a class="header-anchor" href="javascript:;" onclick="location.hash='#microsoft-graph-savephoto'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The additional <code>SavePhoto</code> and <code>SavePhotoSize</code> options are specific to Microsoft's Graph provider to workaround it not providing a publicly servable image
for the Users avatar so we can provide the same experience and have <code>IAuthSession.GetProfileUrl()</code> return the Users avatar.</p>
<p>Enabling <code>SavePhoto</code> downloads the users avatar on Authentication, resizes it to the dimensions in <code>SavePhotoSize</code> then convert into a <strong>URL embedded with the PNG image data</strong> of the avatar.</p>
<pre><code class="language-json">{
  &quot;oauth.microsoftgraph.SavePhoto&quot;: &quot;true&quot;,
  &quot;oauth.microsoftgraph.SavePhotoSize&quot;: &quot;32x32&quot;
}
</code></pre>
<h3 id="new-claim-apis">New Claim APIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#new-claim-apis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>A few new APIs were added to make accessing and working claims easier in ServiceStack, e.g:</p>
<pre><code class="language-csharp">var claims = base.Request.GetClaims();
claims.HasRole(roleName);
claims.HasScope(scopeName);
claims.HasClaim(claimType, claimValue);
</code></pre>
<p>Use the new <code>[RequiredClaim]</code> attribute to check for specific claims when using ServiceStack with Claims Based Auth:</p>
<pre><code class="language-csharp">[RequiredClaim(&quot;scope&quot;, &quot;profile&quot;)]
public object Any(RequiresScope request) =&gt; ...;
</code></pre>
<h3 id="iserviceprovider-request-extensions">IServiceProvider Request Extensions<a class="header-anchor" href="javascript:;" onclick="location.hash='#iserviceprovider-request-extensions'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>You can <strong>access scoped ASP.NET Core dependencies</strong> and create Custom IOC Scopes using the new <code>IRequest</code> extension methods:</p>
<ul>
<li><code>IRequest.TryResolveScoped&lt;T&gt;()</code></li>
<li><code>IRequest.TryResolveScoped()</code></li>
<li><code>IRequest.ResolveScoped&lt;T&gt;()</code></li>
<li><code>IRequest.ResolveScoped()</code></li>
<li><code>IRequest.CreateScope()</code></li>
<li><code>IRequest.GetServices()</code></li>
<li><code>IRequest.GetServices&lt;T&gt;()</code></li>
</ul>
<h3 id="enable-same-site-cookies">Enable Same Site Cookies<a class="header-anchor" href="javascript:;" onclick="location.hash='#enable-same-site-cookies'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><a href="https://www.sjoerdlangkemper.nl/2016/04/14/preventing-csrf-with-samesite-cookie-attribute/">Same Site Cookies</a> are a good default to use
in your Apps which restricts cookies from being sent cross-site in order to prevent against cross-site request forgery (CSRF) attacks.</p>
<p>Configure it with:</p>
<pre><code class="language-csharp">SetConfig(new HostConfig
{
    UseSameSiteCookies = true
});
</code></pre>
<p>This restriction will prevent features reliant on cross-site cookies from working so you'll need to verify it's safe to enable in your Apps.
This restriction works with most Auth Providers except for <code>TwitterAuthProvider</code> who doesn't yet support the OAuth <code>state</code> callback that
could be used instead of Session cookies.</p>
<h3 id="cookie-filters">Cookie Filters<a class="header-anchor" href="javascript:;" onclick="location.hash='#cookie-filters'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Further customization of Cookies can be enabled by overriding the host-specific methods in your <code>AppHost</code>:</p>
<pre><code class="language-csharp">//ASP.NET Core
public override void CookieOptionsFilter(Cookie cookie, Microsoft.AspNetCore.Http.CookieOptions cookieOptions) {}

//Classic ASP.NET
public override void HttpCookieFilter(HttpCookie cookie) {}
</code></pre>
<h3 id="secure-cookies-enabled-by-default">Secure Cookies enabled by default<a class="header-anchor" href="javascript:;" onclick="location.hash='#secure-cookies-enabled-by-default'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><a href="https://en.wikipedia.org/wiki/Secure_cookie">Secure Cookies</a> ensure that Cookies added over HTTPS are only resent in subsequent secure connections.</p>
<p>They're now <strong>enabled by default</strong> for <strong>Cookies added over SSL</strong>, they can be disabled with:</p>
<pre><code class="language-csharp">Plugins.Add(new HostConfig {
    UseSecureCookies = false
});
</code></pre>
<h3 id="override-authorization-http-header">Override Authorization HTTP Header<a class="header-anchor" href="javascript:;" onclick="location.hash='#override-authorization-http-header'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Request Filters can override the Authorization HTTP Header used in Auth Providers with:</p>
<pre><code class="language-csharp">httpReq.Items[Keywords.Authorization] = $&quot;Bearer {token}&quot;;
</code></pre>
<h3 id="get-authenticate-requests-are-disabled-by-default">GET Authenticate Requests are disabled by default<a class="header-anchor" href="javascript:;" onclick="location.hash='#get-authenticate-requests-are-disabled-by-default'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>We're disabling <strong>GET</strong> <code>/auth/{provider}</code> requests by default to discourage sending confidential information in the URL.</p>
<p>The current exceptions which still allow <strong>GET</strong> requests include:</p>
<ul>
<li><code>/auth</code> - Used to check if a User is Authenticated</li>
<li><code>/auth/logout</code> - Logging Out</li>
<li>All OAuth Providers who starts their OAuth flow by navigating to <code>/auth/{provider}</code></li>
</ul>
<p>This is a potential breaking change if you're currently using GET requests to Authenticate and can be reverted with:</p>
<pre><code class="language-csharp">new AuthFeature {
    AllowGetAuthenticateRequests = req =&gt; true
}
</code></pre>
<p>Although it's recommended to instead update or existing code to use <code>POST</code> instead of <code>GET</code> requests.
Otherwise you can use the <code>IRequest req</code> parameter to check against a white list of known requests types.</p>
<h3 id="usersession-validation">UserSession validation<a class="header-anchor" href="javascript:;" onclick="location.hash='#usersession-validation'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Custom User Sessions can override <code>AuthUserSession.Validate()</code> to add additional logic for validating whether to allow a User to Authenticate, e.g:</p>
<pre><code class="language-csharp">public class CustomUserSession : AuthUserSession
{
    public override IHttpResult Validate(IServiceBase authService, IAuthSession session, 
        IAuthTokens tokens, Dictionary&lt;string, string&gt; authInfo)
    {
        if (!ValidateEmail(session.Email))
            return HttpError.BadRequest($&quot;{nameof(session.Email)} is invalid&quot;) as IHttpResult;
        
        return null;
    }
}
</code></pre>
<p>Returning any <code>IHttpResult</code> will cause Authentication to fail with the returned <code>IHttpResult</code> written to the response.</p>
<h3 id="intercept-service-requests">Intercept Service Requests<a class="header-anchor" href="javascript:;" onclick="location.hash='#intercept-service-requests'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>As an alternative to creating a <a href="/customize-http-responses#using-a-custom-servicerunner">Custom Service Runner</a> to intercept
different events when processing ServiceStack Requests, you can instead override the <code>OnBeforeExecute()</code>, <code>OnAfterExecute()</code> and <code>OnExceptionAsync()</code>
callbacks in your <code>Service</code> class (or base class) to intercept and modify Request DTOs, Responses or Error Responses, e.g:</p>
<pre><code class="language-csharp">class MyServices : Service
{
    // Log all Request DTOs that implement IHasSessionId
    public override void OnBeforeExecute(object requestDto)
    {
        if (requestDto is IHasSessionId dtoSession)
        {
            Log.Debug($&quot;{nameof(OnBeforeExecute)}: {dtoSession.SessionId}&quot;);
        }
    }

    //Return Response DTO Name in HTTP Header with Response
    public override object OnAfterExecute(object response)
    {
        return new HttpResult(response) {
            Headers = {
                [&quot;X-Response&quot;] = response.GetType().Name
            }
        };
    }

    //Return custom error with additional metadata
    public override Task&lt;object&gt; OnExceptionAsync(object requestDto, Exception ex)
    {
        var error = DtoUtils.CreateErrorResponse(requestDto, ex);
        if (error is IHttpError httpError)
        {                
            var errorStatus = httpError.Response.GetResponseStatus();
            errorStatus.Meta = new Dictionary&lt;string,string&gt; {
                [&quot;InnerType&quot;] = ex.InnerException?.GetType().Name
            };
        }
        return Task.FromResult(error);
    }
}
</code></pre>
<p>If you're implementing <code>IService</code> instead of inheriting the concrete <code>Service</code> class, you can implement the interfaces directly:</p>
<pre><code class="language-csharp">// Handle all callbacks
public class MyServices : IService, IServiceFilters
{
    //..
}

// Or individually, just the callbacks you want
public class MyServices : IService, IServiceBeforeFilter, IServiceAfterFilter, IServiceErrorFilter
{
    //..
}
</code></pre>
<h3 id="fluent-validation">Fluent Validation<a class="header-anchor" href="javascript:;" onclick="location.hash='#fluent-validation'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>You can change ServiceStack's built-in FluentValidation to throw Exceptions on Warnings with:</p>
<pre><code class="language-csharp">Plugins.Add(new ValidationFeature {
    TreatInfoAndWarningsAsErrors = true
});
</code></pre>
<p>Thanks to <a href="https://github.com/DeonHeyns">@DeonHeyns</a> for this feature.</p>
<h3 id="auto-batching">Auto Batching<a class="header-anchor" href="javascript:;" onclick="location.hash='#auto-batching'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The current index of the Auto Batched Request being processed is now being maintained in <code>IRequest.Items[Keywords.AutoBatchIndex]</code>.</p>
<p>In Error Responses the index of the request that failed is now being populated in your Response DTO's <code>ResponseStatus.Meta[&quot;AutoBatchIndex&quot;]</code>.</p>
<p>To also maintain the active <code>AutoBatchIndex</code> in <a href="/auto-batched-requests#custom-batched-requests-implementations">Custom Batched Requests Implementations</a>
you can use the <code>IRequest.EachRequest()</code> extension method, e.g:</p>
<pre><code class="language-csharp">public object Any(GetCustomAutoBatchIndex[] requests)
{
    var responses = new List&lt;GetAutoBatchIndexResponse&gt;();

    Request.EachRequest&lt;GetCustomAutoBatchIndex&gt;(dto =&gt;
    {
        responses.Add(Any(dto));
    });

    return responses;
}
</code></pre>
<p>Thanks to <a href="https://github.com/georgehemmings">@georgehemmings</a> for this feature.</p>
<h3 id="hot-reload">Hot Reload<a class="header-anchor" href="javascript:;" onclick="location.hash='#hot-reload'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>ServiceStack includes 2 Hot Reloading solutions to automatically detect file changes and reload your page on save.</p>
<h4 id="hot-reload-script-pages">Hot Reload #Script Pages<a class="header-anchor" href="javascript:;" onclick="location.hash='#hot-reload-script-pages'" aria-label="Permalink">&ZeroWidthSpace;</a></h4>
<p>The <a href="https://sharpscript.net/docs/hot-reloading">Hot Reloading</a> support in #Script Pages enables the <code>HotReloadFilesService</code>
when registering the <code>SharpPagesFeature</code>, e.g:</p>
<pre><code class="language-csharp">Plugins.Add(new SharpPagesFeature {
    EnableHotReload = Config.DebugMode //default
});
</code></pre>
<p>This is enabled in your pages with this snippet which renders the hot reload client script during development:</p>
<pre><code class="language-html">&lt;i hidden&gt;{‎{ '/js/hot-loader.js' | ifDebugIncludeScript }‎}&lt;/i&gt;
</code></pre>
<p>Which starts a long poll that calls the smart <code>HotReloadFilesService</code> which recursively inspects the current tokenized
<a href="https://sharpscript.net/docs/script-pages">#Script Pages</a> to find if it or any dependent layouts, partials or file includes have changed.</p>
<p>Sharp Page's Hot Reload feature now also monitors <strong>Paged Based Routing Pages</strong> and <strong>View Pages</strong>.</p>
<h3 id="hot-reload-static-files">Hot Reload Static Files<a class="header-anchor" href="javascript:;" onclick="location.hash='#hot-reload-static-files'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>If you're not developing your Website with <code>#Script</code> or are developing a Single Page App where it's mostly contained in static files
you can use the <code>HotReloadFeature</code> instead which has added support for monitoring multiple File Search Patterns and can now be configured
to monitor a different VFS provider (defaults to WebRoot).</p>
<p>The new &quot;lite&quot; projects utilize both these features for its hot reloading support:</p>
<pre><code class="language-csharp">if (Config.DebugMode)
{
    Plugins.Add(new HotReloadFeature {
        DefaultPattern = &quot;*.html;*.js;*.css&quot;,
        VirtualFiles = VirtualFiles // Monitor ContentRoot to detect changes in /src
    });
}
</code></pre>
<p>Which is enabled during development in <code>_layout.html</code> by including <code>/js/hot-fileloader.js</code>:</p>
<pre><code class="language-html">&lt;i hidden&gt;{‎{ '/js/hot-fileloader.js' | ifDebugIncludeScript }‎}&lt;/i&gt;
</code></pre>
<h3 id="image-utils">Image Utils<a class="header-anchor" href="javascript:;" onclick="location.hash='#image-utils'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>New <code>Image.ResizeToPng()</code> and <code>Image.CropToPng()</code> <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ImageExtensions.cs">extension methods</a>
can be used to resize and crop <code>System.Drawing</code> Images, e.g:</p>
<pre><code class="language-csharp">[AddHeader(ContentType = &quot;image/png&quot;)]
public Stream Get(Resize request)
{
    var imageFile = VirtualFiles.GetFile(request.Path);
    if (imageFile == null)
        throw HttpError.NotFound(request.Path + &quot; was not found&quot;);

    using (var stream = imageFile.OpenRead())
    using (var img = Image.FromStream(stream))
    {
        return img.ResizeToPng(request.Width, request.Height);
    }
}

[AddHeader(ContentType = &quot;image/png&quot;)]
public Stream Get(Crop request)
{
    var imageFile = VirtualFiles.GetFile(request.Path);
    if (imageFile == null)
        throw HttpError.NotFound(request.Path + &quot; was not found&quot;);

    using (var stream = imageFile.OpenRead())
    using (var img = Image.FromStream(stream))
    {
        return img.CropToPng(request.Width, request.Height, request.StartX, request.StartY);
    }
}
</code></pre>
<h3 id="enum-utils">Enum Utils<a class="header-anchor" href="javascript:;" onclick="location.hash='#enum-utils'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The new <code>EnumUtils.GetValues()</code>, <code>IEnumerable&lt;Enum&gt;.ToKeyValuePairs()</code> and <code>Enum.ToDescription()</code> extension methods
makes it easy to create data sources from Enums that can be annotated with <code>[ApiMember]</code> and <code>[Description]</code> attributes:</p>
<pre><code class="language-csharp">List&lt;KeyValuePair&lt;string, string&gt;&gt; Titles =&gt; EnumUtils.GetValues&lt;Title&gt;()
    .Where(x =&gt; x != Title.Unspecified)
    .ToKeyValuePairs();

List&lt;string&gt; FilmGenres =&gt; EnumUtils.GetValues&lt;FilmGenres&gt;()
    .Map(x =&gt; x.ToDescription());
</code></pre>
<h2 id="open-api-feature">Open API Feature<a class="header-anchor" href="javascript:;" onclick="location.hash='#open-api-feature'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<h3 id="customizable-security-definitions">Customizable Security Definitions<a class="header-anchor" href="javascript:;" onclick="location.hash='#customizable-security-definitions'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The <code>OpenApiFeature</code> now allows customizable <code>SecurityDefinitions</code> and includes a couple of pre-set configurations, e.g.
to configure <code>swagger-ui</code> to allow authentication via HTTP Bearer Token (via JWT or API Key Auth) use:</p>
<pre><code class="language-csharp">Plugins.Add(new OpenApiFeature
{
    UseBearerSecurity = true
});
</code></pre>
<p>This will customize the Open API metadata Response to specify your authenticated Services would like to use Swagger's API Key authentication, e.g:</p>
<p><img src="https://i.stack.imgur.com/fmFbv.png" alt="" /></p>
<p>As the <strong>value</strong> field is for the entire <code>Authorization</code> HTTP Header you'd need to add your JWT Token or API Key prefixed with <code>Bearer </code>:</p>
<pre><code>Bearer {JWT or API Key}
</code></pre>
<p>Alternatively you can force using HTTP Basic Auth instead with:</p>
<pre><code class="language-csharp">Plugins.Add(new OpenApiFeature
{
    UseBasicSecurity = true
});
</code></pre>
<p>By default if you've registered a <code>BasicAuthProvider</code> it will use <code>UseBasicSecurity</code> otherwise it default to using <code>UseBearerSecurity</code>.</p>
<h3 id="customize-swaggerui">Customize SwaggerUI<a class="header-anchor" href="javascript:;" onclick="location.hash='#customize-swaggerui'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Open API lets you <a href="/openapi#overriding-openapi-embedded-resources">override embedded resources</a> to customize the embedded <code>/swagger-ui</code>
where you can add a <code>/swagger-ui/patch.js</code> to add additional JavaScript at the end of the page, you can now also add <code>/swagger-ui/patch-preload.js</code>
to modify the <code>window.swaggerUi</code> configuration object before it's loaded with <code>window.swaggerUi.load()</code>:</p>
<pre><code class="language-html">&lt;script type='text/javascript'&gt;
//...

// contents of /swagger-ui/patch-preload.js

window.swaggerUi.load();
&lt;/script&gt;
</code></pre>
<h3 id="disable-auto-html-pages">Disable Auto HTML Pages<a class="header-anchor" href="javascript:;" onclick="location.hash='#disable-auto-html-pages'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>ServiceStack's fallback <a href="/html5reportformat">Auto HTML Report Pages</a> can now be disabled with:</p>
<pre><code class="language-csharp">SetConfig(new HostConfig {
    EnableAutoHtmlResponses = false
})
</code></pre>
<p>When disabled it will render Response DTOs from Browser requests (i.e. <code>Accept:text/html</code>) in the next <code>Config.PreferredContentTypes</code> - (JSON by default).</p>
<h2 id="typescript">TypeScript<a class="header-anchor" href="javascript:;" onclick="location.hash='#typescript'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<h3 id="partial-constructors">Partial Constructors<a class="header-anchor" href="javascript:;" onclick="location.hash='#partial-constructors'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>All <a href="/typescript-add-servicestack-reference">TypeScript Reference DTOs</a> now includes support for <strong>Partial Constructors</strong>
making them much nicer to populate using object initializer syntax we're used to in C#, so instead of:</p>
<pre><code class="language-ts">const request = new Authenticate();
request.provider = 'credentials'
request.userName = this.userName;
request.password = this.password;
request.rememberMe = this.rememberMe;
const response = await client.post(request);
</code></pre>
<p>You can now populate DTOs with object literal syntax without any loss of TypeScript's Type Safety benefits:</p>
<pre><code class="language-ts">const response = await client.post(new Authenticate({
    provider: 'credentials',
    userName: this.userName,
    password: this.password,
    rememberMe: this.rememberMe,
}));
</code></pre>
<h3 id="defaultimports">DefaultImports<a class="header-anchor" href="javascript:;" onclick="location.hash='#defaultimports'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>There's new <code>Symbol:module</code> short-hand syntax for specifying additional imports in your generated TypeScript DTOs, e.g:</p>
<pre><code class="language-ts">/* Options:
...
DefaultImports: Symbol:module,Zip:./ZipValidator
*/
</code></pre>
<p>Which will generate the popular import form of:</p>
<pre><code class="language-ts">import { Symbol } from &quot;module&quot;;
import { Zip } from &quot;./ZipValidator&quot;;
</code></pre>
<h2 id="messaging">Messaging<a class="header-anchor" href="javascript:;" onclick="location.hash='#messaging'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>All <a href="/messaging">MQ Servers</a> now support the ability to specify a whitelist of Requests you <strong>only</strong> want to publish <code>.outq</code> for:</p>
<pre><code class="language-csharp">PublishToOutqWhitelist = new[]{ nameof(MyRequest) }
</code></pre>
<p>Alternatively all <code>.outq</code> messages can be disabled with:</p>
<pre><code class="language-csharp">DisablePublishingToOutq = true
</code></pre>
<h3 id="background-mq-stats">Background MQ Stats<a class="header-anchor" href="javascript:;" onclick="location.hash='#background-mq-stats'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>Additional stats are available for <a href="/background-mq">Background MQ</a> to gain more insight into the processing of background operations,
e.g. you can get info on the Queue Collection for a specific DTO Type with:</p>
<pre><code class="language-csharp">var bgService = (BackgroundMqService)HostContext.Resolve&lt;IMessageService&gt;();
var mqCollection = bgService.GetCollection(typeof(Poco));
Dictionary&lt;string, long&gt; statsMap = mqCollection.GetDescriptionMap();
</code></pre>
<p>Which returns the text info that <a href="/background-mq#mq-status">mqCollection.GetDescription()</a> returns, but in a structured Dictionary using the keys:</p>
<ul>
<li><code>ThreadCount</code></li>
<li><code>TotalMessagesAdded</code></li>
<li><code>TotalMessagesTaken</code></li>
<li><code>TotalOutQMessagesAdded</code></li>
<li><code>TotalDlQMessagesAdded</code></li>
</ul>
<p>The dictionary also includes each the snapshot counts of each queue in the MQ Collection, e.g:</p>
<ul>
<li><code>mq:Poco.inq</code></li>
<li><code>mq:Poco.priorityq</code></li>
<li><code>mq:Poco.outq</code></li>
<li><code>mq:Poco.dlq</code></li>
</ul>
<p>You can also get the Stats of each MQ Worker, or if you have multiple workers for a Request Type you can access them with:</p>
<pre><code class="language-csharp">IMqWorker[] workers = bgService.GetWorkers(QueueNames&lt;Type&gt;.In);
List&lt;IMessageHandlerStats&gt; stats = workers.Map(x =&gt; x.GetStats());
</code></pre>
<p>Then combine them to get their cumulative result:</p>
<pre><code class="language-csharp">IMessageHandlerStats combinedStats = stats.CombineStats();
</code></pre>
<h3 id="aws-sqs-server">Aws SQS Server<a class="header-anchor" href="javascript:;" onclick="location.hash='#aws-sqs-server'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<h3 id="intercepting-filters">Intercepting Filters<a class="header-anchor" href="javascript:;" onclick="location.hash='#intercepting-filters'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>A number of new filters have been added to <code>SqsMqServer</code> and <code>SqsMqClient</code> which will let you intercept and apply custom logic before SQS messages are
sent and received:</p>
<pre><code class="language-csharp">Action&lt;SendMessageRequest,IMessage&gt; SendMessageRequestFilter
Action&lt;ReceiveMessageRequest&gt; ReceiveMessageRequestFilter
Action&lt;Amazon.SQS.Model.Message, IMessage&gt; ReceiveMessageResponseFilter
Action&lt;DeleteMessageRequest&gt; DeleteMessageRequestFilter
Action&lt;ChangeMessageVisibilityRequest&gt; ChangeMessageVisibilityRequestFilter
</code></pre>
<h3 id="polling-duration">Polling Duration<a class="header-anchor" href="javascript:;" onclick="location.hash='#polling-duration'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The polling duration used to poll SQS queues can be configured with:</p>
<pre><code class="language-csharp">new SqsMqServer {
    PollingDuration = TimeSpan.FromMilliseconds(1000) //default
}
</code></pre>
<h2 id="ormlite">OrmLite<a class="header-anchor" href="javascript:;" onclick="location.hash='#ormlite'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>OrmLite continues to receive a number of enhancements in response to Customer Feature Requests:</p>
<h3 id="insert-into-select">INSERT INTO SELECT<a class="header-anchor" href="javascript:;" onclick="location.hash='#insert-into-select'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>You can use OrmLite's Typed <code>SqlExpression</code> to create a subselect expression that you can use to create and execute a
typed <strong>INSERT INTO SELECT</strong> <code>SqlExpression</code> with:</p>
<pre><code class="language-csharp">var q = db.From&lt;User&gt;()
    .Where(x =&gt; x.UserName == &quot;UserName&quot;)
    .Select(x =&gt; new {
        x.UserName, 
        x.Email, 
        GivenName = x.FirstName, 
        Surname = x.LastName, 
        FullName = x.FirstName + &quot; &quot; + x.LastName
    });

var id = db.InsertIntoSelect&lt;CustomUser&gt;(q)
</code></pre>
<h3 id="postgresql-rich-data-types">PostgreSQL Rich Data Types<a class="header-anchor" href="javascript:;" onclick="location.hash='#postgresql-rich-data-types'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>By default all arrays of .NET's built-in <strong>numeric</strong>, <strong>string</strong> and <strong>DateTime</strong> types will be stored in PostgreSQL array types:</p>
<pre><code class="language-csharp">public class Table
{
    public Guid Id { get; set; }

    public int[] Ints { get; set; }
    public long[] Longs { get; set; }
    public float[] Floats { get; set; }
    public double[] Doubles { get; set; }
    public decimal[] Decimals { get; set; }
    public string[] Strings { get; set; }
    public DateTime[] DateTimes { get; set; }
    public DateTimeOffset[] DateTimeOffsets { get; set; }
}
</code></pre>
<p>You can opt-in to annotate other collections like <code>List&lt;T&gt;</code> to also be stored in array types by annotating them with <code>[Pgsql*]</code> attributes, e.g:</p>
<pre><code class="language-csharp">public class Table
{
    public Guid Id { get; set; }

    [PgSqlIntArray]
    public List&lt;int&gt; ListInts { get; set; }
    [PgSqlBigIntArray]
    public List&lt;long&gt; ListLongs { get; set; }
    [PgSqlFloatArray]
    public List&lt;float&gt; ListFloats { get; set; }
    [PgSqlDoubleArray]
    public List&lt;double&gt; ListDoubles { get; set; }
    [PgSqlDecimalArray]
    public List&lt;decimal&gt; ListDecimals { get; set; }
    [PgSqlTextArray]
    public List&lt;string&gt; ListStrings { get; set; }
    [PgSqlTimestamp]
    public List&lt;DateTime&gt; ListDateTimes { get; set; }
    [PgSqlTimestampTz]
    public List&lt;DateTimeOffset&gt; ListDateTimeOffsets { get; set; }
}
</code></pre>
<p>Alternatively if you <strong>always</strong> want <code>List&lt;T&gt;</code> stored in Array types, you can register them in the <code>PostgreSqlDialect.Provider</code>:</p>
<pre><code class="language-csharp">PostgreSqlDialect.Provider.RegisterConverter&lt;List&lt;string&gt;&gt;(new PostgreSqlStringArrayConverter());
PostgreSqlDialect.Provider.RegisterConverter&lt;List&lt;int&gt;&gt;(new PostgreSqlIntArrayConverter());
PostgreSqlDialect.Provider.RegisterConverter&lt;List&lt;long&gt;&gt;(new PostgreSqlLongArrayConverter());
PostgreSqlDialect.Provider.RegisterConverter&lt;List&lt;float&gt;&gt;(new PostgreSqlFloatArrayConverter());
PostgreSqlDialect.Provider.RegisterConverter&lt;List&lt;double&gt;&gt;(new PostgreSqlDoubleArrayConverter());
PostgreSqlDialect.Provider.RegisterConverter&lt;List&lt;decimal&gt;&gt;(new PostgreSqlDecimalArrayConverter());
PostgreSqlDialect.Provider.RegisterConverter&lt;List&lt;DateTime&gt;&gt;(new PostgreSqlDateTimeTimeStampArrayConverter());
PostgreSqlDialect.Provider.RegisterConverter&lt;List&lt;DateTimeOffset&gt;&gt;(new PostgreSqlDateTimeOffsetTimeStampTzArrayConverter());
</code></pre>
<h3 id="hstore-support">Hstore support<a class="header-anchor" href="javascript:;" onclick="location.hash='#hstore-support'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>To use <code>hstore</code>, its extension needs to be enabled in your PostgreSQL RDBMS by running:</p>
<pre><code>CREATE EXTENSION hstore;
</code></pre>
<p>Which can then be enabled in OrmLite with:</p>
<pre><code class="language-csharp">PostgreSqlDialect.Instance.UseHstore = true;
</code></pre>
<p>Where it will now store <strong>string Dictionaries</strong> in <code>Hstore</code> columns:</p>
<pre><code class="language-csharp">public class TableHstore
{
    public int Id { get; set; }

    public Dictionary&lt;string,string&gt; Dictionary { get; set; }
    public IDictionary&lt;string,string&gt; IDictionary { get; set; }
}

db.DropAndCreateTable&lt;TableHstore&gt;();

db.Insert(new TableHstore
{
    Id = 1,
    Dictionary = new Dictionary&lt;string, string&gt; { {&quot;A&quot;, &quot;1&quot;} },
    IDictionary = new Dictionary&lt;string, string&gt; { {&quot;B&quot;, &quot;2&quot;} },
});
</code></pre>
<p>Where they can than be queried in postgres using <a href="https://www.postgresql.org/docs/9.0/hstore.html">Hstore SQL Syntax</a>:</p>
<pre><code class="language-csharp">db.Single(db.From&lt;PostgreSqlTypes&gt;().Where(&quot;dictionary -&gt; 'A' = '1'&quot;)).Id //= 1
</code></pre>
<p>Thanks to <a href="https://forums.servicestack.net/users/cthames/activity">@cthames</a> for this feature.</p>
<h3 id="json-data-types">JSON data types<a class="header-anchor" href="javascript:;" onclick="location.hash='#json-data-types'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>If you instead wanted to store arbitrary complex types in PostgreSQL's rich column types to enable deep querying in postgres,
you'd instead annotate them with <code>[PgSqlJson]</code> or <code>[PgSqlJsonB]</code>, e.g:</p>
<pre><code class="language-csharp">public class TableJson
{
    public int Id { get; set; }

    [PgSqlJson]
    public ComplexType ComplexTypeJson { get; set; }

    [PgSqlJsonB]
    public ComplexType ComplexTypeJsonb { get; set; }
}

db.Insert(new TableJson
{
    Id = 1,
    ComplexTypeJson = new ComplexType {
        Id = 2, SubType = new SubType { Name = &quot;JSON&quot; }
    },
    ComplexTypeJsonb = new ComplexType {
        Id = 3, SubType = new SubType { Name = &quot;JSONB&quot; }
    },
});
</code></pre>
<p>Where they can then be queried on the server with <a href="https://www.postgresql.org/docs/9.3/functions-json.html">JSON SQL Syntax and functions</a>:</p>
<pre><code class="language-csharp">var result = db.Single&lt;TableJson&gt;(&quot;table_json-&gt;'SubType'-&gt;&gt;'Name' = 'JSON'&quot;);
</code></pre>
<h3 id="new-keyvaluepairkv-top-level-apis">New KeyValuePair&lt;K,V&gt; top-level APIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#new-keyvaluepairkv-top-level-apis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The new <code>db.KeyValuePair&lt;K,V&gt;</code> API is similar to <code>db.Dictionary&lt;K,V&gt;</code> where it uses the <strong>first 2 columns</strong> for its Key/Value Pairs to
create a Dictionary but is more appropriate when the results can contain duplicate Keys or when ordering needs to be preserved:</p>
<pre><code class="language-csharp">var q = db.From&lt;StatsLog&gt;()
    .GroupBy(x =&gt; x.Name)
    .Select(x =&gt; new { x.Name, Count = Sql.Count(&quot;*&quot;) })
    .OrderByDescending(&quot;Count&quot;);

var results = db.KeyValuePairs&lt;string, int&gt;(q);
</code></pre>
<blockquote>
<p><code>*Async</code> variants also available</p>
</blockquote>
<h3 id="select-constant-expressions">SELECT Constant Expressions<a class="header-anchor" href="javascript:;" onclick="location.hash='#select-constant-expressions'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>You can now mix+match Constant C# Expressions with RDBMS Expressions in the same query:</p>
<pre><code class="language-csharp">var q = db.From&lt;Table&gt;()
    .Select(x =&gt; new
    {
        x.Field,
        param = 1,
        str = &quot;hi&quot;,
        date = DateTime.Now
    });
</code></pre>
<h3 id="select-distinct-in-selectmulti">SELECT DISTINCT in SelectMulti<a class="header-anchor" href="javascript:;" onclick="location.hash='#select-distinct-in-selectmulti'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p><a href="/ormlite/typed-joins">SelectMulti</a> APIs for populating
multiple tables now supports <strong>SELECT DISTINCT</strong> with:</p>
<pre><code class="language-csharp">var tuples = db.SelectMulti&lt;Customer, CustomerAddress&gt;(q.SelectDistinct());
</code></pre>
<h3 id="new-tablealias-replaces-joinalias">New TableAlias replaces JoinAlias<a class="header-anchor" href="javascript:;" onclick="location.hash='#new-tablealias-replaces-joinalias'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The new <code>TableAlias</code> APIs is a new expression visitor replacement that replaces the existing JoinAlias APIs which you can use in Queries
with multiple self-reference joins, e.g:</p>
<pre><code class="language-csharp">var q = db.From&lt;Page&gt;(db.TableAlias(&quot;p1&quot;))
    .Join&lt;Page&gt;((p1, p2) =&gt; 
        p1.PageId == p2.PageId &amp;&amp; 
        p2.ActivityId == activityId, db.TableAlias(&quot;p2&quot;))
    .Join&lt;Page,Category&gt;((p2,c) =&gt; Sql.TableAlias(p2.Category) == c.Id)
    .Join&lt;Page,Page&gt;((p1,p2) =&gt; Sql.TableAlias(p1.Rank,&quot;p1&quot;) &lt; Sql.TableAlias(p2.Rank,&quot;p2&quot;))
    .Select&lt;Page&gt;(p =&gt; new {
        ActivityId = Sql.TableAlias(p.ActivityId, &quot;p2&quot;)
    });

var rows = db.Select(q);
</code></pre>
<h3 id="gettablenames-and-gettablenameswithrowcounts-apis">GetTableNames and GetTableNamesWithRowCounts APIs<a class="header-anchor" href="javascript:;" onclick="location.hash='#gettablenames-and-gettablenameswithrowcounts-apis'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>As the queries for retrieving table names can vary amongst different RDBMS's, we've abstracted their implementations behind uniform APIs
where you can now get a list of table names and their row counts for all supported RDBMS's with:</p>
<pre><code class="language-csharp">List&lt;string&gt; tableNames = db.GetTableNames();

List&lt;KeyValuePair&lt;string,long&gt;&gt; tableNamesWithRowCounts = db.GetTableNamesWithRowCounts();
</code></pre>
<blockquote>
<p><code>*Async</code> variants also available</p>
</blockquote>
<p>Both APIs can be called with an optional <code>schema</code> if you only want the tables for a specific schema.
It defaults to using the more efficient RDBMS APIs, which if offered typically returns an approximate estimate of rowcounts in each table.</p>
<p>If you need exact table row counts, you can specify <code>live:true</code>:</p>
<pre><code class="language-csharp">var tablesWithRowCounts = db.GetTableNamesWithRowCounts(live:true);
</code></pre>
<h3 id="dapper-updated">Dapper updated<a class="header-anchor" href="javascript:;" onclick="location.hash='#dapper-updated'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>The internal <code>ServiceStack.OrmLite.Dapper</code> was updated to the latest <strong>v1.60.1</strong> release thanks to <a href="https://github.com/wwwlicious">@wwwlicious</a>.</p>
<h3 id="db-scripts-can-open-different-connections">DB Scripts can open different connections<a class="header-anchor" href="javascript:;" onclick="location.hash='#db-scripts-can-open-different-connections'" aria-label="Permalink">&ZeroWidthSpace;</a></h3>
<p>By default the <code>DbScripts</code> will use the registered <code>IDbConnectionFactory</code> in the IOC or when <a href="/multitenancy">Multi tenancy</a> is configured
it will use the connection configured for that request.</p>
<p>You can also specify to use a different DB connection using the <code>namedConnection</code> and <code>connectionString</code> arguments:</p>
<pre><code class="language-hbs">{‎{ sql | dbSelect({ namedConnection }) }‎}
{‎{ sql | dbSelect({ connectionString:sqlServerConnString, provider:&quot;mssql&quot; }) }‎}
</code></pre>
<p>Both Named Connections and Dialect providers can be registered in your <code>IDbConnectionFactory</code>, e.g:</p>
<pre><code class="language-csharp">dbFactory.RegisterConnection(namedConnection, connString, SqlServer2012Dialect.Provider);
dbFactory.RegisterProvider(&quot;mssql&quot;, SqlServer2017Dialect.Provider);
</code></pre>
<h2 id="redis">Redis<a class="header-anchor" href="javascript:;" onclick="location.hash='#redis'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>All Redis Clients are initialized with a unique <code>ClientId</code> which is now prefixed in Debug/Error logging <code>#{ClientId} </code> to make it easier to trace the
history for specific clients.</p>
<p>Improved auto-reconnection / auto retry operations on failed requests.</p>
<h2 id="servicestack.text">ServiceStack.Text<a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack.text'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>In addition to significant Auto Mapping improvements covered above, there's a couple of UX Friendly Generic collections to
reduce the boilerplate if you're repeatedly using these collections:</p>
<pre><code class="language-csharp">var objDict = new ObjectDictionary { //inherits Dictionary&lt;string,object&gt;
    [&quot;one&quot;] = 1,
    [&quot;foo&quot;] = &quot;bar&quot;
}

var strDict = new StringDictionary { //inherits Dictionary&lt;string,string&gt;
    [&quot;one&quot;] = &quot;1&quot;,
    [&quot;foo&quot;] = &quot;bar&quot;
}

var kvps = new KeyValuePairs {
    KeyValuePairs.Create(&quot;one&quot;,1),
    KeyValuePairs.Create(&quot;foo&quot;,&quot;bar&quot;),
};

//instead of
var kvps = new List&lt;KeyValuePair&lt;string,object&gt;&gt; {
    new KeyValuePair&lt;string,object&gt;(&quot;one&quot;,1),
    new KeyValuePair&lt;string,object&gt;(&quot;foo&quot;,&quot;bar&quot;),
}
</code></pre>
<h2 id="servicestack.azure">ServiceStack.Azure<a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack.azure'" aria-label="Permalink">&ZeroWidthSpace;</a></h2>
<p>Large blobs <code>&gt;100MB</code> are now streamed in chunks thanks to <a href="https://github.com/DeonHeyns">@DeonHeyns</a>.</p>
<h1 id="v5.4-release-notes"><a href="/releases/v5_4">v5.4 Release Notes</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#v5.4-release-notes'" aria-label="Permalink">&ZeroWidthSpace;</a></h1>
</div>
</div>
</div>

                <div class="not-prose"></div>
                
                    <div class="not-prose py-8">
                        <a class="text-slate-500 font-semibold hover:text-indigo-600 flex items-center" href="https://github.com/ServiceStack/docs.servicestack.net/blob/main/MyApp/_pages/releases/v5_05.md" target="_blank" rel="noopener noreferrer">
                            Edit this page on GitHub<svg class="ml-1 inline-block w-4 h-4" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" data-v-1ed99556=""><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg>
                        </a>
                    </div>

                    <div class="not-prose my-20">
                                <nav class="flex items-center justify-between border-t border-gray-200 dark:border-gray-700 px-4 sm:px-0">
                                    <div class="-mt-px flex w-0 flex-1">
                                            <a href="/releases/v5_06" class="inline-flex items-center border-t-2 border-transparent pt-4 pr-1 text-sm font-medium text-gray-500 hover:border-gray-300 dark:hover:border-gray-600 hover:text-gray-700 dark:hover:text-gray-200">
                                                <!-- Heroicon name: mini/arrow-long-left -->
                                                <svg class="mr-3 h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                    <path fill-rule="evenodd" d="M18 10a.75.75 0 01-.75.75H4.66l2.1 1.95a.75.75 0 11-1.02 1.1l-3.5-3.25a.75.75 0 010-1.1l3.5-3.25a.75.75 0 111.02 1.1l-2.1 1.95h12.59A.75.75 0 0118 10z" clip-rule="evenodd"></path>
                                                </svg>
                                                ServiceStack v5.6
                                            </a>
                                    </div>
                                    <div class="hidden md:-mt-px md:flex"></div>
                                    <div class="-mt-px flex w-0 flex-1 justify-end">
                                            <a href="/releases/v5_04" class="inline-flex items-center border-t-2 border-transparent pt-4 pl-1 text-sm font-medium text-gray-500 hover:border-gray-300 dark:hover:border-gray-600 hover:text-gray-700 dark:hover:text-gray-200">
                                                ServiceStack v5.4
                                                <!-- Heroicon name: mini/arrow-long-right -->
                                                <svg class="ml-3 h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                    <path fill-rule="evenodd" d="M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z" clip-rule="evenodd"></path>
                                                </svg>
                                            </a>
                                    </div>
                                </nav>
                    </div>
            </div>
                
                <div class="docmap hidden 2xl:block flex-none w-64 pl-8 mr-8">
                    <div class="fixed bg-white dark:bg-black flex flex-col overflow-y-auto pt-10 px-8 pb-6" style="height:calc(100vh - 50px);">
                        <div>
                            <h5 class="text-slate-900 font-semibold mb-4 text-sm leading-6 dark:text-slate-100">
                                On This Page
                            </h5>
                            <ul class="text-slate-700 text-sm leading-6">
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#servicestack-turns-10'" data-id="servicestack-turns-10" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            ServiceStack turns 10!
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="dto-first-services-on-the-outside" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#dto-first-services-on-the-outside'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            DTO-first Services on the outside
                                                        </span>
                                                    </li>
                                                    <li data-id="clean-architecture-on-the-inside" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#clean-architecture-on-the-inside'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Clean architecture on the inside
                                                        </span>
                                                    </li>
                                                    <li data-id="thank-you" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#thank-you'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Thank You!
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#asp.net-core-on.net-framework'" data-id="asp.net-core-on.net-framework" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            ASP.NET Core on .NET Framework
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="asp.net-core-still-our-top-recommendation-for.net-framework" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#asp.net-core-still-our-top-recommendation-for.net-framework'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            ASP.NET Core - still our top recommendation for .NET Framework
                                                        </span>
                                                    </li>
                                                    <li data-id="servicestacks-multi-targeted-packages" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#servicestacks-multi-targeted-packages'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            ServiceStack&#x27;s multi-targeted Packages
                                                        </span>
                                                    </li>
                                                    <li data-id="future-proofed-and-continually-developed" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#future-proofed-and-continually-developed'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Future proofed and continually developed
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#new-vue-and-react-lite-asp.net-core-templates'" data-id="new-vue-and-react-lite-asp.net-core-templates" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            New Vue and React &quot;lite&quot; ASP.NET Core Templates
                                        </span>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#introducing-new-lite-npm-free-project-templates'" data-id="introducing-new-lite-npm-free-project-templates" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            Introducing new &quot;lite&quot; npm-free project templates
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="light-on-complexity-big-on-features" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#light-on-complexity-big-on-features'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Light on Complexity, Big on Features
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#install'" data-id="install" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            Install
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="vue-lite" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#vue-lite'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            vue-lite
                                                        </span>
                                                    </li>
                                                    <li data-id="react-lite" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#react-lite'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            react-lite
                                                        </span>
                                                    </li>
                                                    <li data-id="development-workflow" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#development-workflow'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Development workflow
                                                        </span>
                                                    </li>
                                                    <li data-id="update-typescript-dtos" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#update-typescript-dtos'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Update TypeScript DTOs
                                                        </span>
                                                    </li>
                                                    <li data-id="integrated-bundling" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#integrated-bundling'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Integrated Bundling
                                                        </span>
                                                    </li>
                                                    <li data-id="css-bundling" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#css-bundling'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            CSS Bundling
                                                        </span>
                                                    </li>
                                                    <li data-id="bundling-options" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#bundling-options'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Bundling Options
                                                        </span>
                                                    </li>
                                                    <li data-id="hot-reloading-of-static-resources" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#hot-reloading-of-static-resources'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Hot Reloading of Static Resources
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                            </ul>
                        </div>
                    </div>
                </div>
                
        </div>
    </div>    
</div>

<script>
//doc instructions
if (document.querySelector('.hide-title')) {
    const el = document.querySelector('#doc section h1') 
    if (el) el.style.display='none'
}
</script>

<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ 
        startOnLoad: true,
        theme: 'base',
        'themeVariables': {
            'primaryColor': '#fff',
            'lineColor': '#333',
            'primaryBorderColor': 'rgb(67 56 202)', // text-indigo-700	
            'secondaryColor': '#fff',
            'primaryTextColor': '#333',
            'tertiaryColor': '#333'
        }        
    });
</script>
<style>
pre.mermaid {
    background-color: #fff !important;
}
.dark pre.mermaid {
    background-color: #000 !important; /*bg-gray-800*/
}
.dark pre.mermaid .edgeLabel, .dark pre.mermaid .edgeLabel p, .dark pre.mermad .labelBkg {
    background-color: #000 !important;
}
.dark pre.mermaid .edgeLabel, .dark pre.mermaid .edgeLabel p {
    color: rgb(209 213 219) !important;
}
.dark pre.mermaid .flowchart-link { 
    stroke: rgb(209 213 219) !important;
}
.dark pre.mermaid .node rect {
    stroke: #fff !important;
}
.dark pre.mermaid .marker.flowchart-v2 {
    stroke: #fff !important;
    fill: #fff !important;
}
</style>
<link rel="stylesheet" href="/css/asciinema-player.css">
<script src="/lib/js/asciinema-player.js"></script>

<script type="module">
import { ref } from "vue"
import { mount } from "app.mjs"


        import App from "/pages/releases/v5_05.mjs" 
    
const Sidebar = {
    setup() {
        const open = ref(true)
        return { open }
    }
}

mount('#doc', App)
mount('#sidebar', Sidebar)
</script>

<script src="/lib/js/highlight.js"></script>
<script>hljs.highlightAll()</script>
<script src="/lib/js/lite-yt-embed.js"></script>
<script src="/mjs/docs.mjs" type="module"></script>


    </main>
</div>

<script type="module">
import { init } from "app.mjs"
init()
</script>





</body>
</html>