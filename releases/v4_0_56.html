<!doctype html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-7722718-13"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date()); gtag('config', 'UA-7722718-13');</script>
    
    <meta charset="utf-8"/>
    <meta name='date' content='2023-11-24T02:43:24.5850992Z'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/svg" href="/img/logo.svg">
    <title>ServiceStack v4.0.56</title>
    <script>
    if (location.search === "?dark") localStorage.setItem('color-scheme','dark') 
    if (location.search === "?light") localStorage.removeItem('color-scheme') 
    const cls = document.querySelector('html').classList
    if (localStorage.getItem('color-scheme') === 'dark')
        cls.add('dark')
    else
        cls.remove('dark')
    </script>
    <link rel="stylesheet" href="/css/app.css">
    

    <script async src="https://ga.jspm.io/npm:es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
{
    "imports": {
        "app.mjs": "/mjs/app.mjs",
        "vue": "/lib/mjs/vue.min.mjs",
        "@servicestack/client": "/lib/mjs/servicestack-client.min.mjs",
        "@servicestack/vue": "/lib/mjs/servicestack-vue.min.mjs"
    }
}
</script>
</head>
<body class="bg-white dark:bg-black dark:text-white">

<header id="header" class="top-0 fixed z-50 h-14 bg-white dark:bg-black opacity-90 w-full shadow">
  <nav class="border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-black">
    <div class="mx-auto max-w-[100rem] pr-4 sm:pr-6 lg:pr-8">
      <div class="flex h-16 justify-between">
        <div class="flex">
          <div class="flex flex-shrink-0 items-center">
            <a class="mr-2 lg:mr-8 flex items-center" href="/">
                <svg class="w-8 h-8 sm:ml-2 sm:w-12 sm:h-12" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="currentColor" d="M10 6c1.544 1.76 2.276 4.15 2.217 6.61c3.968 1.67 9.924 6.12 11.181 12.39H28C26.051 14.31 14.918 6.77 10 6zm-2 7c4.67 4.913.81 11.582-4 12h18.97C21.5 18.289 11.95 13.533 8 13z"/></svg>
                <span class="hidden sm:block text-2xl font-semibold">Documentation</span>
            </a>
          </div>
            <div class="hidden sm:-my-px sm:ml-6 sm:flex sm:space-x-4 lg:space-x-8">
                <!-- Current: "border-indigo-500 text-gray-900", Default: "border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700" -->
                        <a href="/templates/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            <span class="hidden xl:inline mr-1">Project</span> Templates
                        </a>
                        <a href="/vue/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            Vue
                        </a>
                        <a href="/autoquery/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            AutoQuery
                        </a>
                        <a href="/auth/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            Auth
                        </a>
                        <a href="/ormlite/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            OrmLite
                        </a>
                        <a href="/redis/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200">
                            Redis
                        </a>
                        <a href="/locode/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200 hidden lg:inline-flex">
                            Locode
                        </a>
                        <a href="/grpc/" class="inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:hover:text-gray-200 hidden lg:inline-flex">
                            gRPC
                        </a>
            </div>
        </div>
        <div class="hidden sm:ml-6 sm:flex sm:items-center">
            <typesense></typesense>
            <dark-mode-toggle class="ml-2 w-10"></dark-mode-toggle>
        </div>
        <div class="-mr-2 flex items-center sm:hidden">
          <!-- Mobile menu button -->
          <button type="button" v-on:click="open=!open" class="inline-flex items-center justify-center rounded-md bg-white dark:bg-black p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:ring-offset-black" aria-controls="mobile-menu" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <!-- Menu open: "hidden", Menu closed: "block" -->
            <svg :class="['h-6 w-6', open ? 'hidden' : 'block']" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
            <!-- Menu open: "block", Menu closed: "hidden" -->
            <svg :class="['h-6 w-6', open ? 'block' : 'hidden']" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile menu, show/hide based on menu state. -->
    <div v-cloak v-if="open" class="sm:hidden">
        <div class="space-y-1 pb-3 pt-2">
            <!-- Current: "border-indigo-500 bg-indigo-50 text-indigo-700", Default: "border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800" -->
                    <a href="/templates/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Project Templates
                    </a>
                    <a href="/vue/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Vue
                    </a>
                    <a href="/autoquery/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        AutoQuery
                    </a>
                    <a href="/auth/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Auth
                    </a>
                    <a href="/ormlite/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        OrmLite
                    </a>
                    <a href="/redis/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Redis
                    </a>
                    <a href="/locode/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        Locode
                    </a>
                    <a href="/grpc/" class="block border-l-4 py-2 pl-3 pr-4 text-base font-medium border-transparent text-gray-600 dark:text-gray-300 hover:border-gray-300 hover:bg-gray-50 dark:hover:bg-gray-900 hover:text-gray-800 dark:hover:text-gray-100">
                        gRPC
                    </a>
        </div>
    </div>
  </nav>
</header>

<script type="module">
import { ref } from "vue"
import { mount } from "app.mjs"

const Header = {
    setup() {
        const open = ref(false)
        return { open }
    }
}
mount('#header', Header)
</script>


<div class="min-h-screen">
    <main role="main" class="pt-16 pb-3 max-w-[100rem] mx-auto">
        



<style>
.active {
    color: #0ea5e9 !important;
}
</style>
<link rel="stylesheet" href="/css/highlight.css">
<link rel="stylesheet" href="/css/typography.css">
<link rel="stylesheet" href="/css/lite-yt-embed.css">

<div class="w-full max-w-[100rem] mx-auto">
    <div class="flex flex-wrap">
        <div id="sidebar" class="z-40 inset-0 flex-none bg-white dark:bg-black lg:w-64 xl:w-80">
            <button v-cloak v-on:click="open=true" :class="['text-gray-400 hover:text-gray-500 pt-4 pl-2 absolute transform transition-all duration-200', open ? 'opacity-0 translate-x-56' : 'opacity-100']" title="Open Sidebar">
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H10m10 0l-4 4m4-4l-4-4M4 4v16"/></svg>
            </button>
            <div :class="['fixed bg-white dark:bg-black h-screen overflow-y-auto scrolling-touch overflow-hidden shadow lg:shadow-none transform transition-transform duration-200', open ? '' : 'translate-x-[-100%]']">
                <nav class="sidebar lg:w-64 xl:w-80 px-1 pt-6 pb-16 overflow-y-auto font-medium text-sm lg:text-base sm:px-3 xl:px-5" aria-label="Sidebar">
                    <close-button title="Close Sidebar" class="lg:hidden -mr-2" v-on:close="open=false"></close-button>
                                <a href="/releases/" class="block flex items-center whitespace-nowrap">
<svg class='h-6 w-6 shrink-0 text-sky-500' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='currentColor' aria-hidden='true'><path stroke-linecap='round' stroke-linejoin='round' d='M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25'></path></svg>                                    <span class="p-2 pl-3 font-display font-medium text-slate-900 dark:text-white">
Releases                                    </span>
                                </a>
                        <ul role="list" class="mb-6 mt-2 ml-3 space-y-2 border-l-2 border-slate-100 dark:border-slate-800 lg:mt-4 lg:space-y-4 lg:border-slate-200">
                                <li class="relative">
                                    <a href="/releases/v8_00" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v8
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_11" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.11
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_10" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.10
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_09" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.9
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_08" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.8
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_07" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.7
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_06" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.6
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_05" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.5
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_04" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.4
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_03" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.3
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_02" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.2
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_01" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6.1
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v6_00" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v6
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_13" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.13.2
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_12" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.12
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_11" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.11
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_10" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.10
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_09" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.9
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_08" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.8
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_07" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.7
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_06" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.6
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_05" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.5
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_04" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.4
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_02" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.2
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_01_0" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5.1
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v5_00_0" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v5
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_8" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.8
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_6" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.6
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_4" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.4
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_2" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.2
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_14" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.14
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_12" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.12
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_10" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.10
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_5_0" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.5.0
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_62" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.62
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_60" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.60
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_58" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.58
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_56" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full active font-semibold text-sky-500 before:bg-sky-500">
                                        ServiceStack v4.0.56
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_54" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.54
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_52" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.52
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_50" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.50
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_48" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.48
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_46" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.46
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_44" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.44
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_42" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.42
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_40" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.40
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_38" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.38
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_36" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.36
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_35" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.35
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_34" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.34
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_33" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.33
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_32" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.32
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_31" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.31
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_30" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.30
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_24" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.24
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_23" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.23
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_22" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.22
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_21" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.21
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_19" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.19
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_18" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.18
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_15" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.15
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_12" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.12
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_11" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.11
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_10" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.10
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_09" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.09
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_08" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.08
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_06" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4.0.06
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/v4_0_00" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack v4
                                    </a>
                                </li>
                                <li class="relative">
                                    <a href="/releases/2016-summary" class="block w-full pl-3.5 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full text-slate-500 before:hidden before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300">
                                        ServiceStack 2016 Release Notes Summary
                                    </a>
                                </li>
                        </ul>
                </nav>
            </div>
        </div>
        <div id="doc" class="mx-auto flex">
            <div class="mt-8 mx-auto prose lg:prose-lg">
                
                    <section class="not-prose mb-16 md:mb-12">
                        <h1 class="text-center py-10 text-gray-900 tracking-tight font-extrabold text-4xl sm:text-5xl md:text-6xl">
                            ServiceStack v4.0.56
                        </h1>
                    </section>

                <div class="not-prose"></div>

                <div class="content"><p>We've happy to announce several big ticket features in this release adding an exciting suite of functionality
across the ServiceStack board!</p>
<h2 id="introducing-autoquery-data">Introducing AutoQuery Data!<a class="header-anchor" href="javascript:;" onclick="location.hash='#introducing-autoquery-data'" aria-label="Permalink"> </a></h2>
<p>ServiceStack's <a href="/autoquery/">AutoQuery</a> feature already
provides the most productive way to create lightweight, high-performance data-driven Services which are
able to naturally benefit from ServiceStack's wider rich, value-added ecosystem and thanks to OrmLite's
typed RDBMS-agnostic API, AutoQuery has been used to create fully-queryable Services
<a href="/ormlite/#ormlite-rdbms-providers">for most major RDBMS's</a>.</p>
<p>Whilst AutoQuery is optimized around server-side SQL querying of Relational Databases, we also wanted to
adopt its productive dev model and open it up to allow rich querying of other Data Sources
as well - which we're happy to announce is now possible with AutoQuery Data!</p>
<h3 id="learn-once-query-everywhere">Learn Once, Query Everywhere :)<a class="header-anchor" href="javascript:;" onclick="location.hash='#learn-once-query-everywhere'" aria-label="Permalink"> </a></h3>
<p>AutoQuery Data is a new implementation that closely follows the dev model you're used to with AutoQuery
where any experience gained in creating RDBMS AutoQuery Services previously are now also applicable to
Querying alternative data sources as well where all features except for the RDBMS-specific
<a href="/autoquery#joining-tables">Joining Tables</a> and
<a href="/autoquery#raw-sql-filters">Raw SQL Filters</a> features
also have an equivalent in AutoQuery Data as well.</p>
<p>Like AutoQuery you can declaratively create AutoQuery Data Services using just Request DTO's but instead of
inheriting from <code>QueryBase&lt;T&gt;</code> you'd instead inherit from <code>QueryData&lt;T&gt;</code>, e.g:</p>
<pre><code class="language-csharp">//AutoQuery RDBMS
public class QueryCustomers : QueryBase&lt;Customer&gt; {}

//AutoQuery Data - Multiple / Open Data Sources 
public class QueryCustomers : QueryData&lt;Customer&gt; {}
</code></pre>
<p>The API to call and consume both RDBMS AutoQuery and AutoQuery Data Services are indistinguishable to
external clients where both are queried using the same
<a href="/autoquery#implicit-conventions">implicit</a> and
<a href="/autoquery#explicit-conventions">explicit conventions</a>
and both return the same <code>QueryResponse&lt;T&gt;</code> Response DTO.</p>
<h3 id="use-autoquery-viewer">Use AutoQuery Viewer<a class="header-anchor" href="javascript:;" onclick="location.hash='#use-autoquery-viewer'" aria-label="Permalink"> </a></h3>
<p>A direct result of this means you can reuse <a href="https://github.com/ServiceStack/Admin">AutoQuery Viewer</a>
(announced in the previous release) to access a rich auto UI for querying all AutoQuery implementations
together in the same UI, whether queries are served from an RDBMS or an alternative data source.</p>
<p><a href="https://github.com/ServiceStack/Admin"><img src="https://raw.githubusercontent.com/ServiceStack/Admin/master/img/query-default-values.png" alt="" /></a></p>
<h2 id="autoquery-data-sources">AutoQuery Data Sources<a class="header-anchor" href="javascript:;" onclick="location.hash='#autoquery-data-sources'" aria-label="Permalink"> </a></h2>
<p>AutoQuery Data supports an Open Data provider model requiring an extra piece of configuration Services
need to function - the Data Source that it will query. Data Sources are registered with the
<code>AutoQueryDataFeature</code> plugin by calling using its fluent <code>AddDataSource()</code> API to register all Data Sources
you want available to query.</p>
<p>At launch there are 3 different data sources that are available - all of which are accessible as
extension methods on the <code>QueryDataContext</code> parameter for easy discoverability:</p>
<pre><code class="language-csharp">Plugins.Add(new AutoQueryDataFeature()
    .AddDataSource(ctx =&gt; ctx.MemorySource(...))
    .AddDataSource(ctx =&gt; ctx.ServiceSource(...))
    .AddDataSource(ctx =&gt; ctx.DynamoDBSource(...))
);
</code></pre>
<h3 id="memory-data-source">Memory Data Source<a class="header-anchor" href="javascript:;" onclick="location.hash='#memory-data-source'" aria-label="Permalink"> </a></h3>
<p>The simplest data source we can query is an in-memory .NET collection registered with <code>ctx.MemorySource()</code>.
But how the collection is populated remains up to you. The example below shows registering collections from
multiple sources inc. <strong>in-line code</strong>, populated <strong>from a CSV file</strong> (utilizing ServiceStack's new
CSV deserialization support) and populated <strong>from a 3rd Party API</strong> using
<a href="/http-utils">HTTP Utils</a>:</p>
<pre><code class="language-csharp">//Declaration in code
var countries = new[] {
    new Country { ... },
    new Country { ... },
};

//From CSV File
List&lt;Currency&gt; currencies = File.ReadAllText(&quot;currencies.csv&quot;).FromCsv&lt;List&lt;Currency&gt;&gt;();

//From 3rd Party API
List&lt;GithubRepo&gt; repos = &quot;https://api.github.com/orgs/ServiceStack/repos&quot;
    .GetJsonFromUrl(req =&gt; req.UserAgent=&quot;AutoQuery&quot;).FromJson&lt;List&lt;GithubRepo&gt;&gt;();

//AutoQuery Data Plugin
Plugins.Add(new AutoQueryDataFeature { MaxLimit = 100 }
    .AddDataSource(ctx =&gt; ctx.MemorySource(countries))
    .AddDataSource(ctx =&gt; ctx.MemorySource(currencies))
    .AddDataSource(ctx =&gt; ctx.MemorySource(repos))
);
</code></pre>
<p>After data sources are registered, you can then create AutoQuery Data Services to query them:</p>
<pre><code class="language-csharp">[Route(&quot;/countries&quot;)]
public class QueryCountries : QueryData&lt;Country&gt; {}

[Route(&quot;/currencies&quot;)]
public class QueryCurrencies : QueryData&lt;Currency&gt; {}

[Route(&quot;/repos&quot;)]
public class QueryGithubRepos : QueryData&lt;GithubRepo&gt; {}
</code></pre>
<p>With just the empty Request DTO's above they're now queryable like any other AutoQuery Service, e.g:</p>
<ul>
<li>/countries?code=AU</li>
<li>/currencies.json?code=AUD</li>
<li>/repos.csv?watchers_count&gt;=100&amp;orderBy=-watchers_count,name&amp;fields=name,homepage,language</li>
</ul>
<h3 id="cacheable-data-sources">Cacheable Data Sources<a class="header-anchor" href="javascript:;" onclick="location.hash='#cacheable-data-sources'" aria-label="Permalink"> </a></h3>
<p>The examples above provides a nice demonstration of querying static memory collections. But Data Sources
offers even more flexibility where you're also able to query and cache dynamic .NET collections that
are customizable per-request.</p>
<p>The registration below shows an example of this where results are dynamically fetched from <strong>GitHub's API</strong>
and persisted in the <strong>local in-memory cache</strong> for <strong>5 minutes</strong> - throttling the number of requests made
to the external 3rd Party API:</p>
<pre><code class="language-csharp">.AddDataSource(ctx =&gt; ctx.MemorySource(() =&gt; 
    $&quot;https://api.github.com/repos/ServiceStack/{ctx.Request.GetParam(&quot;repo&quot;)}/contributors&quot;
      .GetJsonFromUrl(req =&gt; req.UserAgent=&quot;AutoQuery&quot;).FromJson&lt;List&lt;GithubContributor&gt;&gt;(),
    HostContext.LocalCache, 
    TimeSpan.FromMinutes(5)
));
</code></pre>
<p>We can now create an AutoQuery Data Service to query the above cached <code>GithubContributor</code> Memory Source:</p>
<pre><code class="language-csharp">[Route(&quot;/contributors&quot;)]
public class QueryContributors : QueryData&lt;GithubContributor&gt;
{
    public string Repo { get; set; }
}
</code></pre>
<p>Thanks to the Typed Request DTO we also get an end-to-end Typed API for free which we can use to query
the contributors result-set returned from GitHub's API. As an example we can view the
<strong>Top 20 Contributors</strong> for the <strong>ServiceStack</strong> Project with:</p>
<pre><code class="language-csharp">var top20Contributors = client.Get(new QueryContributors {
    Repo = &quot;ServiceStack&quot;,
    OrderByDesc = &quot;Contributions&quot;,
    Take = 20
});

top20Contributors.PrintDump(); // Pretty print results to Console
</code></pre>
<h3 id="service-data-source">Service Data Source<a class="header-anchor" href="javascript:;" onclick="location.hash='#service-data-source'" aria-label="Permalink"> </a></h3>
<p>The next step in querying for even richer result-sets, whether you want to add custom validation,
access multiple dependencies, construct complex queries or other custom business logic, you can use a
<strong>Service Source</strong> instead which lets you call a Service and use its Response as the dynamic Data Source
that you can apply Auto Querying logic on.</p>
<p><code>ServiceSource</code> is very similar to <code>MemorySource</code> however instead of passing in the in-memory collection
you want to query directly, you'll need to pass a <strong>Request DTO</strong> of the Service you want called instead.
The response of the Service is then further queried just as if its results were passed into a MemorySource
directly.</p>
<p>We'll illustrate with a few examples how to register and use ServiceSources, explore some of their capabilities
and provide some examples of when you may want to use them below.</p>
<p>The <code>UserLogin</code> ServiceSouce shows you can just pass an empty Request DTO as-is to execute its Service.
The <code>RockstarAlbum</code> and <code>GithubRepo</code> Service Sources are however leveraging the built-in
<a href="/auto-mapping">Auto Mapping</a> to copy any matching
properties from the AutoQuery Request DTO to the downstream <code>GetRockstarAlbums</code> and <code>GetGithubRepos</code>
Request DTO's. Finally the responses for the <code>GithubRepo</code> Service is <strong>cached for 5 minutes</strong> so any
subsequent matching requests end up querying the cached result set instead of re-executing the <code>GetGithubRepos</code>
Service:</p>
<pre><code class="language-csharp">Plugins.Add(new AutoQueryDataFeature { MaxLimit = 100 }
    .AddDataSource(ctx =&gt; ctx.ServiceSource&lt;UserLogin&gt;(new GetTodaysUserActivity())),
    .AddDataSource(ctx =&gt; ctx.ServiceSource&lt;RockstarAlbum&gt;(ctx.Dto.ConvertTo&lt;GetRockstarAlbums&gt;())),
    .AddDataSource(ctx =&gt; ctx.ServiceSource&lt;GithubRepo&gt;(ctx.Dto.ConvertTo&lt;GetGithubRepos&gt;(), 
        HostContext.Cache, TimeSpan.FromMinutes(5)));
);
</code></pre>
<p>The implementation of <code>GetTodaysUserActivity</code> Service uses an async OrmLite RDBMS call to get all User Logins
within the last day, fetches the Live Activity data from Redis, then
<a href="/ormlite/reference-support#merge-disconnected-poco-result-sets">merges the disconnected POCO result sets</a>
into the <code>UserLogin</code> POCO which it returns:</p>
<pre><code class="language-csharp">[Route(&quot;/useractivity/today&quot;)]
public class QueryTodaysUserActivity : QueryData&lt;User&gt; {}

public async Task&lt;List&lt;UserLogin&gt;&gt; Any(GetTodaysUserActivity request)
{
    var logins = await Db.SelectAsync&lt;UserLogin&gt;(x =&gt; x.LastLogin &gt;= DateTime.UtcNow.AddDays(-1));
    var activities = Redis.As&lt;Activity&gt;().GetAll();
    logins.Merge(activities);
    return logins;
}
</code></pre>
<p>The <code>GetRockstarAlbums</code> Service shows an example of a calling an existing ad hoc DB Service executing an
arbitrary custom Query. It uses the Request DTO Auto-Mapping at the <code>ServiceSource</code> registration to
first copy any matching properties from the initial <code>QueryRockstarAlbums</code> Request DTO to populate a new
<code>GetRockstarAlbums</code> instance which is what's used to execute the Service with.</p>
<p>In this way the <code>QueryRockstarAlbums</code> AutoQuery Service is essentially decorating the underlying
<code>GetRockstarAlbums</code> Service giving it access to AutoQuery features where clients are able to apply
further post-querying server logic to an existing Service implementation which now lets them filter,
sort, select only a partial list of fields, include additional aggregate queries, etc.</p>
<pre><code class="language-csharp">public class QueryRockstarAlbums : QueryData&lt;RockstarAlbum&gt; 
{
    public string Name { get; set; }
    public int[] IdBetween { get; set; }
}

public object Any(GetRockstarAlbums request)
{
    var q = Db.From&lt;RockstarAlbum&gt;();

    if (request.IdBetween != null)
        q.Where(x =&gt; x.Id &gt;= request.IdBetween[0] &amp;&amp; x.Id &lt;= request.IdBetween[1]);

    if (request.Name != null)
        q.Where(x =&gt; x.Name == request.Name);

    return new GetRockstarAlbumsResponse { Results = Db.Select(q) };
}
</code></pre>
<p>One thing to notice is that ServiceSource still works whether the results are wrapped in a Response DTO
instead of a naked <code>IEnumerable&lt;RockstarAlbum&gt;</code> collection. This is transparently supported as <code>ServiceSource</code>
will use the first matching <code>IEnumerable&lt;T&gt;</code> property for Services that don't return a collection.</p>
<p>It should be noted that decorating an existing OrmLite Service is rarely necessary as in most cases you'll
be able to get by with just a simple AutoQuery RDBMS query as seen in the Service below which replaces
the above 2 Services:</p>
<pre><code class="language-csharp">public class QueryRockstarAlbums : QueryDb&lt;RockstarAlbum&gt; {}
</code></pre>
<p>The final <code>GetGithubRepos</code> ServiceSource example shows an example of a slightly more complex implementation
than a single 3rd Party API call where it adds custom validation logic and call different 3rd Party API
Endpoints depending on user input:</p>
<pre><code class="language-csharp">public class QueryGithubRepo : QueryData&lt;GithubRepo&gt; 
{
    public string User { get; set; }
    public string Organization { get; set; }
}

public object Get(GetGithubRepos request)
{
    if (request.User == null &amp;&amp; request.Organization == null)
        throw new ArgumentNullException(&quot;User&quot;);

    var url = request.User != null
        ? &quot;https://api.github.com/users/{0}/repos&quot;.Fmt(request.User)
        : &quot;https://api.github.com/orgs/{0}/repos&quot;.Fmt(request.Organization);

    return url.GetJsonFromUrl(requestFilter:req =&gt; req.UserAgent = GetType().Name)
        .FromJson&lt;List&lt;GithubRepo&gt;&gt;();
}
</code></pre>
<p>A hidden feature ServiceSources are naturally able to take advantage of due to its behind-the-scenes usage
of the new <strong>ServiceGateway</strong> (announced later) is that the exact code above could still function if the
<code>QueryGithubRepo</code> AutoQuery Data Service and underlying <code>GetGithubRepos</code> Service were moved to different
hosts :)</p>
<h3 id="custom-autoquery-data-implementation">Custom AutoQuery Data Implementation<a class="header-anchor" href="javascript:;" onclick="location.hash='#custom-autoquery-data-implementation'" aria-label="Permalink"> </a></h3>
<p>Just like you can
<a href="/autoquery#custom-autoquery-implementations">Create a Custom implementation</a>
in AutoQuery, you can do the same in AutoQuery Data by just defining an implementation for your AutoQuery
Data Request DTO. But instead of <code>IAutoQueryDb</code> you'd reference the <code>IAutoQueryData</code> dependency to construct
and execute your custom AutoQuery Data query.</p>
<p>When overriding the default implementation of an AutoQuery Data Service you also no longer need to register
a Data Source as you can specify the Data Source in-line when calling <code>AutoQuery.CreateQuery()</code>.</p>
<p>For our custom AutoQuery Data implementation we'll look at creating a useful Service which reads the
daily CSV Request and Error Logs from the new <code>CsvRequestLogger</code> (announced later) and queries it by
wrapping the POCO <code>RequestLogEntry</code> results into a <code>MemoryDataSource</code>:</p>
<pre><code class="language-csharp">[Route(&quot;/query/requestlogs&quot;)]
[Route(&quot;/query/requestlogs/{Date}&quot;)]
public class QueryRequestLogs : QueryData&lt;RequestLogEntry&gt;
{
    public DateTime? Date { get; set; }
    public bool ViewErrors { get; set; }
}

public class CustomAutoQueryDataServices : Service
{
    public IAutoQueryData AutoQuery { get; set; }

    public object Any(QueryRequestLogs query)
    {
        var date = query.Date.GetValueOrDefault(DateTime.UtcNow);
        var logSuffix = query.ViewErrors ? &quot;-errors&quot; : &quot;&quot;;
        var csvLogsFile = VirtualFileSources.GetFile(&quot;requestlogs/{0}-{1}/{0}-{1}-{2}{3}.csv&quot;.Fmt(
            date.Year.ToString(&quot;0000&quot;),
            date.Month.ToString(&quot;00&quot;),
            date.Day.ToString(&quot;00&quot;),
            logSuffix));

        if (csvLogsFile == null)
            throw HttpError.NotFound(&quot;No logs found on &quot; + date.ToShortDateString());

        var logs = csvLogsFile.ReadAllText().FromCsv&lt;List&lt;RequestLogEntry&gt;&gt;();

        var q = AutoQuery.CreateQuery(query, Request,
            db: new MemoryDataSource&lt;RequestLogEntry&gt;(logs, query, Request));

        return AutoQuery.Execute(query, q);
    }
}
</code></pre>
<p>This Service now lets you query the Request Logs of any given day, letting you filter, page and sort
through the Request Logs of the day. While we're at it, let's also create multiple Custom AutoQuery
Data implementations to act as canonical smart links for the above Service:</p>
<pre><code class="language-csharp">[Route(&quot;/logs/today&quot;)]
public class TodayLogs : QueryData&lt;RequestLogEntry&gt; { }
[Route(&quot;/logs/today/errors&quot;)]
public class TodayErrorLogs : QueryData&lt;RequestLogEntry&gt; { }

[Route(&quot;/logs/yesterday&quot;)]
public class YesterdayLogs : QueryData&lt;RequestLogEntry&gt; { }
[Route(&quot;/logs/yesterday/errors&quot;)]
public class YesterdayErrorLogs : QueryData&lt;RequestLogEntry&gt; { }
</code></pre>
<p>The implementations of which just delegates to <code>QueryRequestLogs</code> with the selected Date and whether or
not to show just the error logs:</p>
<pre><code class="language-csharp">public object Any(TodayLogs request) =&gt;
    Any(new QueryRequestLogs { Date = DateTime.UtcNow });

public object Any(TodayErrorLogs request) =&gt;
    Any(new QueryRequestLogs { Date = DateTime.UtcNow, ViewErrors = true });

public object Any(YesterdayLogs request) =&gt;
    Any(new QueryRequestLogs { Date = DateTime.UtcNow.AddDays(-1) });

public object Any(YesterdayErrorLogs request) =&gt;
    Any(new QueryRequestLogs { Date = DateTime.UtcNow.AddDays(-1), ViewErrors = true });
</code></pre>
<p>And with no more effort we can jump back to <code>/ss_admin/</code> and use AutoQuery Viewer's nice UI to quickly
inspect Todays and Yesterdays Request and Error Logs :)</p>
<p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/autoqueryviewer-csv-logs.png" alt="" /></p>
<h2 id="dynamodb-data-source"><a href="https://github.com/ServiceStack/ServiceStack.Aws">DynamoDB Data Source!</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#dynamodb-data-source'" aria-label="Permalink"> </a></h2>
<p>Probably the most exciting Data Source available is <code>DynamoDbSource</code> as it provides the most productive
development experience for effortlessly creating rich, queryable and optimized Services for DynamoDB data stores!</p>
<p><a href="https://github.com/ServiceStack/PocoDynamo"><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/dynamodb-banner.png" alt="" /></a></p>
<p>DynamoDB is the near perfect solution if you're on AWS and in need of a managed NoSQL data storage solution
that can achieve near-infinite scale whilst maintaining constant single-digit millisecond performance.
The primary issue with DynamoDB however is working with it's unstructured schema and API's which is reflected
in the official .NET DynamoDB client providing a flexible but low-level and cumbersome development experience
to work with directly. Most of these shortcomings are resolved with our POCO-friendly
<a href="https://github.com/ServiceStack/PocoDynamo">PocoDynamo</a> client which provides an intuitive and idiomatic
Typed .NET API that lets you reuse your DTO's and OrmLite POCO Data Models for persistence in DynamoDB.</p>
<p>Querying in DynamoDB is even more cumbersome, unlike an RDBMS which can process ad hoc queries on non-indexed
fields with decent performance, every query in DynamoDB needs to be performed on an index defined ahead-of-time.
Any queries not on an index needs to be sent as a Filter Expression and even more limiting is that queries
can only be executed against rows containing the same hash id. If you need to query data spanning across
multiple hash ids you either need to create a separate
<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html">Global Index</a>
or perform a full
<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Scan">SCAN operation</a>
which is even slower than full table scans on an RDBMS as they need to be performed on all underlying sharded
nodes which can quickly eat up your reserved provisioned throughput allotted to your DynamoDB table.</p>
<h3 id="optimal-dynamodb-queries">Optimal DynamoDB Queries<a class="header-anchor" href="javascript:;" onclick="location.hash='#optimal-dynamodb-queries'" aria-label="Permalink"> </a></h3>
<p>With AutoQuery's <code>DynamoDbSource</code> a lot of these nuances are transparently handled where it will automatically
create the most optimal DynamoDB Query based on the fields populated on the incoming AutoQuery Request DTO.
E.g. it will perform a
<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Query">DynamoDB Query</a>
when the <strong>Hash</strong> field is populated otherwise transparently falls back into a
<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Scan">Scan Operation</a>.
Any conditions that query an Index field are added to the
<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Query">Key Condition</a>,
starting first with the <strong>Range Key</strong> (if specified), otherwise uses any populated <strong>Local Indexes</strong> it can
find before any of the remaining conditions are added to the
<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#FilteringResults">Filter Expression</a>.</p>
<p>Transparently adopting the most optimal queries dramatically reduces development time as it lets you quickly
create, change and delete DynamoDB Services without regard for Indexes where it will often fallback to
<strong>SCAN</strong> operations (performance of which is unnoticeable during development). Then once you're project is
ready to deploy to production, go back and analyze all remaining queries your System relies on at the end
then re-create tables with the appropriate indexes so that all App queries are efficiently querying an index.</p>
<blockquote>
<p>When needed you can specify <code>.DynamoDbSource&lt;T&gt;(allowScans:false)</code> to disable anyone from executing SCAN
requests when deployed to production.</p>
</blockquote>
<h3 id="simple-autoquery-data-example">Simple AutoQuery Data Example<a class="header-anchor" href="javascript:;" onclick="location.hash='#simple-autoquery-data-example'" aria-label="Permalink"> </a></h3>
<p>To illustrate how to use AutoQuery with DynamoDB we'll walk through a simple example of querying Rockstars Albums.
For this example we'll specify
<a href="/autoquery#explicit-conventions">explicit conventions</a>
so we can use ServiceStack's
<a href="/csharp-client">typed .NET Service Clients</a>
to show which fields we're going to query and also lets us call the Service with a convenient typed API:</p>
<pre><code class="language-csharp">[Route(&quot;/rockstar-albums&quot;)]
public class QueryRockstarAlbums : QueryData&lt;RockstarAlbum&gt;
{
    public int? Id { get; set; }         // Primary Key | Range Key
    public int? RockstarId { get; set; } // Foreign key | Hash Key
    public string Name { get; set; }
    public string Genre { get; set; }
    public int[] IdBetween { get; set; }
}
</code></pre>
<p>Here we see that creating DynamoDB Queries is no different to any other AutoQuery Data Service, where the
same definition is used irrespective if the data source was populated from a <code>MemorySource</code>, <code>ServiceSource</code>
or <code>DynamoDbSource</code> and the only thing that would need to change to have it query an RDBMS instead is the
<code>QueryDb&lt;T&gt;</code> base class.</p>
<p>The text in comments highlight that when the <code>RockstarAlbum</code> POCO is stored in an RDBMS
<a href="https://github.com/ServiceStack/ServiceStack.OrmLite">OrmLite</a>
creates the table with the <code>Id</code> as the Primary Key and <code>RockstarId</code> as a Foreign Key to the <code>Rockstar</code> table.
This is different in DynamoDB where
<a href="https://github.com/ServiceStack/PocoDynamo">PocoDynamo</a> behavior is to keep related records together so
they can be efficiently queried and will instead Create the <code>RockstarAlbum</code> DynamoDB Table with the
<code>RockstarId</code> as the Hash Key and its unique <code>Id</code> as the Range Key.</p>
<h4 id="register-dynamodbsource">Register DynamoDbSource<a class="header-anchor" href="javascript:;" onclick="location.hash='#register-dynamodbsource'" aria-label="Permalink"> </a></h4>
<p>To use DynamoDB AutoQuery's you need to first configure
<a href="https://github.com/ServiceStack/PocoDynamo#download">PocoDynamo</a>
which is just a matter of passing an an initialized <code>AmazonDynamoDBClient</code> and telling PocoDynamo which
DynamoDB tables you intend to use:</p>
<pre><code class="language-csharp">container.Register(c =&gt; new PocoDynamo(new AmazonDynamoDBClient(...))
    .RegisterTable&lt;Rockstar&gt;()
    .RegisterTable&lt;RockstarAlbum&gt;()
);
</code></pre>
<p>Then before using PocoDynamo, call <code>InitSchema()</code> to tell it to automatically go through and create all
DynamoDB Tables that were registered but don't yet exist in DynamoDB:</p>
<pre><code class="language-csharp">var dynamo = container.Resolve&lt;IPocoDynamo&gt;();
dynamo.InitSchema();
</code></pre>
<p>So the first time <code>InitSchema()</code> is run it will create both <code>Rockstar</code> and <code>RockstarAlbum</code> tables but will
no longer create any tables on any subsequent runs. After <code>InitSchema()</code> has completed we're assured that
both <code>Rockstar</code> and <code>RockstarAlbum</code> tables exist so we can start using PocoDynamo's typed APIs to populate
them with Data:</p>
<pre><code class="language-csharp">dynamo.PutItems(new Rockstar[] { ... });
dynamo.PutItems(new RockstarAlbum[] { ... });
</code></pre>
<blockquote>
<p>Behind the scenes PocoDynamo efficiently creates the minimum number of
<a href="http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_BatchWriteItem.html">BatchWriteItem</a>
requests as necessary to store all Rockstar and RockstarAlbum's.</p>
</blockquote>
<p>Now that we have data we can query we can register the AutoQuery Data plugin along with the <code>Rockstar</code>
and <code>RockstarAlbum</code> DynamoDB Tables we want to be able to query:</p>
<pre><code class="language-csharp">Plugins.Add(new AutoQueryDataFeature { MaxLimit = 100 }
    .AddDataSource(ctx =&gt; ctx.DynamoDbSource&lt;Rockstar&gt;())
    .AddDataSource(ctx =&gt; ctx.DynamoDbSource&lt;RockstarAlbum&gt;())
);
</code></pre>
<h4 id="rockstaralbum-poco-table-definition">RockstarAlbum POCO Table Definition<a class="header-anchor" href="javascript:;" onclick="location.hash='#rockstaralbum-poco-table-definition'" aria-label="Permalink"> </a></h4>
<p>Where <code>RockstarAlbum</code> is just a simple POCO and can be used as-is throughout all of ServiceStack's libraries
inc. OrmLite, Redis, Caching Providers, Serializers, etc:</p>
<pre><code class="language-csharp">public class RockstarAlbum
{
    [AutoIncrement]
    public int Id { get; set; }

    [References(typeof(Rockstar))]
    public int RockstarId { get; set; }

    [Index]
    public string Genre { get; set; }

    public string Name { get; set; }
}
</code></pre>
<p>PocoDynamo uses the same generic metadata attributes in <strong>ServiceStack.Interfaces</strong> as OrmLite.</p>
<p>When this POCO is created in OrmLite it creates:</p>
<ul>
<li>A <code>RockstarAlbum</code> table with an <code>Id</code> auto incrementing <strong>Primary Key</strong></li>
<li>The <code>RockstarId</code> as the <strong>Foreign Key</strong> for the <code>Rockstar</code> table</li>
<li>Adds an <strong>Index</strong> on the <code>Genre</code> column.</li>
</ul>
<p>Whereas in DynamoDB, PocoDynamo creates:</p>
<ul>
<li>The <code>RockstarAlbum</code> table with the <code>Id</code> as an auto incrementing <strong>Range Key</strong></li>
<li>The <code>RockstarId</code> as the <strong>Hash Key</strong></li>
<li>Creates a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/LSI.html">Local Secondary Index</a> for the Genre attribute.</li>
</ul>
<h3 id="typed-autoquery-dynamodb-queries">Typed AutoQuery DynamoDB Queries<a class="header-anchor" href="javascript:;" onclick="location.hash='#typed-autoquery-dynamodb-queries'" aria-label="Permalink"> </a></h3>
<p>Since the properties we want to query are explicitly typed we can make use of ServiceStack's nice typed
Service Client API's to call this Service and fetch Kurt Cobains <strong>Grunge</strong> Albums out of the first 5 recorded:</p>
<pre><code class="language-csharp">var response = client.Get(new QueryRockstarAlbums { //QUERY 
    RockstarId = kurtCobainId, //Key Condition
    IdBetween = new[]{ 1, 5 }, //Key Condition
    Genre = &quot;Grunge&quot;,          //Filter Condition
});

response.PrintDump(); // Pretty print results to Console
</code></pre>
<p>As illustrated in the comments, DynamoDB AutoQuery performs the most efficient DynamoDB Query required in
order to satisfy this request where it will create a
<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#QueryAndScan.Query">Query Request</a>
with the <code>RockstarId</code> and <code>IdBetween</code> conditions added to the <strong>Key Condition</strong> and the remaining <code>Genre</code>
added as a <strong>Filter Expression</strong>.</p>
<p>If we instead wanted to fetch all of Kurt Cobains <strong>Grunge</strong> Albums where there was no longer a condition on
the Album <code>Id</code> <strong>Range Key</strong>, i.e:</p>
<pre><code class="language-csharp">var response = client.Get(new QueryRockstarAlbums { //QUERY
    RockstarId = kurtCobainId, //Key Condition
    Genre = &quot;Grunge&quot;,          //Key Condition
});
</code></pre>
<p>It would instead create a <strong>Query Request</strong> configured to use the Genre <strong>Local Secondary Index</strong> and have
added both <code>RockstarId</code> Hash Key and index <code>Genre</code> to the <strong>Key Condition</strong>.</p>
<p>But if you instead wanted to view all Grunge Albums, i.e:</p>
<pre><code class="language-csharp">var response = client.Get(new QueryRockstarAlbums { //SCAN
    Genre = &quot;Grunge&quot;            //Filter Condition
});
</code></pre>
<p>As no Hash Key was specified it would instead create a <strong>SCAN Request</strong> where as there's no index, it adds
all conditions to the <strong>Filter Expression</strong>.</p>
<h3 id="autoquery-dynamodb-global-index-queries">AutoQuery DynamoDB Global Index Queries<a class="header-anchor" href="javascript:;" onclick="location.hash='#autoquery-dynamodb-global-index-queries'" aria-label="Permalink"> </a></h3>
<p>For times when you need to perform an efficient <strong>Query Request</strong> across multiple hash keys you will need to
create a <a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GSI.html">Global Secondary Index</a>.
Luckily this is easy to do in PocoDynamo where you can define Global Indexes with a simple POCO class definition:</p>
<pre><code class="language-csharp">public class RockstarAlbumGenreIndex : IGlobalIndex&lt;RockstarAlbum&gt;
{
    [HashKey]
    public string Genre { get; set; }

    [RangeKey]
    public int Id { get; set; }

    public string Name { get; set; }    // projected property
    public int RockstarId { get; set; } // projected property
}
</code></pre>
<p>Global Indexes can be thought of as &quot;automatically synced tables&quot; specified with a different Hash Key.
Just like DynamoDB tables you can specify the <strong>Hash Key</strong> you want to globally query and create the Index
on as well as a separate <strong>Range Key</strong> you want to be able to perform efficient <strong>Key Condition</strong> queries on.
You'll also want to specify any properties you want returned when querying the Global Index so they'll be
automatically projected and stored with the Global Index, ensuring fast access.</p>
<p>Then to have PocoDynamo create the Global Index it should be referenced on the table the Global Index is on:</p>
<pre><code class="language-csharp">[References(typeof(RockstarAlbumGenreIndex))]
public class RockstarAlbum { ... }
</code></pre>
<p>When referenced, <code>InitSchema()</code> will create the <code>RockstarAlbumGenreIndex</code> Global Secondary Index when it
creates the <code>RockstarAlbum</code> DynamoDB Table.</p>
<p>With the Global Index created we can now query it just like we would any other DynamoDB AutoQuery but instead
of querying a table, we query the Index instead:</p>
<pre><code class="language-csharp">public class QueryRockstarAlbumsGenreIndex : QueryData&lt;RockstarAlbumGenreIndex&gt;
{
    public string Genre { get; set; }     // Hash Key
    public int[] IdBetween { get; set; }  // Range Key
    public string Name { get; set; }
}
</code></pre>
<p>Once defined you can query it just like any other AutoQuery Service where you're now able to perform
efficient queries by <strong>Genre</strong> across all Rockstar Album's:</p>
<pre><code class="language-csharp">var response = client.Get(new QueryRockstarAlbumsGenreIndex //QUERY
{
    Genre = &quot;Grunge&quot;,              //Key Condition
    IdBetween = new[] { 1, 1000 }, //Key Condition
});
</code></pre>
<h3 id="custom-poco-result-mappings">Custom POCO Result Mappings<a class="header-anchor" href="javascript:;" onclick="location.hash='#custom-poco-result-mappings'" aria-label="Permalink"> </a></h3>
<p>A noticeable difference from querying a Global Index instead of the Table directly is that results are
returned in a different <code>RockstarAlbumGenreIndex</code> POCO. Luckily we can use AutoQuery's
<a href="/autoquery#returning-custom-results">Custom Results Feature</a>
to map the properties back into the original table <code>RockstarAlbum</code> with:</p>
<pre><code class="language-csharp">public class QueryRockstarAlbumsGenreIndex : QueryData&lt;RockstarAlbumGenreIndex,RockstarAlbum&gt; 
{ 
    public string Genre { get; set; }
    public int[] IdBetween { get; set; }
    public string Name { get; set; }
}
</code></pre>
<p>Now when we query the Index we get our results populated in <code>RockstarAlbum</code> DTO's instead:</p>
<pre><code class="language-csharp">QueryResponse&lt;RockstarAlbum&gt; response = client.Get(new QueryRockstarAlbumsGenreIndex
{
    Genre = &quot;Grunge&quot;,              //Key Condition
    IdBetween = new[] { 1, 1000 }, //Key Condition
});
</code></pre>
<h3 id="caching-autoquery-services">Caching AutoQuery Services<a class="header-anchor" href="javascript:;" onclick="location.hash='#caching-autoquery-services'" aria-label="Permalink"> </a></h3>
<p>One of the many benefits of AutoQuery Services being just regular ServiceStack Services is that we get
access to ServiceStack's rich ecosystem of enhanced functionality around existing Services. An example added
in this release is ServiceStack's new HTTP Caching feature which lets you easily cache a Service with
the new <code>[CacheResponse]</code> attribute, letting you declaratively specify how long you want to cache identical
requests for on the <strong>Server</strong> as well as a <code>MaxAge</code> option for instructing the <strong>Client</strong> how long they should
consider their local cache is valid for and any custom <code>Cache-Control</code> behavior you want them to have, e.g:</p>
<pre><code class="language-csharp">[Route(&quot;/rockstar-albums&quot;)]
[CacheResponse(Duration = 60, MaxAge = 30, CacheControl = CacheControl.MustRevalidate)]
public class QueryRockstarAlbums : QueryData&lt;RockstarAlbum&gt;
{
    public int? Id { get; set; }         
    public int? RockstarId { get; set; }
    public string Genre { get; set; }
    public int[] IdBetween { get; set; }
}
</code></pre>
<p>So with just the above single Request DTO we've declaratively created a fully-queryable DynamoDB AutoQuery
Service that transparently executes the most ideal DynamoDB queries for each request, has it's optimal
representation efficiently cached on both Server and clients, whose Typed DTO can be reused as-is on the
client to call Services with an end-to-end Typed API using any
<a href="/csharp-client">.NET Service Client</a>,
that's also available to external developers in a clean typed API, natively in their preferred language of
choice, accessible with just a right-click menu integrated inside VS.NET, Xcode, Android Studio, IntelliJ
and Eclipse - serving both PCL Xamarin.iOS/Android as well as native iOS and Android developers by just<br />
<a href="/add-servicestack-reference">Adding a ServiceStack Reference</a>
to the base URL of a remote ServiceStack Instance - all without needing to write any implementation!</p>
<h3 id="more-info">More Info<a class="header-anchor" href="javascript:;" onclick="location.hash='#more-info'" aria-label="Permalink"> </a></h3>
<p>For more examples exploring different AutoQuery Data features checkout the
<a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AutoQueryDataTests.cs">AutoQuery Data Tests</a>
and <a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AutoQueryDataTests.Dynamo.cs">AutoQuery DynamoDB Tests</a>
that can be compared on a feature-by-feature basis against the existing
<a href="https://github.com/ServiceStack/ServiceStack/blob/master/tests/ServiceStack.WebHost.Endpoints.Tests/AutoQueryTests.cs">AutoQuery Tests</a>
they were originally based on.</p>
<h3 id="autoquery-breaking-changes">AutoQuery Breaking Changes<a class="header-anchor" href="javascript:;" onclick="location.hash='#autoquery-breaking-changes'" aria-label="Permalink"> </a></h3>
<p>As there are now 2 independent AutoQuery implementations we felt it necessary to rename the existing AutoQuery
Types to establish a clear naming convention making it obvious which implementation the different Types are for.
Types that are specific to the existing <strong>RDBMS</strong> AutoQuery now starts with <code>QueryDb*</code> whereas equivalent
Types for AutoQuery <strong>Data</strong> start with <code>QueryData*</code>. The decorated example below shows an example of
these differences:</p>
<pre><code class="language-csharp">//AutoQuery RDBMS
[QueryDb(QueryTerm.Or)]
public class QueryCustomers : QueryDb&lt;Customer&gt; 
{
    [QueryDbField(Term = QueryTerm.Or, Operand = &quot;&gt;=&quot;, Field = &quot;LastName&quot;)]
    public int? OrAgeOlderThan { get; set; }
}

public class AutoQueryRDBMSServices : Service
{
    public IAutoQueryDb AutoQuery { get; set; }
    ...
}

//AutoQuery Data - Multiple / Open Data Sources 
[QueryData(QueryTerm.Or)]
public class QueryCustomers : QueryData&lt;Customer&gt; 
{
    [QueryDataField(Term = QueryTerm.Or, Condition = &quot;&gt;=&quot;, Field = &quot;LastName&quot;)]
    public int? OrAgeOlderThan { get; set; }
}

public class AutoQueryDataServices : Service
{
    public IAutoQueryData AutoQuery { get; set; }
    ...
}
</code></pre>
<p>For backwards compatibility we're continuing to support the most common usage for creating AutoQuery Services
that just inherit <code>QueryBase&lt;T&gt;</code>, but this is now deprecated in favor of <code>QueryDb&lt;T&gt;</code>. All other existing
<code>[Query*]</code> attributes will need to be renamed to <code>[QueryDb*]</code> as seen above, likewise <code>IAutoQuery</code> is also
deprecated and renamed to <code>IAutoQueryDb</code>. If in doubt please check any the deprecation message on types with
any build errors as they'll indicate the name of the new Type it should be renamed to.</p>
<p>We deeply regret any inconvenience these changes causes as we didn't foresee we'd extend AutoQuery Services to
support multiple Data Sources beyond the RDBMS of which it was designed for. Introducing a clear naming
convention now establishes a clear symmetry between both implementations which we expect to reduce a lot of
confusion in future.</p>
<h3 id="other-autoquery-features">Other AutoQuery Features<a class="header-anchor" href="javascript:;" onclick="location.hash='#other-autoquery-features'" aria-label="Permalink"> </a></h3>
<h4 id="customizable-fields">Customizable Fields<a class="header-anchor" href="javascript:;" onclick="location.hash='#customizable-fields'" aria-label="Permalink"> </a></h4>
<p>AutoQuery's <a href="/autoquery#customizable-fields">Customizable Fields</a>
received some improvements where the fields list are now <strong>case-insensitive</strong>, e.g:</p>
<pre><code>?fields=columnA,COLUMNB 
</code></pre>
<p>There's also now support for <strong>wildcards</strong> which let you quickly reference all fields on a table using the
<code>table.*</code> format, e.g:</p>
<pre><code>?fields=id,departmentid,department,employee.*
</code></pre>
<p>Which is a shorthand that expands to manually listing each field in the <code>Employee</code> table, useful for queries
which joins multiple tables, e.g:</p>
<pre><code class="language-csharp">[Route(&quot;/employees&quot;, &quot;GET&quot;)]
public class QueryEmployees : QueryDb&lt;Employee&gt;,
    IJoin&lt;Employee, EmployeeType&gt;,
    IJoin&lt;Employee, Department&gt;,
    IJoin&lt;Employee, Title&gt; 
{
    //...
}
</code></pre>
<h4 id="exclude-autoquery-collections-from-being-initialized">Exclude AutoQuery Collections from being initialized<a class="header-anchor" href="javascript:;" onclick="location.hash='#exclude-autoquery-collections-from-being-initialized'" aria-label="Permalink"> </a></h4>
<p>The default configuration for all languages supported in
<a href="/add-servicestack-reference">Add ServiceStack Reference</a>
is to
<a href="/csharp-add-servicestack-reference#initializecollections">InitializeCollections</a>
which allows for a nicer client API in which clients can assume Request DTO's have their collections
initialized allowing them to use the shorthand collection initializer syntax, e.g:</p>
<pre><code class="language-csharp">var response = client.Get(new SearchQuestions { 
    Tags = { &quot;redis&quot;, &quot;ormlite&quot; }
});
</code></pre>
<p>A problem with this is that AutoQuery encourages having multiple collection properties, most of which will
remain unused but would still have an empty collection initialized for all unused properties that are then
emitted on the wire. To help with this we've made it easy to prevent collections from being emitted in
AutoQuery DTO's by configuring the pre-registered <code>NativeTypesFeature</code> plugin below with:</p>
<pre><code class="language-csharp">var nativeTypes = this.GetPlugin&lt;NativeTypesFeature&gt;();
nativeTypes.InitializeCollectionsForType = NativeTypesFeature.DontInitializeAutoQueryCollections;
</code></pre>
<h2 id="http-caching">HTTP Caching<a class="header-anchor" href="javascript:;" onclick="location.hash='#http-caching'" aria-label="Permalink"> </a></h2>
<p>Another big ticket feature we expect to prove extremely valuable is the improved story around HTTP Caching
that transparently improves the behavior of existing <code>ToOptimized</code> Cached Responses, provides a typed API to
to opt-in to <strong>HTTP Client</strong> features, introduces a simpler declarative API for enabling both
<strong>Server and Client Caching</strong> of Services and also includes Cache-aware clients that are able to improve the
performance and robustness of all existing .NET Service Clients - functionality that's especially valuable to
bandwidth-constrained Xamarin.iOS / Xamarin.Android clients offering improved performance and greater resilience.</p>
<p>The new caching functionality is encapsulated in the new <code>HttpCacheFeature</code> plugin that's pre-registered
by default and can be removed to disable the new HTTP Caching behavior with:</p>
<pre><code class="language-csharp">Plugins.RemoveAll(x =&gt; x is HttpCacheFeature);
</code></pre>
<h3 id="server-caching">Server Caching<a class="header-anchor" href="javascript:;" onclick="location.hash='#server-caching'" aria-label="Permalink"> </a></h3>
<p>To explain the new HTTP Caching features we'll revisit the ServiceStack's previous caching support which
enables what we refer to as <strong>Server Caching</strong> where the response of a Service is cached in the registered
<a href="/caching">Caching Provider</a>
by calling the <code>ToOptimizedResult*</code> API's which lets you programmatically construct the Cache Key and/or
how long the cache should be persisted for, e.g:</p>
<pre><code class="language-csharp">public class OrdersService : Service
{
    public object Any(GetCustomers request)
    {
        //Good candidates: request.ToGetUrl() or base.Request.RawUrl
        var cacheKey = &quot;unique_key_for_this_request&quot;;
        var expireCacheIn = TimeSpan.FromHours(1);

        return Request.ToOptimizedResultUsingCache(Cache, cacheKey, expireCacheIn, 
            () =&gt; {
                //Delegate executed only if item doesn't already exist in cache 
                //Any response DTO returned is cached on subsequent requests
            });
    }
}
</code></pre>
<p>As the name indicates this stores the most optimal representation of the Service Response in the registered
<code>ICacheClient</code>, so for example if a client called the above API with <code>Accept: application/json</code> and
<code>Accept-Encoding: deflate, gzip</code> HTTP Request Headers ServiceStack would store the deflated serialized JSON
bytes in the Cache and on subsequent requests resulting in the same cache key would write the compressed
deflated bytes directly to the Response OutputStream - saving both CPU and bandwidth.</p>
<h4 id="more-optimal-optimizedresults">More Optimal OptimizedResults<a class="header-anchor" href="javascript:;" onclick="location.hash='#more-optimal-optimizedresults'" aria-label="Permalink"> </a></h4>
<p>But there's an even more optimal result we could return instead: <strong>Nothing</strong> :) and save even more CPU and
bandwidth! Which is precisely what the
<a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html">HTTP Caching</a> directives built into the HTTP spec
allow for. To enable it you'd need to return additional HTTP Headers to the client containing the necessary
metadata they can use to determine when their locally cached responses are valid. Typically this is the
<a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.3.1">Last-Modified</a>
date of when the Response/Resource was last modified or an
<a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec13.html#sec13.3.2">Entity Tag</a> containing an opaque string
the Server can use to determine whether the client has the most up-to-date response.</p>
<p>The most optimal cache validator we can use for existing <code>ToOptimizedResult*</code> API's is the <strong>Last Modified</strong>
date which is now being cached along with the response. An additional instruction we need to return to the
client is the
<a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9">Cache-Control</a> HTTP Response Header
which instructs the client what caching behavior to apply to the server response. As we want the new behavior
to work transparently without introducing caching issues to existing Services, we've opted for a conservative:</p>
<pre><code>Cache-Control: max-age=0
</code></pre>
<p>Which tells the client to treat the server response as immediately stale and that it should send another
request to the Server for identical requests, but this time the client will append a
<a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.25">If-Modified-Since</a> HTTP Request Header
which ServiceStack now automatically looks up to determine if the cache the client has is valid.
If no newer cache for this request has been created since, ServiceStack returns a <strong>304 NotModified</strong>
Response with an empty Request Body which tells the client it's safe to use their local cache instead.</p>
<h4 id="modify-cache-control-for-optimizedresults">Modify Cache-Control for OptimizedResults<a class="header-anchor" href="javascript:;" onclick="location.hash='#modify-cache-control-for-optimizedresults'" aria-label="Permalink"> </a></h4>
<p>You can change the <code>Cache-Control</code> Header returned for existing <code>ToOptimizedResult</code> responses by modifying
the pre-registered <code>HttpCacheFeature</code>, e.g:</p>
<pre><code class="language-csharp">var cacheFeature = this.GetPlugin&lt;HttpCacheFeature&gt;();
cacheFeature.CacheControlForOptimizedResults = &quot;max-age=3600, must-revalidate&quot;;
</code></pre>
<p>This tells the client that they can treat their locally cached server responses as <strong>valid for 1hr</strong><br />
but <strong>after 1hr</strong> they must check back with the Server to determine if their cache is still valid.</p>
<h3 id="http-client-caching">HTTP Client Caching<a class="header-anchor" href="javascript:;" onclick="location.hash='#http-client-caching'" aria-label="Permalink"> </a></h3>
<p>The Caching features above revolve around enhancing existing <strong>Server Cached</strong> responses with <strong>HTTP Caching</strong>
features to further reduce latency and save CPU and bandwidth resources. In addition to <strong>Server Caching</strong>
pure stand-alone <strong>HTTP Caching</strong> features (i.e. that don't cache server responses) are now available as
first-class properties on <code>HttpResult</code>:</p>
<pre><code class="language-csharp">// Only one Cache Validator below needs to be specified:
string ETag            // opaque string representing integrity of response
DateTime? LastModified // the last time the response was Modified

// Specify Client/Middleware Cache Behavior
TimeSpan? MaxAge          // How long cached response is considered valid
CacheControl CacheControl // More options to specify Cache-Control behavior:
enum CacheControl {
    None,
    Public,
    Private,
    MustRevalidate,
    NoCache,
    NoStore,
    NoTransform,
    ProxyRevalidate,
}

// Available, but rarely used
TimeSpan? Age      // Used by proxies to indicate how old cache is
DateTime? Expires  // Less preferred alternative to MaxAge
</code></pre>
<p>We'll walk through a couple of real-world examples to show how we can make use of these new properties
and explain the HTTP Caching behavior they enable.</p>
<h4 id="using-etags">Using ETags<a class="header-anchor" href="javascript:;" onclick="location.hash='#using-etags'" aria-label="Permalink"> </a></h4>
<p>The minimum properties required for HTTP Caching is to specify either an <code>ETag</code> or <code>LastModified</code>
Caching Validator. You can use any opaque string for the <code>ETag</code> that uniquely represents a version of the
response that you can use to determine what version the client has, which could be an MD5 or SHA Hash of
the response but can also be a unique version string. E.g. Adding a <code>RowVersion</code> property to your OrmLite
POCO Data Models turns on
<a href="/ormlite/optimistic-concurrency">OrmLite's Optimistic Concurrency</a>
feature where each time a record is modified it's automatically populated with a new version, these
characteristics makes it ideal for use as an ETag which we can just return as a string:</p>
<pre><code class="language-csharp">public object Any(GetCustomer request)
{
    var response = Db.SingleById&lt;Customer&gt;(request.Id);    
    return new HttpResult(response) {
        ETag = response.RowVersion.ToString(), 
    };
}
</code></pre>
<p>Whilst this is the minimum info required in your Services, the client also needs to know how long the
cache is valid for as typically indicated by the <code>MaxAge</code> property. If it's omitted ServiceStack falls back
to use the <code>HttpCacheFeature.DefaultMaxAge</code> of <strong>10 minutes</strong> which can be changed in your <code>AppHost</code> with:</p>
<pre><code class="language-csharp">this.GetPlugin&lt;HttpCacheFeature&gt;().DefaultMaxAge = TimeSpan.FromHours(1);
</code></pre>
<p>So the HTTP Response Headers the client receives when calling this Service for the first time is something similar to:</p>
<pre><code>ETag: &quot;42&quot;
Cache-Control: max-age=600
</code></pre>
<p>Which tells the client that they can use their local cache for identical requests issued within the next
10 minutes. After 10 minutes the cache is considered stale and the client will issue a new request to the
server but this time it will include the <strong>ETag</strong> it has associated with the Response, i.e:</p>
<pre><code>If-None-Match: &quot;42&quot;
</code></pre>
<p>When this happens the Service is still executed as normal and if the Customer hasn't changed, the
<code>HttpCacheFeature</code> will compare the <code>HttpResult.ETag</code> response with the clients <strong>ETag</strong> above and if they
match ServiceStack will instead return a <strong>304 NotModified</strong> with an Empty Response Body to indicate to the
client that it can continue to use their locally cached response.</p>
<p>So whilst using a <code>HttpResult</code> <strong>doesn't cache</strong> the response <strong>on the Server</strong> and save further resources
used in executing the Service, it still benefits from allowing the client to use their local cache for
<strong>10 minutes</strong> - eliminating server requests and yielding instant response times. Then after <strong>10 minutes</strong>
the <strong>304 NotModified</strong> Response Status and <strong>Empty Body</strong> improves latency and saves the Server CPU and
bandwidth resources it didn't have to use for serializing and writing the executed Services response it
would have need to do if no Caching was enabled.</p>
<h4 id="using-lastmodified">Using LastModified<a class="header-anchor" href="javascript:;" onclick="location.hash='#using-lastmodified'" aria-label="Permalink"> </a></h4>
<p>The alternative to using an <code>ETag</code> is to use the <code>Last-Modified</code> Caching Validator. When you're constructing
a complex response you'll want to use the <strong>most recent</strong> Last Modified Date from all sources so that you
can determine that the cache is no longer valid when any of the sources have been updated.</p>
<p>If you also want to customize the clients <strong>Cache-Control</strong> behavior you can use the additional <code>HttpResult</code>
properties, below is an example of doing both:</p>
<pre><code class="language-csharp">public object Any(GetCustomerOrders request)
{
    var response = new GetCustomerOrdersResponse {
        Customer = Db.SingleById&lt;Customer&gt;(request.Id),
        Orders = Db.Select&lt;Order&gt;(x =&gt; x.CustomerId == request.Id),
    };

    var allDates = new List&lt;DateTime&gt;(response.Orders.Select(x =&gt; x.ModifiedDate)) {
        response.Customer.ModifiedDate,
    };

    return new HttpResult(response)
    {
        LastModified = allDates.OrderByDescending(x =&gt; x).First(),
        MaxAge = TimeSpan.FromSeconds(60),
        CacheControl = CacheControl.Public | CacheControl.MustRevalidate,
    };
}
</code></pre>
<p>Which returns the Last Modified Date of the <code>Customer</code> record or any of their <code>Orders</code> as well as the
customized <strong>Cache-Control</strong> Header which together returns Response Headers similar to:</p>
<pre><code>Last-Modified: Fri, 19 April 2016 05:00:00 GMT
Cache-Control: max-age=60, public, must-revalidate
</code></pre>
<p>Then after <strong>60 seconds</strong> have elapsed the client will re-issue a request but instead of sending a
<code>If-None-Match</code> Request Header and <strong>ETag</strong>, instead sends <code>If-Modified-Since</code> and the <strong>Last-Modified</strong> date:</p>
<pre><code>If-Modified-Since: Fri, 19 April 2016 05:00:00 GMT
</code></pre>
<p>The resulting behavior is identical to that of the <strong>ETag</strong> above but instead compares the LastModified dates
instead of ETag strings for validity.</p>
<h3 id="short-circuiting-http-cache-validation">Short-circuiting HTTP Cache Validation<a class="header-anchor" href="javascript:;" onclick="location.hash='#short-circuiting-http-cache-validation'" aria-label="Permalink"> </a></h3>
<p>A further optimization that can be added to the HTTP Cache workflow is using <code>IRequest.HasValidCache()</code>
to short-circuit the execution of a Service after you've processed enough information to determine either
the <code>ETag</code> or <code>LastModified</code> for the response.</p>
<p>For example if you had a Service that transcodes video on-the-fly, you can use <code>Request.HasValidCache()</code> to
check whether the client already has the latest version of the video, if it does we can return a
<strong>304 NotModified</strong> result directly, short-circuiting the Service and saving any resources in executing the
remainder of the implementation, which in this case would <strong>bypass reading and transcoding</strong> the .mp4 video:</p>
<pre><code class="language-csharp">public object Any(GetOggVideo request)
{
    var mp4Video = VirtualFileSources.GetFile($&quot;/videos/{request.Id}.mp4&quot;);   
    if (mp4Video == null)
        throw HttpError.NotFound($&quot;Video #{request.Id} does not exist&quot;);
    
    if (Request.HasValidCache(mp4Video.LastModified))
        return HttpResult.NotModified();
    
    var encodedOggBytes = EncodeToOggVideo(file.ReadAllBytes());
    return new HttpResult(encodedOggBytes, &quot;video/ogg&quot;) 
    {
        LastModified = mp4Video.LastModified,
        MaxAge = TimeSpan.FromDays(1),
    };
}
</code></pre>
<h3 id="new-cacheresponse-attribute">New [CacheResponse] Attribute<a class="header-anchor" href="javascript:;" onclick="location.hash='#new-cacheresponse-attribute'" aria-label="Permalink"> </a></h3>
<p>We've briefly had a look at the existing <code>ToOptimizedResult*</code> API's to create <strong>Server Caches</strong> in
ServiceStack as well as using a customized <code>HttpResult</code> to take advantage of <strong>HTTP Caching</strong> Client features.
To make it even easier to use both, we've combined them together in a new declarative <code>[CacheResponse]</code>
<a href="/filter-attributes">Request Filter attribute</a>
which as it's non-invasive and simple to add, we expect it to be the most popular option for adding caching
to your Services in future.</p>
<p>As a normal <a href="/filter-attributes">Request Filter Attribute</a>
it can be added at the top-level of your Service class in which case it will cache the response of
<strong>All</strong> Service implementations for <strong>60 seconds</strong>, e.g:</p>
<pre><code class="language-csharp">[CacheResponse(Duration = 60)]
public class CachedServices : Service 
{ 
    public object Any(GetCustomer request) { ... }
    
    public object Any(GetCustomerOrders request) { ... }
}
</code></pre>
<p>It can also be applied individually on a single Service implementation:</p>
<pre><code class="language-csharp">[CacheResponse(Duration = 60)]
public object Any(GetCustomer request)
{
    return Db.SingleById&lt;Customer&gt;(request.Id);
}
</code></pre>
<p>Or on Request DTO's, as we saw earlier on the <code>QueryRockstarAlbums</code> AutoQuery DynamoDB Request DTO:</p>
<pre><code class="language-csharp">[CacheResponse(Duration = 60)]
public class QueryRockstarAlbums : QueryData&lt;RockstarAlbum&gt; { ... }
</code></pre>
<p>However adding Request Filter Attributes <strong>on Request DTO's</strong> goes against our recommendation for keeping
your DTO's in a separate implementation and dependency-free <strong>ServiceModel.dll</strong> as it would require a
dependency on the non-PCL <strong>ServiceStack.dll</strong> which would prohibit being able to reuse your existing
DTO .dll in PCL libraries, limiting their potential re-use.</p>
<p>You can still take advantage of the <code>[CacheResponse]</code> attribute on AutoQuery Services by defining
a custom implementation, at which point adding the <code>[CacheResponse]</code> attribute behaves as normal and
applies caching to your Service implementations. E.g. you can enable caching for multiple AutoQuery
Services with:</p>
<pre><code class="language-csharp">[CacheResponse(Duration = 60)]
public class MyCachedAutoQueryServices : Service 
{
    public IAutoQueryData AutoQuery { get; set; }

    public object Any(QueryRockstars query) =&gt;
        AutoQuery.Execute(query, AutoQuery.CreateQuery(query, Request));
    
    public object Any(QueryRockstarAlbums query) =&gt;
        AutoQuery.Execute(query, AutoQuery.CreateQuery(query, Request));
}
</code></pre>
<h4 id="server-cached-and-http-caching-enabled-responses">Server Cached and HTTP Caching enabled responses<a class="header-anchor" href="javascript:;" onclick="location.hash='#server-cached-and-http-caching-enabled-responses'" aria-label="Permalink"> </a></h4>
<p>When only specifying a <code>Duration=60</code> ServiceStack only <strong>caches the Server Response</strong> so it behaves similar
to using the existing <code>ToOptimizedResult()</code> API, e.g:</p>
<pre><code class="language-csharp">public object Any(GetCustomer request)
{
    return Request.ToOptimizedResultUsingCache(Cache, 
        Request.RawUrl, TimeSpan.FromSeconds(60), 
        () =&gt; Db.SingleById&lt;Customer&gt;(request.Id));
}
</code></pre>
<p>To also enable <strong>HTTP Caching</strong> features you'll need to opt-in by specifying an additional HTTP Caching directive.
E.g. including a <code>MaxAge</code> instructs ServiceStack to apply <strong>HTTP Caching</strong> logic and return the appropriate headers:</p>
<pre><code class="language-csharp">[CacheResponse(Duration=60, MaxAge=30)]
public object Any(GetCustomer request) =&gt; Db.SingleById&lt;Customer&gt;(request.Id);
</code></pre>
<p>Where subsequent identical requests from a <strong>cache-aware client</strong> will return their locally cached version
within the first <strong>30 seconds</strong>, between <strong>30-60 seconds</strong> the client will re-validate the request with the
Server who will return a <strong>304 NotModified</strong> Response with an <strong>Empty Body</strong>, after <strong>60 seconds</strong> the cache
expires and the next request will <strong>re-execute the Service</strong> and populate the cache with a new response.</p>
<h4 id="cacheresponse-properties">CacheResponse Properties<a class="header-anchor" href="javascript:;" onclick="location.hash='#cacheresponse-properties'" aria-label="Permalink"> </a></h4>
<p>The Caching behavior of the <code>[CacheResponse]</code> attribute can be further customized using any of the
additional properties below:</p>
<pre><code class="language-csharp">int Duration              // Cache expiry in seconds
int MaxAge                // MaxAge in seconds
CacheControl CacheControl // Customize Cache-Control HTTP Headers
bool VaryByUser           // Vary cache per user
string[] VaryByRoles      // Vary cache for users in these roles
bool LocalCache           // Use In Memory HostContext.LocalCache or HostContext.Cache
</code></pre>
<p>Using any of the other HTTP Cache properties will also trigger the HTTP Caching features.
When a <code>MaxAge</code> isn't specified, i.e:</p>
<pre><code class="language-csharp">[CacheResponse(Duration = 10, VaryByUser = true)]
public object Any(GetUserActivity request) { ... }
</code></pre>
<p>ServiceStack falls back to use the <code>HttpCacheFeature.DefaultMaxAge</code> which defaults to <strong>10 minutes</strong>,
in addition to the <code>VaryByUser</code> flag will construct a unique cache key for each user and return an additional
<code>Vary: Cookie</code> HTTP Response Header.</p>
<h3 id="advanced-cacheinfo-customization">Advanced CacheInfo Customization<a class="header-anchor" href="javascript:;" onclick="location.hash='#advanced-cacheinfo-customization'" aria-label="Permalink"> </a></h3>
<p>One limitation of using a .NET Attribute to specify caching behavior is that we're limited to using
.NET constant primitives prohibiting the use of allowing custom lambda's to capture custom behavior.
This is also the reason why we need to use <code>int</code> for <code>Duration</code> and <code>MaxAge</code> instead of a more appropriate
<code>TimeSpan</code>.</p>
<p>But we can still intercept the way the <code>[CacheResponse]</code> attribute works behind-the-scenes and programmatically
enhance it with custom logic.
<a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/CacheResponseAttribute.cs">CacheResponseAttribute</a>
is just a wrapper around initializing a populated
<a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/CacheInfo.cs">CacheInfo</a> POCO
that it drops into the <code>IRequest.Items</code> dictionary where it's visible to your Service and any remaining Filters
in ServiceStack's <a href="/order-of-operations">Request Pipeline</a>.
Essentially it's just doing this:</p>
<pre><code class="language-csharp">req.Items[Keywords.CacheInfo] = new CacheInfo { ... };
</code></pre>
<p>The actual validation logic for processing the <code>CacheInfo</code> is encapsulated within the <code>HttpCacheFeature</code>
Response Filter. This gives our Service a chance to modify it's behavior, e.g. in order to generically
handle all Service responses the <code>[CacheResponse]</code> attribute uses the <code>IRequest.RawUrl</code>
(the URL minus the domain) for the base CacheKey. Whilst using a RawUrl is suitable in uniquely identifying
most requests, if QueryString params were sent in a different case or in a different order it would generate
a different url and multiple caches for essentially the same request. We can remedy this behavior by changing
the base CacheKey used which is just a matter retrieving the populated the <code>CacheInfo</code> and change the
<code>KeyBase</code> to use the predictable <a href="/routing#reverse-routing">Reverse Routing</a>
<code>ToGetUrl()</code> API instead, e.g:</p>
<pre><code class="language-csharp">[CacheResponse(Duration = 60)]
public object Get(MyRequest request)
{
    var cacheInfo = (CacheInfo)base.Request.GetItem(Keywords.CacheInfo);
    cacheInfo.KeyBase = request.ToGetUrl(); //custom cache key
    if (Request.HandleValidCache(cacheInfo))
        return null;
    ...

    return response;
}
</code></pre>
<p><code>HandleValidCache()</code> is used to re-validate the client's request with the new Cache Key and if it's determined
the Client has a valid cache, will short-circuit the Service and return a <strong>304 NotModified</strong> Response.</p>
<h2 id="cache-aware-service-clients">Cache-Aware Service Clients<a class="header-anchor" href="javascript:;" onclick="location.hash='#cache-aware-service-clients'" aria-label="Permalink"> </a></h2>
<p>We've now covered most of the <strong>Server Caching</strong> and <strong>HTTP Caching</strong> features in ServiceStack whose usage will
automatically benefit Websites as browsers have excellent support for HTTP Caching. But .NET Desktop Apps
or Xamarin.iOS and Xamarin.Android mobile clients wont see any of these benefits since none of the existing
Service Clients have support for <strong>HTTP Caching</strong>.</p>
<p>To complete the story we've also developed a cache-aware <code>CachedServiceClient</code> that can be used to enhance
all existing <code>HttpWebRequest</code> based Service Clients which manages its own local cache as instructed by the
HTTP Caching directives, whilst the <code>CachedHttpClient</code> does the same for the HttpClient-based <code>JsonHttpClient</code>.</p>
<p>Both Cache-Aware clients implement the full
<a href="https://github.com/ServiceStack/ServiceStack/blob/master/docs/pages/IServiceClient.md">IServiceClient</a>
interface so they should be an easy drop-in enhancement for existing applications:</p>
<pre><code class="language-csharp">IServiceClient client = new JsonServiceClient(baseUrl).WithCache(); 

//equivalent to:
IServiceClient client = new CachedServiceClient(new JsonServiceClient(baseUrl));
</code></pre>
<p>Likewise for <code>JsonHttpClient</code>:</p>
<pre><code class="language-csharp">IServiceClient client = new JsonHttpClient(baseUrl).WithCache(); 

//equivalent to:
IServiceClient client = new CachedHttpClient(new JsonHttpClient(baseUrl));
</code></pre>
<p>As seen above they're essentially decorators over existing .NET Service Clients where they'll append the
appropriate HTTP Request Headers and inspect the HTTP Responses of <strong>GET</strong> Requests that contain
HTTP Caching directives. All other HTTP Methods are just delegated through to the underlying Service Client.</p>
<p>The Service Clients maintain cached responses in an internal dictionary which can also be injected and
shared if your app uses multiple Service Clients. For example they could use the fast binary
<a href="/messagepack-format">MsgPack client</a>
for performance-sensitive queries or Services returning binary data and use a JSON client for everything else:</p>
<pre><code class="language-csharp">var sharedCache = new ConcurrentDictionary&lt;string, HttpCacheEntry&gt;();

IServiceClient msgPackClient = new MsgPackServiceClient(baseUrl).WithCache(sharedCache);

IServiceClient jsonClient = new JsonHttpClient(baseUrl).WithCache(sharedCache);
</code></pre>
<h3 id="improved-performance-and-reliability">Improved Performance and Reliability<a class="header-anchor" href="javascript:;" onclick="location.hash='#improved-performance-and-reliability'" aria-label="Permalink"> </a></h3>
<p>When caching is enabled on Services, the Cache-aware Service Clients can dramatically improve performance by
eliminating server requests entirely as well as reducing bandwidth for re-validated requests. They also
offer an additional layer of resiliency as re-validated requests that result in Errors will transparently
fallback to using pre-existing locally cached responses. For bandwidth-constrained environments like Mobile
Apps they can dramatically improve the User Experience and as they're available in all supported PCL
client platforms - we recommend their use where HTTP Caching is enabled on the Server.</p>
<h3 id="community-resources-on-caching">Community Resources on Caching<a class="header-anchor" href="javascript:;" onclick="location.hash='#community-resources-on-caching'" aria-label="Permalink"> </a></h3>
<p>The new Caching support was developed in collaboration with members of the ServiceStack Community particularly
<a href="https://twitter.com/JezzSantos">@JezzSantos</a> who was also developing his own ServiceStack Caching Solution
in parallel which he recently
<a href="http://www.mindkin.co.nz/blog/2016/1/5/caching-anyone">wrote about in comprehensive detail</a> - a must read
if you want to learn more about HTTP Caching and explore alternative solutions for maintaining dependent
caches within ServiceStack.</p>
<h2 id="service-gateway">Service Gateway<a class="header-anchor" href="javascript:;" onclick="location.hash='#service-gateway'" aria-label="Permalink"> </a></h2>
<p>Another valuable capability added in this release that despite being trivial to implement on top of
ServiceStack's existing message-based architecture, opens up exciting new possibilities for development
of loosely-coupled
<a href="/modularizing-services">Modularized Service Architectures</a>.</p>
<p>The new <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/IServiceGateway.cs">IServiceGateway</a>
interfaces represent the minimal surface area required to support ServiceStack's different calling conventions
in a formalized API that supports both Sync and Async Service Integrations:</p>
<pre><code class="language-csharp">public interface IServiceGateway
{
    // Normal Request/Reply Services
    TResponse Send&lt;TResponse&gt;(object requestDto);

    // Auto Batched Request/Reply Requests
    List&lt;TResponse&gt; SendAll&lt;TResponse&gt;(IEnumerable&lt;object&gt; requestDtos);

    // OneWay Service
    void Publish(object requestDto);

    // Auto Batched OneWay Requests
    void PublishAll(IEnumerable&lt;object&gt; requestDtos);
}

// Equivalent Async API's
public interface IServiceGatewayAsync
{
    Task&lt;TResponse&gt; SendAsync&lt;TResponse&gt;(object requestDto, 
        CancellationToken token = default(CancellationToken));

    Task&lt;List&lt;TResponse&gt;&gt; SendAllAsync&lt;TResponse&gt;(IEnumerable&lt;object&gt; requestDtos, 
        CancellationToken token = default(CancellationToken));

    Task PublishAsync(object requestDto, 
        CancellationToken token = default(CancellationToken));

    Task PublishAllAsync(IEnumerable&lt;object&gt; requestDtos, 
        CancellationToken token = default(CancellationToken));
}
</code></pre>
<p>The minimum set of API's above requires the least burden for <code>IServiceGateway</code> implementers whilst the
<a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Client/ServiceGatewayExtensions.cs">ServiceGatewayExtensions</a>
overlays convenience API's common to all implementations providing the nicest API's possible for Request DTO's
implementing the recommended <code>IReturn&lt;T&gt;</code> and <code>IReturnVoid</code> interface markers. The extension methods also
provide fallback pseudo-async support for <code>IServiceGateway</code> implementations that also don't implement the
optional <code>IServiceGatewayAsync</code>, but will use native async implementations for those that do.</p>
<p>Naked Request DTO's without annotations are sent as a <strong>POST</strong> but alternative Verbs are also supported
by annotating Request DTO's with
<a href="/csharp-client#http-verb-interface-markers">HTTP Verb Interface Markers</a>
where Request DTO's containing <code>IGet</code>, <code>IPut</code>, etc. are sent using the typed Verb API, e.g:</p>
<pre><code class="language-csharp">[Route(&quot;/customers/{Id}&quot;)]
public class GetCustomer : IReturn&lt;Customer&gt;, IGet
{
    public int Id { get; set ;}
}

var customer = client.Send(new GetCustomer { Id = 1 }); //GET /customers/1
//Equivalent to:
var customer = client.Get(new GetCustomer { Id = 1 });  
</code></pre>
<h3 id="service-integration-apis">Service Integration API's<a class="header-anchor" href="javascript:;" onclick="location.hash='#service-integration-apis'" aria-label="Permalink"> </a></h3>
<p>To execute existing ServiceStack Services internally you can call <code>ExecuteRequest(requestDto)</code> which
passes the Request DTO along with the current <code>IRequest</code> into the <code>ServiceController.Execute()</code> to execute.
The alternative is to call <code>ResolveService&lt;T&gt;</code> to resolve an autowired instance of the Service that's
injected with the current <code>IRequest</code> context letting you call methods on the Service instance directly.
Below is an example of using both API's:</p>
<pre><code class="language-csharp">public object Any(GetCustomerOrders request)
{
    using (var orderService = base.ResolveService&lt;OrderService&gt;())
    {
        return new GetCustomerOrders {
            Customer = (Customer)base.ExecuteRequest(new GetCustomer { Id = request.Id }),
            Orders = orderService.Any(new QueryOrders { CustomerId = request.Id })
        };
    }
}
</code></pre>
<p>The recommended approach now is to instead use the <code>IServiceGateway</code> accessible from <code>base.Gateway</code>
available in all Service, Razor Views, MVC ServiceStackController classes, etc. It works similar to
the <code>ExecuteRequest()</code> API (which it now replaces) where you can invoke a Service with just a populated
Request DTO, but instead yields an ideal typed API for Request DTO's implementing the recommended <code>IReturn&lt;T&gt;</code>
or <code>IReturnVoid</code> markers:</p>
<pre><code class="language-csharp">public object Any(GetCustomerOrders request)
{
    return new GetCustomerOrders {
        Customer = Gateway.Send(new GetCustomer { Id = request.Id }),
        Orders = Gateway.Send(new QueryOrders { CustomerId = request.Id })
    };
}
</code></pre>
<p>Or you can use the Async API if you prefer the non-blocking version:</p>
<pre><code class="language-csharp">public async Task&lt;GetCustomerOrdersResponse&gt; Any(GetCustomerOrders request)
{
    return new GetCustomerOrdersResponse {
        Customer = await Gateway.SendAsync(new GetCustomer { Id = request.Id }),
        Orders = await Gateway.SendAsync(new QueryOrders { CustomerId = request.Id })
    };
}
</code></pre>
<p>The capability that sets the ServiceGateway apart (other than offering a nicer API to work with)
is that this System could later have its <strong>Customer</strong> and <strong>Order</strong> Subsystems split out into different
hosts and this exact Service implementation would continue to function as before, albeit a little slower due
to the overhead of any introduced out-of-process communications.</p>
<p>The default implementation of <code>IServiceGateway</code> uses the
<a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/InProcessServiceGateway.cs">InProcessServiceGateway</a>
which delegates the Request DTO to the appropriate <code>ServiceController.Execute()</code> or
<code>ServiceController.ExecuteAsync()</code> methods to execute the Service. One noticeable difference is that any
Exceptions thrown by downstream Services are automatically converted into the same <code>WebServiceException</code>
that clients would throw when calling the Service externally, this is so Exceptions are indistinguishable
whether it's calling an internal Service or an external one, which begins touching on the benefits of the
Gateway...</p>
<p>The ServiceGateway is the same interface whether you're calling an Internal Service on the Server or a
remote Service from a client. It exposes an ideal message-based API that's
<a href="http://www.infoq.com/articles/interview-servicestack">optimal for remote Service Integrations</a>
that also supports
<a href="/auto-batched-requests">Auto Batched Requests</a>
for combining multiple Service Calls into a single Request, minimizing latency when possible.</p>
<h3 id="substitutable-service-gateways">Substitutable Service Gateways<a class="header-anchor" href="javascript:;" onclick="location.hash='#substitutable-service-gateways'" aria-label="Permalink"> </a></h3>
<p>These characteristics makes it easy to substitute and customize the behavior of the Gateway as visible in the
examples below. The easiest scenario to support is to redirect all Service Gateway calls to a remote
ServiceStack instance which can be done by registering any .NET Service Client against the <code>IServiceGateway</code>
interface, e.g:</p>
<pre><code class="language-csharp">public override void Configure(Container container)
{
    container.Register&lt;IServiceGateway&gt;(c =&gt; new JsonServiceClient(baseUrl));
}
</code></pre>
<p>A more likely scenario you'd want to support is a mix where internal requests are executed in-process
and external requests call their respective Service. If your system is split in two this becomes a simple
check to return the local InProcess Gateway for Requests which are defined in this ServiceStack instance
otherwise return a Service Client configured to the alternative host when not, e.g:</p>
<pre><code class="language-csharp">public class CustomServiceGatewayFactory : ServiceGatewayFactoryBase
{
    public override IServiceGateway GetGateway(Type requestType)
    {
        var isLocal = HostContext.Metadata.RequestTypes.Contains(requestType);
        var gateway = isLocal
            ? (IServiceGateway)base.localGateway
            : new JsonServiceClient(alternativeBaseUrl);
        return gateway;
    }
}
</code></pre>
<p>For this we needed to implement the
<a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack.Interfaces/Web/IServiceGatewayFactory.cs">IServiceGatewayFactory</a>
so we can first capture the current <code>IRequest</code> that's needed in order to call the In Process Service Gateway with.
The convenience <a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/ServiceGatewayFactoryBase.cs">ServiceGatewayFactoryBase</a>
abstracts the rest of the API away so you're only tasked with returning the appropriate Service Gateway for
the specified Request DTO.</p>
<p>Capturing the current <code>IRequest</code> makes the Gateway factory instance non-suitable to use as a singleton,
so we'll need to register it with a <code>ReuseScope.None</code> scope so a new instance is resolved each time:</p>
<pre><code class="language-csharp">public override void Configure(Container container)
{
    container.Register&lt;IServiceGatewayFactory&gt;(x =&gt; new CustomServiceGatewayFactory())
        .ReusedWithin(ReuseScope.None);
}
</code></pre>
<h2 id="service-discovery-gateways">Service Discovery Gateways<a class="header-anchor" href="javascript:;" onclick="location.hash='#service-discovery-gateways'" aria-label="Permalink"> </a></h2>
<p>We're fortunate to have a vibrant community which quickly saw the value in this new capability where they
were quick to jump in and contribute their own well-documented and supported value-added OSS solutions:</p>
<h3 id="servicestack.discovery.consul"><a href="https://github.com/MacLeanElectrical/servicestack-discovery-consul">ServiceStack.Discovery.Consul</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack.discovery.consul'" aria-label="Permalink"> </a></h3>
<p>The <a href="https://github.com/MacLeanElectrical/servicestack-discovery-consul">ConsulFeature</a> plugin
by <a href="https://github.com/wwwlicious">Scott Mackay</a> leverages the hardened distributed Discovery Services and
highly available features in <a href="https://www.consul.io/">consul.io</a> to provide automatic registration and
de-registration of ServiceStack Services on AppHost <strong>StartUp</strong> and <strong>Dispose</strong> that's available from:</p>
<pre><code>PM&gt; Install-Package ServiceStack.Discovery.Consul
</code></pre>
<p>Without any additional effort beyond registering the <code>ConsulFeature</code> plugin and starting a new ServiceStack
Instance it provides an auto-updating, self-maintaining and periodically checked registry of available Services:</p>
<pre><code class="language-csharp">public override void Configure(Container container)
{
    SetConfig(new HostConfig {
        WebHostUrl = &quot;http://api.acme.com:1234&quot;, // Externally resolvable BaseUrl
    });

    Plugins.Add(new ConsulFeature()); // Register the plugin, that's it!
}
</code></pre>
<p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/ServiceRegistration.png" alt="" /></p>
<p>Once registered, the Service Gateway works as you'd expect where internal requests are executed in process
and external requests queries the Consul registry to discover the appropriate and available Service to call:</p>
<pre><code class="language-csharp">public class MyService : Service
{
    public void Any(RequestDTO dto)
    {
        // Gateway will automatically route external requests to correct service
        var internalCall = Gateway.Send(new InternalDTO { ... });
        var externalCall = Gateway.Send(new ExternalDTO { ... });
    }
}
</code></pre>
<p><img src="https://raw.githubusercontent.com/MacLeanElectrical/servicestack-discovery-consul/master/assets/RequestDTOServiceDiscovery.png" alt="RequestDTO Service Discovery" /></p>
<h3 id="servicestack.discovery.redis"><a href="https://github.com/rsafier/ServiceStack.Discovery.Redis">ServiceStack.Discovery.Redis</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack.discovery.redis'" aria-label="Permalink"> </a></h3>
<p>The <a href="https://github.com/rsafier/ServiceStack.Discovery.Redis">RedisServiceDiscoveryFeature</a> by
<a href="https://github.com/rsafier">Richard Safier</a> has similar goals to provide transparent service discovery
but only requires access to Redis-backed datastore, but is otherwise just as easy to install:</p>
<pre><code>PM&gt; Install-Package ServiceStack.Discovery.Redis
</code></pre>
<p>and Configure:</p>
<pre><code class="language-csharp">public override void Configure(Container container)
{
    container.Register&lt;IRedisClientsManager&gt;(c =&gt; new RedisManagerPool(...));
        
    SetConfig(new HostConfig {
        WebHostUrl = &quot;http://api.acme.com:1234&quot;
    });

    Plugins.Add(new RedisServiceDiscoveryFeature());
}
</code></pre>
<p>Once registered, calling the same Gateway API's function the same way with internal requests executed
internally and external requests sent to the appropriate available node:</p>
<pre><code class="language-csharp">public class MyService : Service
{
    public void Any(RequestDTO dto)
    {
        var internalCall = Gateway.Send(new InternalDTO { ... });
        var externalCall = Gateway.Send(new ExternalDTO { ... });

        try 
        {
            var unknown = Gateway.Send(new ExternalDTOWithNoActiveNodesOnline());
        }
        catch(RedisServiceDiscoveryGatewayException e) 
        {
           // If a DTO type is not local or resolvable by Redis discovery process 
           // a RedisServiceDiscoveryGatewayException will be thrown
        }
    }
}
</code></pre>
<p>Since all Redis Discovery data is stored in a redis instance the state of all available nodes can be viewed
with any Redis GUI:</p>
<p><img src="https://raw.githubusercontent.com/ServiceStack/Assets/master/img/release-notes/RedisDiscoveryScreenshot.png" alt="" /></p>
<h4 id="servicestack.simplecloudcontrol"><a href="https://github.com/rsafier/ServiceStack.SimpleCloudControl">ServiceStack.SimpleCloudControl</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack.simplecloudcontrol'" aria-label="Permalink"> </a></h4>
<p>In addition to this Redis Discovery Service Richard is also developing a series of ServiceStack plugins
that enhances the functionality of ServiceStack.Discovery.Redis and provides cluster awareness to
additional aspects of a ServiceStack AppHost's internal state.</p>
<h3 id="designing-for-microservices">Designing for Microservices<a class="header-anchor" href="javascript:;" onclick="location.hash='#designing-for-microservices'" aria-label="Permalink"> </a></h3>
<p>Whether or not Systems
<a href="http://blog.cleancoder.com/uncle-bob/2014/09/19/MicroServicesAndJars.html">benefit overall from a fine-grained microservices architecture</a>,
enough to justify the additional latency, management and infrastructure overhead it requires, we still see
value in the development process of
<a href="https://channel9.msdn.com/events/Build/2016/C918">designing for Microservices</a> where decoupling naturally
isolated components into loosely-coupled subsystems has software-architecture benefits with overall complexity
of an entire system being reduced into smaller, more manageable logical scopes which encapsulates their capabilities
<a href="http://stackoverflow.com/a/32940275/85785">behind small, re-usable, well-defined facades</a>.</p>
<p>The ServiceGateway and its Services Discovery ecosystem together with ServiceStack's recommended use of
impl-free reusable POCO DTO's and its ability to
<a href="/modularizing-services">modularize Service implementations across multiple projects</a>
naturally promote a microservices-ready architecture where Service interactions are loosely-coupled behind
well-defined, reusable, coarse-grained messages. Designing systems in this way later allows the isolated
Service Implementation .dll to be extracted from the main System and wrapped into its own AppHost. Together
with an agreed Service Discovery solution, allows you to spawn multiple instances of the new Service -
letting you scale, deploy and maintain it independently from the rest of the system.</p>
<h2 id="csv-deserialization-support">CSV Deserialization Support<a class="header-anchor" href="javascript:;" onclick="location.hash='#csv-deserialization-support'" aria-label="Permalink"> </a></h2>
<p>The introduction of the new AutoQuery Data feature and it's <code>MemorySource</code> suddenly made full CSV support
a lot more appealing which caused CSV Deserialization support to be bumped up high on the priority list
where it's implementation is now complete. This now unlocks the ability to create fully-queryable Services
over flat-file .csv's (or Excel spreadsheets exported to .csv) by just deserializing CSV into a List of
POCO's and registering it with AutoQuery Data:</p>
<pre><code class="language-csharp">var pocos = File.ReadAllText(&quot;path/to/data.csv&quot;).FromCsv&lt;List&lt;Poco&gt;&gt;();

//AutoQuery Data Plugin
Plugins.Add(new AutoQueryDataFeature()
    .AddDataSource(ctx =&gt; ctx.MemorySource(pocos)));

// AutoQuery DTO
[Route(&quot;/pocos&quot;)]
public class QueryPocos : QueryData&lt;Poco&gt; {}
</code></pre>
<h3 id="super-csv-format">Super CSV Format<a class="header-anchor" href="javascript:;" onclick="location.hash='#super-csv-format'" aria-label="Permalink"> </a></h3>
<p>A noteworthy feature that sets ServiceStack's CSV support apart is that it's built on the compact and very fast
<a href="/jsv-format">JSV format</a> which not only can
deserialize a tabular flat file of scalar values at high-speed, it also supports deeply nested object graphs
which are encoded in JSV and escaped in a CSV field as normal. An example of this can be seen in a HTTP
sample log fragment below where the HTTP Request Headers are a serialized from a <code>Dictionary&lt;string,string&gt;</code>:</p>
<pre><code>Id,HttpMethod,AbsoluteUri,Headers
1,GET,http://localhost:55799,&quot;{Connection:keep-alive,Accept:&quot;&quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8&quot;&quot;,Accept-Encoding:&quot;&quot;gzip, deflate, sdch&quot;&quot;,Accept-Language:&quot;&quot;en-US,en;q=0.8&quot;&quot;,Host:&quot;&quot;localhost:55799&quot;&quot;,User-Agent:&quot;&quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.112 Safari/537.36&quot;&quot;,Upgrade-Insecure-Requests:1}&quot;
</code></pre>
<p>Being such a versatile file format opens up a lot of new possibilities, e.g. instead of capturing seed data
in code you could maintain them in plain-text .csv files and effortlessly load them on App Startup, e.g:</p>
<pre><code class="language-csharp">using (var db = container.Resolve&lt;IDbConnectionFactory&gt;().Open())
{
    if (db.CreateTableIfNotExists&lt;Country&gt;()) //returns true if Table created
    {
        List&lt;Country&gt; countries = &quot;~/App_Data/countries.csv&quot;.MapHostAbsolutePath()
            .ReadAllText().FromCsv&lt;List&lt;Country&gt;&gt;();
    
        db.InsertAll(countries);
    }
}
</code></pre>
<h3 id="all-services-now-accept-csv-content-types">All Services now accept CSV Content-Types<a class="header-anchor" href="javascript:;" onclick="location.hash='#all-services-now-accept-csv-content-types'" aria-label="Permalink"> </a></h3>
<p>Another immediate benefit of CSV Deserialization is that now all Services can now process the CSV Content-Type.
Being a tabular data format, CSV shines when it's processing a list of DTO's, one way to do that in
ServiceStack is to have your Request DTO inherit <code>List&lt;T&gt;</code>:</p>
<pre><code class="language-csharp">[Route(&quot;/pocos&quot;)]
public class Pocos : List&lt;Poco&gt;, IReturn&lt;Pocos&gt;
{
    public Pocos() {}
    public Pocos(IEnumerable&lt;Poco&gt; collection) : base(collection) {}
}
</code></pre>
<p>It also behaves the same way as CSV Serialization but in reverse where if your Request DTO is annotated
with either <code>[DataContract]</code> or the more explicit <code>[Csv(CsvBehavior.FirstEnumerable)]</code> it will automatically
deserialize the CSV into the first <code>IEnumerable</code> property, so these 2 Request DTO's are equivalent to above:</p>
<pre><code class="language-csharp">[Route(&quot;/pocos&quot;)]
[DataContract]
public class Pocos : IReturn&lt;Pocos&gt;
{
    [DataMember]
    public List&lt;Poco&gt; Items { get; set; }
}

[Route(&quot;/pocos&quot;)]
[Csv(CsvBehavior.FirstEnumerable)]
public class Pocos : IReturn&lt;Pocos&gt;
{
    public List&lt;Poco&gt; Items { get; set; }
}
</code></pre>
<p>In addition to the above flexible options for defining CSV-friendly Services, there's also a few different
options for sending CSV Requests to the above Services. You can use the new CSV <code>PostCsvToUrl()</code> extension
methods added to <a href="/http-utils">HTTP Utils</a>:</p>
<pre><code class="language-csharp">string csvText = File.ReadAllText(&quot;pocos.csv&quot;);

//Send CSV Text
List&lt;Poco&gt; response = &quot;http://example.org/pocos&quot;
    .PostCsvToUrl(csvText)
    .FromCsv&lt;List&lt;Poco&gt;&gt;();
    
//Send POCO DTO's
List&lt;Poco&gt; dtos = csvText.FromCsv&lt;List&lt;Poco&gt;&gt;();
List&lt;Poco&gt; response = &quot;http://example.org/pocos&quot;
    .PostCsvToUrl(dtos)
    .FromCsv&lt;List&lt;Poco&gt;&gt;();    
</code></pre>
<p>Alternatively you can use the <code>CsvServiceClient</code> which has the nice Typed API's you'd expect from a
Service Client:</p>
<pre><code class="language-csharp">var client = new CsvServiceClient(baseUrl);

Pocos response = client.Post(new Pocos(dtos));
</code></pre>
<h3 id="ideal-for-auto-batched-requests">Ideal for Auto Batched Requests<a class="header-anchor" href="javascript:;" onclick="location.hash='#ideal-for-auto-batched-requests'" aria-label="Permalink"> </a></h3>
<p>The <code>CsvServiceClient</code> by virtue of being configured to use a well-defined Tabular data format is perfect
for sending
<a href="/auto-batched-requests">Auto-Batched Requests</a>
which by definition send a batch of POCO's making the CSV format the most compact text format to send them with:</p>
<pre><code class="language-csharp">var requests = new[]
{
    new Request { ... },
    new Request { ... },
    new Request { ... },
};

var responses = client.SendAll(requests);
</code></pre>
<h3 id="csv-request-logger">CSV Request Logger<a class="header-anchor" href="javascript:;" onclick="location.hash='#csv-request-logger'" aria-label="Permalink"> </a></h3>
<p>Flipping the switch on CSV Deserialization has opened up the potential for a lot more useful features.
One of the areas we thought to be particularly valuable is being able to store daily Request Logs in a
plain-text structured format, that way they could be immediately inspectable with a text editor or for even
better inspection, opened in a spreadsheet and benefit from its filterable, movable, resizable and
sortable columns.</p>
<p>To enable CSV Request Logging you just need to register the <code>RequestLogsFeature</code> and configure it to use the
<a href="https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/CsvRequestLogger.cs">CsvRequestLogger</a>:</p>
<pre><code class="language-csharp">Plugins.Add(new RequestLogsFeature {
    RequestLogger = new CsvRequestLogger(),
});
</code></pre>
<p>This will register the CSV Request logger with the following overridable defaults:</p>
<pre><code class="language-csharp">Plugins.Add(new RequestLogsFeature {
    RequestLogger = new CsvRequestLogger(
        files = new FileSystemVirtualPathProvider(this, Config.WebHostPhysicalPath),
        requestLogsPattern = &quot;requestlogs/{year}-{month}/{year}-{month}-{day}.csv&quot;,
        errorLogsPattern = &quot;requestlogs/{year}-{month}/{year}-{month}-{day}-errors.csv&quot;
        appendEvery = TimeSpan.FromSeconds(1)
    ),
});
</code></pre>
<p>Where Request Logs are flushed every <strong>1 second</strong> using a background Timer to a daily log maintained in
the logical date format structure above. As it would be useful to be able to inspect any errors in isolation,
errors are also written to a separate <code>YYYY-MM-DD-errors.csv</code> format, in addition to the main Request logs.</p>
<h2 id="virtual-filesystem"><a href="/virtual-file-system">Virtual FileSystem</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#virtual-filesystem'" aria-label="Permalink"> </a></h2>
<p>To efficiently support Appending to existing files as needed by the <code>CsvRequestLogger</code> we've added new
<code>AppendFile</code> API's and implementations for Memory and FileSystem Virtual File Providers:</p>
<pre><code class="language-csharp">interface IVirtualFiles
{
    void AppendFile(string filePath, string textContents);
    void AppendFile(string filePath, Stream stream);
}
</code></pre>
<h2 id="ormlite"><a href="https://github.com/ServiceStack/ServiceStack.OrmLite">OrmLite</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#ormlite'" aria-label="Permalink"> </a></h2>
<h3 id="updating-existing-values">Updating existing values<a class="header-anchor" href="javascript:;" onclick="location.hash='#updating-existing-values'" aria-label="Permalink"> </a></h3>
<p>The new <code>UpdateAdd</code> API's contributed by <a href="https://github.com/madaleno">Luis Madaleno</a> provides several
Typed API's for updating existing values:</p>
<pre><code class="language-csharp">//Increase everyone's Score by 3 points
db.UpdateAdd(new Person { Score = 3 }, fields: x =&gt; x.Score); 

//Remove 5 points from Jackson Score
db.UpdateAdd(new Person { Score = -5 }, x =&gt; x.Score, x =&gt; where: x.LastName == &quot;Jackson&quot;);

//Graduate everyone and increase everyone's Score by 2 points 
var q = db.From&lt;Person&gt;().Update(x =&gt; new { x.Points, x.Graduated });
db.UpdateAdd(new Person { Points = 2, Graduated = true }, q);

//Add 10 points to Michael's score
var q = db.From&lt;Person&gt;()
    .Where(x =&gt; x.FirstName == &quot;Michael&quot;)
    .Update(x =&gt; x.Points);
db.UpdateAdd(new Person { Points = 10 }, q);
</code></pre>
<blockquote>
<p>Note: Any non-numeric values in an <code>UpdateAdd</code> statement (e.g. strings) are replaced as normal.</p>
</blockquote>
<h3 id="belongsto-attribute">BelongsTo Attribute<a class="header-anchor" href="javascript:;" onclick="location.hash='#belongsto-attribute'" aria-label="Permalink"> </a></h3>
<p>The <code>[BelongTo]</code> attribute can be used for specifying how Custom POCO results are mapped when the resultset
is ambiguous, e.g:</p>
<pre><code class="language-csharp">class A { 
    public int Id { get; set; }
}
class B {
    public int Id { get; set; }
    public int AId { get; set; }
}
class C {
    public int Id { get; set; }
    public int BId { get; set; }
}
class Combined {
    public int Id { get; set; }
    [BelongTo(typeof(B))]
    public int BId { get; set; }
}

var q = db.From&lt;A&gt;()
    .Join&lt;B&gt;()
    .LeftJoin&lt;B,C&gt;();

var results = db.Select&lt;Combined&gt;(q); //Combined.BId = B.Id
</code></pre>
<h3 id="deprecating-legacy-ormlite-apis">Deprecating Legacy OrmLite API's<a class="header-anchor" href="javascript:;" onclick="location.hash='#deprecating-legacy-ormlite-apis'" aria-label="Permalink"> </a></h3>
<p>In order to gracefully clean up OrmLite's API Surface area and separate the modern recommended API's
from the Legacy ones we've deprecated the Legacy API's which we plan to move into a separate
<code>ServiceStack.OrmLite.Legacy</code> namespace. Once moved, any use of Legacy API's will require including
the additional namespace below:</p>
<pre><code>using ServiceStack.OrmLite.Legacy;
</code></pre>
<p>The API's that have been deprecated are those with <code>*Fmt</code> suffix using in-line escaped string and the
old-style C# <code>string.Format()</code> syntax for familiarity, e.g:</p>
<pre><code class="language-csharp">var tracks = db.SelectFmt&lt;Track&gt;(&quot;Artist = {0} AND Album = {1}&quot;, 
  &quot;Nirvana&quot;, 
  &quot;Nevermind&quot;);
</code></pre>
<p>Instead we recommend the use of Typed APIs:</p>
<pre><code class="language-csharp">var tracks = db.Select&lt;Track&gt;(x =&gt; x.Artist == &quot;Nirvana&quot; &amp;&amp; x.Album == &quot;Nevermind&quot;);
</code></pre>
<p>Or when needed, Custom SQL API's that use <code>@parameter</code> names initialized with anonymous objects:</p>
<pre><code class="language-csharp">var tracks = db.Select&lt;Track&gt;(&quot;Artist = @artist AND Album = @album&quot;, 
    new { artist = &quot;Nirvana&quot;, album = &quot;Nevermind&quot; });

var tracks = db.SqlList&lt;Track&gt;(
    &quot;SELECT * FROM Track WHERE Artist = @artist AND Album = @album&quot;,
    new { artist = &quot;Nirvana&quot;, album = &quot;Nevermind&quot; });
</code></pre>
<p>As they both execute parameterized statements behind-the-scenes.</p>
<p>The other set of API's that have been tagged to move out of the primary <code>ServiceStack.OrmLite</code> and reduce
ambiguity of the existing API surface area are those that inject an <code>SqlExpression&lt;T&gt;</code>, e.g:</p>
<pre><code class="language-csharp">var tracks = db.Select&lt;Track&gt;(q =&gt; 
    q.Where(x =&gt; x.Artist == &quot;Nirvana&quot; &amp;&amp; x.Album == &quot;Nevermind&quot;));
</code></pre>
<p>These overloaded API's would often confuse IDE intellisense which were unsure whether to provide
intelli-sense for <code>Track</code> or <code>SqlExpression&lt;Track&gt;</code> members. In future only POCO Data Models will be
injected so the above API's should instead be changed to create and pass in an <code>SqlExpression&lt;Track&gt;</code>
using <code>db.From&lt;T&gt;</code>, e.g:</p>
<pre><code class="language-csharp">var tracks = db.Select(db.From&lt;Track&gt;() 
    .Where(x =&gt; x.Artist == &quot;Nirvana&quot; &amp;&amp; x.Album == &quot;Nevermind&quot;));
</code></pre>
<h2 id="pocodynamo"><a href="https://github.com/ServiceStack/PocoDynamo">PocoDynamo</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#pocodynamo'" aria-label="Permalink"> </a></h2>
<p>Support for DynamoDB's <a href="http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_UpdateItem.html">UpdateItem</a>
to modify an existing Item Attribute Value is now available.</p>
<p>The simplest usage is to pass in a partially populated POCO where any Hash or Range Keys are added to the
Key Condition and any non-default values are replaced. E.g the query below updates the Customer's Age to <strong>42</strong>:</p>
<pre><code class="language-csharp">db.UpdateItemNonDefaults(new Customer { Id = customer.Id, Age = 42 });
</code></pre>
<p>DynamoDB's UpdateItem supports 3 different operation types:</p>
<ul>
<li><code>PUT</code> to replace an Attribute Value</li>
<li><code>ADD</code> to add to an existing Attribute Value</li>
<li><code>DELETE</code> to delete the specified Attributes</li>
</ul>
<p>Examples of all 3 are contained in the examples below which changes the Customer's <code>Nationality</code> to
<strong>Australian</strong>, reduces their <code>Age</code> by <strong>1</strong> and deletes their <code>Name</code> and <code>Orders</code>:</p>
<pre><code class="language-csharp">db.UpdateItem(customer.Id, 
    put: () =&gt; new Customer {
        Nationality = &quot;Australian&quot;
    },
    add: () =&gt; new Customer {
        Age = -1
    },
    delete: x =&gt; new { x.Name, x.Orders });
</code></pre>
<p>The same Typed API above is also available in the more flexible and untyped form below:</p>
<pre><code class="language-csharp">db.UpdateItem&lt;Customer&gt;(new DynamoUpdateItem
{
    Hash = customer.Id,
    Put = new Dictionary&lt;string, object&gt;
    {
        { &quot;Nationality&quot;, &quot;Australian&quot; },
    },
    Add = new Dictionary&lt;string, object&gt;
    {
        { &quot;Age&quot;, -1 }
    },
    Delete = new[] { &quot;Name&quot;, &quot;Orders&quot; },
});
</code></pre>
<h2 id="servicestack.redis"><a href="https://github.com/ServiceStack/ServiceStack.Redis">ServiceStack.Redis</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack.redis'" aria-label="Permalink"> </a></h2>
<p>More robust Exception handling of Sentinel Errors were added and now reconnections that occur in the
middle of processing a command are gracefully retried and executed.</p>
<p>New API's were added to remove multiple values from a Sorted Set:</p>
<pre><code class="language-csharp">interface IRedisClient {
    long RemoveItemsFromSortedSet(string setId, List&lt;string&gt; values);
} 

interface IRedisNativeClient {
    long ZRem(string setId, byte[][] values);
}
</code></pre>
<h2 id="servicestackidea"><a href="https://github.com/ServiceStack/ServiceStack.Java">ServiceStackIDEA</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestackidea'" aria-label="Permalink"> </a></h2>
<p>The ServiceStack IDEA Android Studio plugin was updated to support
<a href="http://android-developers.blogspot.com/2016/04/android-studio-2-0.html">Android Studio 2.0</a>.</p>
<h2 id="community">Community<a class="header-anchor" href="javascript:;" onclick="location.hash='#community'" aria-label="Permalink"> </a></h2>
<h3 id="servicestack.eventstore"><a href="https://github.com/MacLeanElectrical/servicestack-eventstore">ServiceStack.EventStore</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack.eventstore'" aria-label="Permalink"> </a></h3>
<p>The ServiceStack community has been very active in the last month with the developers over at
<a href="http://www.maclean-electrical.com/">MacLean Electrical</a> in addition to the Consul Discovery Plugin
having also released their
<a href="https://github.com/MacLeanElectrical/servicestack-eventstore">CQRS and event-sourced system plugin for ServiceStack</a>
using <a href="https://geteventstore.com/">GetEventStore</a>:</p>
<pre><code>PM&gt; Install-Package ServiceStack.EventStore
</code></pre>
<h4 id="servicestack.simplecloudcontrol-1"><a href="https://github.com/rsafier/ServiceStack.SimpleCloudControl">ServiceStack.SimpleCloudControl</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestack.simplecloudcontrol-1'" aria-label="Permalink"> </a></h4>
<p>Building on capabilities from his <a href="https://github.com/rsafier/ServiceStack.Discovery.Redis">ServiceStack.Discovery.Redis</a>
Service <a href="https://github.com/rsafier">Richard Safier</a> is developing a collection of useful plugins which add
enhanced introspection of the state, status and health of a cluster of ServiceStack instances.
The available plugins in development include:</p>
<ul>
<li>SimpleCloudControlFeature</li>
<li>SimpleMQControlFeature</li>
<li>SimpleHybridCacheFeature</li>
<li>SimpleCloudConfig</li>
<li>SimpleCloudControlAdminFeature</li>
</ul>
<h3 id="servicestackwithquartz"><a href="https://github.com/CodeRevver/ServiceStackWithQuartz">ServiceStackWithQuartz</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#servicestackwithquartz'" aria-label="Permalink"> </a></h3>
<p><a href="https://github.com/CodeRevver">Michael Clark</a> has created a Plugin that allows an easy registration of
all Quartz Jobs within ServiceStack's Funq container. This allows for dependency injection within any
Quartz Job. Get Started with:</p>
<pre><code>PM&gt; Install-Package ServiceStack.Funq.Quartz
</code></pre>
<p>Also checkout Michael's <a href="http://michaelclark.tech/2016/04/16/creating-a-servicestack-windows-service-that-uses-quartz/">Introductory Post</a>
for more details.</p>
<h3 id="caching-anyone"><a href="http://www.mindkin.co.nz/blog/2016/1/5/caching-anyone">Caching Anyone?</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#caching-anyone'" aria-label="Permalink"> </a></h3>
<p>If you missed the link to <a href="https://twitter.com/JezzSantos">Jezz Santos</a> comprehensive post on
<a href="http://www.mindkin.co.nz/blog/2016/1/5/caching-anyone">HTTP Caching within ServiceStack</a> from earlier, it's
one to checkout when you can set aside time for a long, good read.</p>
<h2 id="other-features">Other Features<a class="header-anchor" href="javascript:;" onclick="location.hash='#other-features'" aria-label="Permalink"> </a></h2>
<ul>
<li>Changed <code>ServiceStack.Interfaces</code> to <strong>Profile 328</strong> adding support <strong>Windows Phone 8.1</strong></li>
<li>New <code>IHasStatusDescription</code> can be added on <strong>Exceptions</strong> to customize their <code>StatusDescription</code></li>
<li>New <code>IHasErrorCode</code> can be used to customize the <code>ErrorCode</code> used, instead of its Exception Type</li>
<li>New <code>AppHost.OnLogError</code> can be used to override and suppress service error logging</li>
</ul>
<h1 id="v4.0.54-release-notes"><a href="/releases/v4_0_54">v4.0.54 Release Notes</a><a class="header-anchor" href="javascript:;" onclick="location.hash='#v4.0.54-release-notes'" aria-label="Permalink"> </a></h1>
</div>

                <div class="not-prose"></div>
                
                    <div class="not-prose py-8">
                        <a class="text-slate-500 font-semibold hover:text-indigo-600 flex items-center" href="https://github.com/ServiceStack/docs.servicestack.net/blob/main/MyApp/_pages/releases/v4_0_56.md" target="_blank" rel="noopener noreferrer">
                            Edit this page on GitHub<svg class="ml-1 inline-block w-4 h-4" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" data-v-1ed99556=""><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg>
                        </a>
                    </div>

                    <div class="not-prose my-20">
                                <nav class="flex items-center justify-between border-t border-gray-200 dark:border-gray-700 px-4 sm:px-0">
                                    <div class="-mt-px flex w-0 flex-1">
                                            <a href="/releases/v4_0_58" class="inline-flex items-center border-t-2 border-transparent pt-4 pr-1 text-sm font-medium text-gray-500 hover:border-gray-300 dark:hover:border-gray-600 hover:text-gray-700 dark:hover:text-gray-200">
                                                <!-- Heroicon name: mini/arrow-long-left -->
                                                <svg class="mr-3 h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                    <path fill-rule="evenodd" d="M18 10a.75.75 0 01-.75.75H4.66l2.1 1.95a.75.75 0 11-1.02 1.1l-3.5-3.25a.75.75 0 010-1.1l3.5-3.25a.75.75 0 111.02 1.1l-2.1 1.95h12.59A.75.75 0 0118 10z" clip-rule="evenodd"></path>
                                                </svg>
                                                ServiceStack v4.0.58
                                            </a>
                                    </div>
                                    <div class="hidden md:-mt-px md:flex"></div>
                                    <div class="-mt-px flex w-0 flex-1 justify-end">
                                            <a href="/releases/v4_0_54" class="inline-flex items-center border-t-2 border-transparent pt-4 pl-1 text-sm font-medium text-gray-500 hover:border-gray-300 dark:hover:border-gray-600 hover:text-gray-700 dark:hover:text-gray-200">
                                                ServiceStack v4.0.54
                                                <!-- Heroicon name: mini/arrow-long-right -->
                                                <svg class="ml-3 h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                    <path fill-rule="evenodd" d="M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z" clip-rule="evenodd"></path>
                                                </svg>
                                            </a>
                                    </div>
                                </nav>
                    </div>
            </div>
                
                <div class="docmap hidden 2xl:block flex-none w-64 pl-8 mr-8">
                    <div class="fixed bg-white dark:bg-black flex flex-col overflow-y-auto pt-10 px-8 pb-6" style="height:calc(100vh - 50px);">
                        <div>
                            <h5 class="text-slate-900 font-semibold mb-4 text-sm leading-6 dark:text-slate-100">
                                On This Page
                            </h5>
                            <ul class="text-slate-700 text-sm leading-6">
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#introducing-autoquery-data'" data-id="introducing-autoquery-data" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            Introducing AutoQuery Data!
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="learn-once-query-everywhere" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#learn-once-query-everywhere'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Learn Once, Query Everywhere :)
                                                        </span>
                                                    </li>
                                                    <li data-id="use-autoquery-viewer" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#use-autoquery-viewer'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Use AutoQuery Viewer
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#autoquery-data-sources'" data-id="autoquery-data-sources" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            AutoQuery Data Sources
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="memory-data-source" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#memory-data-source'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Memory Data Source
                                                        </span>
                                                    </li>
                                                    <li data-id="cacheable-data-sources" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#cacheable-data-sources'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Cacheable Data Sources
                                                        </span>
                                                    </li>
                                                    <li data-id="service-data-source" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#service-data-source'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Service Data Source
                                                        </span>
                                                    </li>
                                                    <li data-id="custom-autoquery-data-implementation" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#custom-autoquery-data-implementation'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Custom AutoQuery Data Implementation
                                                        </span>
                                                    </li>
                                                    <li data-id="optimal-dynamodb-queries" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#optimal-dynamodb-queries'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Optimal DynamoDB Queries
                                                        </span>
                                                    </li>
                                                    <li data-id="simple-autoquery-data-example" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#simple-autoquery-data-example'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Simple AutoQuery Data Example
                                                        </span>
                                                    </li>
                                                    <li data-id="typed-autoquery-dynamodb-queries" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#typed-autoquery-dynamodb-queries'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Typed AutoQuery DynamoDB Queries
                                                        </span>
                                                    </li>
                                                    <li data-id="autoquery-dynamodb-global-index-queries" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#autoquery-dynamodb-global-index-queries'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            AutoQuery DynamoDB Global Index Queries
                                                        </span>
                                                    </li>
                                                    <li data-id="custom-poco-result-mappings" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#custom-poco-result-mappings'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Custom POCO Result Mappings
                                                        </span>
                                                    </li>
                                                    <li data-id="caching-autoquery-services" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#caching-autoquery-services'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Caching AutoQuery Services
                                                        </span>
                                                    </li>
                                                    <li data-id="more-info" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#more-info'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            More Info
                                                        </span>
                                                    </li>
                                                    <li data-id="autoquery-breaking-changes" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#autoquery-breaking-changes'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            AutoQuery Breaking Changes
                                                        </span>
                                                    </li>
                                                    <li data-id="other-autoquery-features" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#other-autoquery-features'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Other AutoQuery Features
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#http-caching'" data-id="http-caching" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            HTTP Caching
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="server-caching" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#server-caching'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Server Caching
                                                        </span>
                                                    </li>
                                                    <li data-id="http-client-caching" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#http-client-caching'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            HTTP Client Caching
                                                        </span>
                                                    </li>
                                                    <li data-id="short-circuiting-http-cache-validation" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#short-circuiting-http-cache-validation'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Short-circuiting HTTP Cache Validation
                                                        </span>
                                                    </li>
                                                    <li data-id="new-cacheresponse-attribute" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#new-cacheresponse-attribute'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            New 
                                                        </span>
                                                    </li>
                                                    <li data-id="advanced-cacheinfo-customization" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#advanced-cacheinfo-customization'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Advanced CacheInfo Customization
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#cache-aware-service-clients'" data-id="cache-aware-service-clients" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            Cache-Aware Service Clients
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="improved-performance-and-reliability" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#improved-performance-and-reliability'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Improved Performance and Reliability
                                                        </span>
                                                    </li>
                                                    <li data-id="community-resources-on-caching" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#community-resources-on-caching'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Community Resources on Caching
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#service-gateway'" data-id="service-gateway" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            Service Gateway
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="service-integration-apis" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#service-integration-apis'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Service Integration API&#x27;s
                                                        </span>
                                                    </li>
                                                    <li data-id="substitutable-service-gateways" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#substitutable-service-gateways'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Substitutable Service Gateways
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#service-discovery-gateways'" data-id="service-discovery-gateways" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            Service Discovery Gateways
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="designing-for-microservices" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#designing-for-microservices'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Designing for Microservices
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#csv-deserialization-support'" data-id="csv-deserialization-support" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            CSV Deserialization Support
                                        </span>
                                            <ul class="ml-4">
                                                    <li data-id="super-csv-format" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#super-csv-format'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Super CSV Format
                                                        </span>
                                                    </li>
                                                    <li data-id="all-services-now-accept-csv-content-types" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#all-services-now-accept-csv-content-types'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            All Services now accept CSV Content-Types
                                                        </span>
                                                    </li>
                                                    <li data-id="ideal-for-auto-batched-requests" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#ideal-for-auto-batched-requests'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Ideal for Auto Batched Requests
                                                        </span>
                                                    </li>
                                                    <li data-id="csv-request-logger" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#csv-request-logger'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            CSV Request Logger
                                                        </span>
                                                    </li>
                                                    <li data-id="updating-existing-values" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#updating-existing-values'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Updating existing values
                                                        </span>
                                                    </li>
                                                    <li data-id="belongsto-attribute" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#belongsto-attribute'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            BelongsTo Attribute
                                                        </span>
                                                    </li>
                                                    <li data-id="deprecating-legacy-ormlite-apis" class="text-gray-500 hover:text-gray-900">
                                                        <span v-hash="'#deprecating-legacy-ormlite-apis'" class="cursor-pointer flex text-sm transform transition-colors duration-200 py-2">
                                                            <svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>
                                                            Deprecating Legacy OrmLite API&#x27;s
                                                        </span>
                                                    </li>
                                            </ul>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#community'" data-id="community" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            Community
                                        </span>
                                    </li>
                                    <li class="group text-gray-800 hover:text-gray-900">
                                        <span v-hash="'#other-features'" data-id="other-features" class="cursor-pointer font-medium block text-sm transform transition-colors duration-200 py-2">
                                            Other Features
                                        </span>
                                    </li>
                            </ul>
                        </div>
                    </div>
                </div>
                
        </div>
    </div>    
</div>

<script>
//doc instructions
if (document.querySelector('.hide-title')) {
    const el = document.querySelector('#doc section h1') 
    if (el) el.style.display='none'
}
</script>

<script type="module">
import { ref } from "vue"
import { mount } from "app.mjs"


    const App = {
        setup() {
            function nav(url) {
                window.open(url)
            }
            return { nav }
        }
    }
    
const Sidebar = {
    setup() {
        const open = ref(true)
        return { open }
    }
}

mount('#doc', App)
mount('#sidebar', Sidebar)
</script>

<script src="/lib/js/highlight.js"></script>
<script>hljs.highlightAll()</script>
<script src="/lib/js/lite-yt-embed.js"></script>
<script src="/mjs/docs.mjs" type="module"></script>


    </main>
</div>

<script type="module">
import { init } from "app.mjs"
init()
</script>





</body>
</html>