<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
</script>
<style>
    .mermaid-diagram {
        margin-top: 1rem;
        margin-bottom: 1rem;
        padding: 1rem;
        background-color: #f3f4f6;
        border-radius: 0.5rem;
        overflow-x: auto;
    }
    .mermaid-diagram pre.mermaid {
        font-size: 0.875rem;
        background-color: #f3f4f6 !important;
    }
    /* Ensure text color remains visible in both light and dark modes */
    .mermaid-diagram pre.mermaid,
    .mermaid-diagram pre.mermaid * {
        color: #333 !important;
    }
    /* Specifically target SVG text elements */
    .mermaid-diagram pre.mermaid svg text {
        fill: #333 !important;
    }
    /* Ensure edge labels remain visible */
    .mermaid-diagram pre.mermaid .edgeLabel {
        background-color: #f3f4f6;
        color: #333;
    }
    /* Override any Tailwind dark mode styles */
    @@media (prefers-color-scheme: dark) {
    .mermaid-diagram pre.mermaid,
    .mermaid-diagram pre.mermaid *,
    .mermaid-diagram pre.mermaid svg text,
    .mermaid-diagram pre.mermaid .edgeLabel {
        color: #333 !important;
    }
    }
</style>