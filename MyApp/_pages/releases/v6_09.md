---
title: ServiceStack v6.9
---

<div class="mb-20">
    <div class="flex mx-auto justify-center items-center">
        <svg class="w-72 h-72" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path fill="#e44f26" d="M5.902 27.201L3.655 2h24.69l-2.25 25.197L15.985 30L5.902 27.201z"/><path fill="#f1662a" d="m16 27.858l8.17-2.265l1.922-21.532H16v23.797z"/><path fill="#ebebeb" d="M16 13.407h-4.09l-.282-3.165H16V7.151H8.25l.074.83l.759 8.517H16v-3.091zm0 8.027l-.014.004l-3.442-.929l-.22-2.465H9.221l.433 4.852l6.332 1.758l.014-.004v-3.216z"/><path fill="#fff" d="M15.989 13.407v3.091h3.806l-.358 4.009l-3.448.93v3.216l6.337-1.757l.046-.522l.726-8.137l.076-.83h-7.185zm0-6.256v3.091h7.466l.062-.694l.141-1.567l.074-.83h-7.743z"/></svg>
        <svg class="w-72 h-72" xmlns="http://www.w3.org/2000/svg" width="256" height="221" viewBox="0 0 256 221"><path fill="#41B883" d="M204.8 0H256L128 220.8L0 0h97.92L128 51.2L157.44 0h47.36Z"/><path fill="#41B883" d="m0 0l128 220.8L256 0h-51.2L128 132.48L50.56 0H0Z"/><path fill="#35495E" d="M50.56 0L128 133.12L204.8 0h-47.36L128 51.2L97.92 0H50.56Z"/></svg>        
        <svg class="w-72 h-72 py-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91a6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.985 5.985 0 0 0-3.998 2.9a6.046 6.046 0 0 0 .743 7.097a5.98 5.98 0 0 0 .51 4.911a6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206a5.99 5.99 0 0 0 3.997-2.9a6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081l4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085l4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355l-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.872zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085l-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5l2.607 1.5v2.999l-2.597 1.5l-2.607-1.5Z"/></svg>
    </div>
</div>

Our focus in this release was higher up the value chain with improvements across our existing templates, component libraries, new examples of utilizing
ServiceStack features to quickly handle real-world tasks, existing templates for rapidly develop Admin UIs, developing responsive high-performance Apps 
with Razor SSG, easily enhance existing static websites with dynamic features powered by our new self-hosting CreatorKit App and an update on our 
exciting progress on a new ServiceStack GPT plugin for creating ChatGPT agents knowledge to invoke System APIs to accomplish specified tasks.

First up, we're excited to announce the availability of:

<figure id="creatorkit" class="py-8">
    <a class="my-8 max-w-3xl mx-auto block" href="https://servicestack.net/creatorkit/">
        <img class="" src="https://servicestack.net/img/pages/creatorkit/creatorkit-brand.svg" alt=""></a>
</figure>

[CreatorKit](https://servicestack.net/creatorkit/) is a simple, customizable, self-hostable alternative solution to using Mailchimp for managing 
an organization's mailing lists, accepting newsletter subscriptions, defining customizable email layouts and templates 
and sending rich HTML emails to your Customers and subscribers using your preferred SMTP provider.

<div class="my-8">
    <lite-youtube class="w-full mx-4 my-4" width="560" height="315" videoid="_qDVtfcHf14" style="background-image: url('https://img.youtube.com/vi/_qDVtfcHf14/maxresdefault.jpg')"></lite-youtube>
</div>

It also provides a private alternative to using Disqus to enhance websites with a threading and commenting system
on your preferred blog posts and website pages that you want to be able to connect with your community on.

<div class="my-8">
    <lite-youtube class="w-full mx-4 my-4" width="560" height="315" videoid="lgpl-VjxtdU" style="background-image: url('https://img.youtube.com/vi/lgpl-VjxtdU/maxresdefault.jpg')"></lite-youtube>
</div>

<div class="not-prose bg-white py-12">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
        <div class="mx-auto max-w-2xl sm:text-center">
            <h2 class="text-base font-semibold leading-7 text-indigo-600">Everything you need</h2>
            <p class="mt-2 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
                Grow your on-site community
            </p>
            <p class="mt-6 text-lg leading-8 text-gray-600">
                CreatorKit offers all the tools you need to reach and retain users, from managing subscriber mailing lists
                to moderating a feature-rich comments system
            </p>
        </div>
    </div>
    <div class="relative overflow-hidden pt-16">
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
            <a href="https://servicestack.net/creatorkit/install">
            <img src="https://servicestack.net/img/pages/creatorkit/portal.png" alt="App screenshot" class="mb-[-12%] rounded-xl shadow-2xl ring-1 ring-gray-900/10" width="2432" height="1442"></a>
            <div class="relative" aria-hidden="true">
                <div class="absolute -inset-x-20 bottom-0 bg-gradient-to-t from-white pt-[7%]"></div>
            </div>
        </div>
    </div>
    <div class="mx-auto mt-16 max-w-7xl px-6 sm:mt-20 md:mt-24 lg:px-8">
        <dl class="mx-auto grid max-w-2xl grid-cols-1 gap-x-6 gap-y-10 text-base leading-7 text-gray-600 sm:grid-cols-2 lg:mx-0 lg:max-w-none lg:grid-cols-3 lg:gap-x-8 lg:gap-y-16">
            <div class="relative pl-9">
                <dt class="inline font-semibold text-gray-900">
                    <svg class="absolute left-1 top-1 h-5 w-5 text-indigo-600" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path fill="currentColor" d="M9 2a4 4 0 1 0 0 8a4 4 0 0 0 0-8Zm-4.991 9A2.001 2.001 0 0 0 2 13c0 1.691.833 2.966 2.135 3.797C5.417 17.614 7.145 18 9 18v-5a2 2 0 0 1 1.996-2H4.009Zm10.5 4.927l-4.496-2.623A1.5 1.5 0 0 1 11.5 12h6a1.5 1.5 0 0 1 1.5 1.5v.009l-4.49 2.418Zm.228 1.013L19 14.645V17.5a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5v-3.046l4.248 2.478a.5.5 0 0 0 .49.008Z"/></svg>
                    Mailing List Subscriptions.
                </dt>
                <dd class="inline">Collect and manage subscribers for your Newsletters and other Contact Mailing Lists.</dd>
            </div>
            <div class="relative pl-9">
                <dt class="inline font-semibold text-gray-900">
                    <svg class="absolute left-1 top-1 h-5 w-5 text-indigo-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1zm0 8a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1zm10-1h6m-6 4h6m-6 4h6"/></svg>
                    Email Templates.
                </dt>
                <dd class="inline">
                    Create email templates utilizing a powerful <a class="text-indigo-600 hover:underline" href="https://sharpscript.net" target="_blank">#Script</a>
                    .NET templating system with layouts, partials &amp; live previews.
                </dd>
            </div>
            <div class="relative pl-9">
                <dt class="inline font-semibold text-gray-900">
                    <svg class="absolute left-1 top-1 h-5 w-5 text-indigo-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M10 20q-.425 0-.713-.288T9 19v-5q-2.075 0-3.538-1.463T4 9q0-2.075 1.463-3.538T9 4h8q.425 0 .713.288T18 5q0 .425-.288.713T17 6h-1v13q0 .425-.288.713T15 20q-.425 0-.713-.288T14 19V6h-3v13q0 .425-.288.713T10 20Z"></path></svg>
                    Rich Emails.
                </dt>
                <dd class="inline">
                    Send plain-text or rich HTML emails with built-in Markdown editor, save email drafts and preview generated emails.
                </dd>
            </div>
            <div class="relative pl-9">
                <dt class="inline font-semibold text-gray-900">
                    <svg class="absolute left-1 top-1 h-5 w-5 text-indigo-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1-5-5L7 12zm10 0l-5-5l1.5-1.5a3.536 3.536 0 1 1 5 5L17 12zM3 21l2.5-2.5m13-13L21 3m-11 8l-2 2m5 1l-2 2"/></svg>
                    Simple Integrations.
                </dt>
                <dd class="inline">
                    Effortlessly integrate beautiful Tailwind Components into your existing site with simple, customizable progressive markup
                </dd>
            </div>
            <div class="relative pl-9">
                <dt class="inline font-semibold text-gray-900">
                    <svg class="absolute left-1 top-1 h-5 w-5 text-indigo-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M8.27 3L3 8.27v7.46L8.27 21h7.46C17.5 19.24 21 15.73 21 15.73V8.27L15.73 3M9.1 5h5.8L19 9.1v5.8L14.9 19H9.1L5 14.9V9.1m6 5.9h2v2h-2v-2m0-8h2v6h-2V7"/></svg>
                    Content Moderation.
                </dt>
                <dd class="inline">
                    Moderation tools for deleting or flagging unwanted comments, action reported comments by temporarily or
                    permanent banning repeat offenders
                </dd>
            </div>
            <div class="relative pl-9">
                <dt class="inline font-semibold text-gray-900">
                    <svg class="absolute left-1 top-1 h-5 w-5 text-indigo-600" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path fill="currentColor" d="M16 2h4v15a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V0h16v2zm0 2v13a1 1 0 0 0 1 1a1 1 0 0 0 1-1V4h-2zM2 2v15a1 1 0 0 0 1 1h11.17a2.98 2.98 0 0 1-.17-1V2H2zm2 8h8v2H4v-2zm0 4h8v2H4v-2zM4 4h8v4H4V4z"></path></svg>
                    Newsletter generation.
                </dt>
                <dd class="inline">
                    Save time with automatic Newsletter generation from including new content added to your static
                    <a class="text-indigo-600 hover:underline" href="https://razor-ssg.web-templates.io/posts/razor-ssg" target="_blank">Razor SSG</a> websites.
                </dd>
            </div>
        </dl>
    </div>
    <div class="px-6 py-24 sm:px-6 sm:py-32 lg:px-8">
        <div class="mx-auto max-w-2xl text-center">
            <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
                Start capturing your audience's engagement.
            </h2>
            <p class="mx-auto mt-6 max-w-xl text-lg leading-8 text-gray-600">
                Download, customize CreatorKit to your brand and start
                building an engaged community around your website content today!
            </p>
            <div class="mt-10 flex items-center justify-center gap-x-6">
                <a href="https://servicestack.net/creatorkit/install" class="rounded-md bg-indigo-600 px-3.5 py-2.5 text-sm font-semibold !text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Get started</a>
            </div>
        </div>
    </div>
</div>


### Enhance static websites

We're developing CreatorKit as an ideal companion for JAMStack or statically generated branded websites like
[Razor SSG](https://razor-ssg.web-templates.io/posts/razor-ssg)
enabling you to seamlessly integrate features such as newsletter subscriptions, email management, comments, voting, 
and moderation into your existing websites without the complexity of a custom solution. 

It's ideally suited for Websites who want to keep all Mailing Lists Contacts and Authenticated User Comments in a 
different, private self-hosted site, isolated from your existing Customer Accounts and internal Systems.

With CreatorKit, you can enjoy the convenience of managing your blog's comments, votes, and subscriptions directly
from your own hosted [CreatorKit Portal](https://creatorkit.netcore.io/portal/) without needing to rely on complex content 
management systems to manage your blog's interactions with your readers.

Additionally, CreatorKit makes it easy to send emails and templates to different mailing lists, making it the perfect
tool for managing your email campaigns. Whether you're a blogger, marketer, or entrepreneur, CreatorKit is a great
solution for maximizing your blog's functionality and engagement.

### CreatorKit Features

The CreatorKit Portal offers a complete management UI to manage mailing lists, email newsletter and marketing campaigns,
thread management and moderation workflow.

### Email Management

<figure class="mt-4">
    <a class="my-8 max-w-4xl mx-auto block" href="https://servicestack.net/creatorkit/portal-messages">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/pages/creatorkit/portal-messages.png" alt=""></a>
</figure>

### Optimized Email UI's with Live Previews

<figure class="mt-4">
    <a class="my-8 max-w-4xl mx-auto block" href="https://servicestack.net/creatorkit/portal-messages#email-ui">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/pages/creatorkit/portal-messages-simple.png" alt=""></a>
</figure>

### Custom HTML Templates

<figure class="mt-4">
    <a class="my-8 max-w-4xl mx-auto block" href="https://servicestack.net/creatorkit/portal-messages#sending-custom-html-emails">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/pages/creatorkit/portal-messages-custom.png" alt=""></a>
</figure>

### HTML Email Templates

<figure class="mt-4">
    <a class="my-8 max-w-4xl mx-auto block" href="https://servicestack.net/creatorkit/portal-messages#sending-html-markdown-emails">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/pages/creatorkit/portal-messages-markdown.png" alt=""></a>
</figure>

### Mailing List Email Runs

<figure class="mt-4">
    <a class="my-8 max-w-4xl mx-auto block" href="https://servicestack.net/creatorkit/portal-mailruns">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/pages/creatorkit/portal-mailrun-custom.png" alt=""></a>
</figure>

### Newsletter Generation

<figure class="mt-4">
    <a class="my-8 max-w-4xl mx-auto block" href="https://servicestack.net/creatorkit/portal-mailruns#generating-newsletters">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/pages/creatorkit/portal-mailrun-newsletter.png" alt=""></a>
</figure>

### Comment Moderation

<figure class="mt-4">
    <a class="my-8 max-w-4xl mx-auto block" href="https://servicestack.net/creatorkit/portal-posts">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/pages/creatorkit/portal-report.png" alt=""></a>
</figure>

### CreatorKit Docs

Checkout CreatorKit docs for more information about CreatorKit features and whether its features make sense for your existing websites:

<div class="my-8 flex justify-center">
    <a class="text-3xl text-indigo-600 hover:text-indigo-800" href="https://servicestack.net/creatorkit/">https://servicestack.net/creatorkit/</a>
</div>

To get started follow the [installation instructions](https://servicestack.net/creatorkit/install) to download and configure it with your 
organization's website settings.

### Future

As we're using CreatorKit ourselves to power all dynamic Mailing List and Comment System features on 
[https://servicestack.net](servicestack.net), we'll be continuing to develop it with useful features to
empower static websites with more generic email templates and potential to expand it with commerce features, inc.
Stripe integration, products & subscriptions, ordering system, invoicing, quotes, PDF generation, etc.

As a design goal [CreatorKit's components](https://servicestack.net/creatorkit/components) will be easily embeddable into any external website,
where it will be integrated into the [Razor SSG](https://servicestack.net/posts/razor-ssg) project template to serve as a working demonstration 
and reference implementation. As such it's a great option if you're looking to create a Fast, FREE, CDN hostable,
[simple, modern](https://servicestack.net/posts/javascript) statically generated website created with Razor & Markdown
like [ServiceStack/servicestack.net](https://github.com/ServiceStack/servicestack.net). 

### Feedback welcome

If you'd like to prioritize features you'd like to see first or propose new, generically useful features for
static websites, please let us know in [servicestack.net/ideas](https://servicestack.net/ideas).

## Markdown Editor Input

The CreatorKit Portal also makes use of several new Vue Components we're excited to share, starting with the new `<MarkdownInput>` component for
providing a rich Markdown Textarea Input to capture rich formatted text in Markdown with icons for markdown's popular formatting options
and convenience keyboard bindings for a pleasant intuitive authoring experience. 

It behaves like all other Input components which you can embed in custom UIs as a standard Vue Component:

```ts
<MarkdownInput id="body" v-model="request.body" />
```

#### MarkdownInput Properties

Which offers a number of properties to customize its appearance and behavior:

```ts
defineProps<{
    status?: ResponseStatus|null
    id: string
    inputClass?: string
    label?: string
    labelClass?: string
    help?: string
    placeholder?: string
    modelValue?: string

    counter?: boolean
    rows?: number
    errorMessages?: string[]
    lang?: string
    autoFocus?: boolean
    disabled?: boolean
    helpUrl?: string
    hide?: string|MarkdownInputOptions|MarkdownInputOptions[]
}>()

type MarkdownInputOptions = "bold" | "italics" | "link" | "image" | "blockquote" | "code" 
  | "heading" | "orderedList" | "unorderedList" | "strikethrough" | "undo" | "redo" | "help"
```

Just like other Input components it can also be annotated on Request DTO string properties to change which Input component it should use in 
[AutoForm components](https://servicestack.net/vue/gallery/autoform), where it can be further customized with tailwind classes on its
containing Field and Textarea Input elements, e.g:

```csharp
public class MarkdownEmail
{
    [Input(Type="MarkdownInput", Label=""), FieldCss(Field="col-span-12", Input="h-56")]
    public string? Body { get; set; }
}
```

Which is how all CreatorKit's Markdown Email Forms used to generate their UIs, e.g:

<figure class="mt-4">
    <a class="my-8 max-w-4xl mx-auto block" href="https://servicestack.net/creatorkit/portal-messages#sending-html-markdown-emails">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/vue/markdown-email-form.png" alt=""></a>
</figure>

Which was generated using a customized `<AutoCreateForm>` component that's been enhanced to include an `<EmailPreview>` component to provide 
live HTML Email previews as-you-type:

```html
<AutoCreateForm v-if="selectedOp" :type="selectedOp?.name" @save="save" @done="done">
    <template #footer="{ model }">
        <EmailPreview :type="selectedOp?.name" :modelValue="model" />
    </template>
</AutoCreateForm>
```

Which was generated from its declarative Request DTO definition:


```csharp
[Description("Markdown Email")]
public class MarkdownEmail : CreateEmailBase, IPost, IReturn<MailMessage>
{
    [ValidateNotEmpty]
    [FieldCss(Field = "col-span-12")]
    public string Subject { get; set; }

    [ValidateNotEmpty]
    [Input(Type="MarkdownEmailInput", Label=""), FieldCss(Field="col-span-12", Input="h-56")]
    public string? Body { get; set; }
    
    public bool? Draft { get; set; }
}

public abstract class CreateEmailBase
{
    [ValidateNotEmpty]
    [Input(Type="EmailInput")]
    public string Email { get; set; }

    [ValidateNotEmpty]
    [FieldCss(Field = "col-span-6 lg:col-span-3")]
    public string FirstName { get; set; }
    
    [ValidateNotEmpty]
    [FieldCss(Field = "col-span-6 lg:col-span-3")]
    public string LastName { get; set; }
}
```

The keen eyes among you may have noticed that the `Body` property references a `MarkdownEmailInput` component that's different from `MarkdownInput` and a 
never seen before `EmailInput` component, which brings us to our next feature...

## Custom Declarative Input Components

Where AutoForm components bound to your declarative Request DTOs are no longer limited to the Input Components in the [Vue Component Library](https://servicestack.net/vue/) as they can now reference your own Input components instead!

The AutoForm components and rapid development workflow enabled by [Locode's Auto UIs](https://servicestack.net/locode/) can put us in a tough spot at times where you want to deliver the
most optimal UX but you don't want to leave the high productivity of Auto UI and Auto Form components to go back to creating manual forms. 

Which we found ourselves in when developing CreatorKit where we want users to be able to quickly develop custom Email Templates and UIs, but not have to 
put in the effort to get the great UX we're used to when creating emails. For example we could've used the default [LookupInput](https://servicestack.net/vue/gallery/autoform#edit-form) 
that's inferred and rendered for [Reference Fields](https://servicestack.net/vue/gallery/autoquerygrid#reference-fields), but that would require opening a modal form to search through 
existing contacts every time we wanted to send an email.

But gmail have already showed us it's much more user-friendly and quicker to provide a non-modal autocomplete dropdown that automatically searches 
our contact list as we type, which is what we ended up doing, without giving up the productivity of our validation-bound API Forms, by registering our custom `EmailInput` component with the Vue Component Library in [app.mjs](https://github.com/NetCoreApps/CreatorKit/blob/main/CreatorKit/wwwroot/mjs/app.mjs):

```ts
import ServiceStackVue, { useAuth } from "@servicestack/vue"
//...

ServiceStackVue.component('EmailInput', EmailInput)
ServiceStackVue.component('MarkdownEmailInput', MarkdownEmailInput)
```

### EmailInput

That registers the custom `EmailInput` and `MarkdownEmailInput` components defined in [Inputs.mjs](https://github.com/NetCoreApps/CreatorKit/blob/main/CreatorKit/wwwroot/mjs/components/Inputs.mjs)

Where we can see that `<EmailInput>` is a customized `<TextInput>` with an added `SelectEmail` component that's used to display the Autocomplete
email dropdown:

```ts
export const EmailInput = {
    components: { SelectEmail },
    template: `<TextInput v-bind="$attrs" @update:modelValue="$emit('update:modelValue',$event)">
      <template #footer="{ id, inputElement, modelValue }">
        <SelectEmail v-if="inputElement" :inputElement="inputElement" :modelValue="modelValue" />
      </template>
    </TextInput>`,
    emits:['update:modelValue'],
}
```

### MarkdownEmailInput 

Whilst `<MarkdownEmailInput>` is a customized `<MarkdownInput>` that's been extended with an additional 
[Insert Template Variables button](https://servicestack.net/creatorkit/portal-messages#template-variables) that enables quick access for users to discover and insert user-defined [Template Variables](https://servicestack.net/creatorkit/customize#template-variables):

```ts
export const MarkdownEmailInput = {
    components: { InsertVariableButton },
    template: `<MarkdownInput v-bind="$attrs" @update:modelValue="$emit('update:modelValue',$event)">
      <template #toolbarbuttons="{ instance, textarea }">
        <InsertVariableButton :instance="instance" :textarea="textarea" />
      </template>
    </MarkdownInput>`,
    emits:['update:modelValue'],
}
```

Where they're effortlessly used together to deliver a great, optimal UX in all Markdown Email Forms:

<figure class="mt-4">
    <a class="my-8 max-w-4xl mx-auto block" href="https://servicestack.net/creatorkit/portal-messages#sending-html-markdown-emails">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/markdown-email-custom-inputs.png" alt=""></a>
</figure>

### AutoForm Components Everywhere

This feature has given AutoForm components all the flexibility needed to be able to deliver a great, optimal experience without sacrificing the high-productivity of ServiceStack's validation-bound Auto UIs and API Form components, as a result CreatorKit was able to continue to
use AutoForm components for all 17 of its API Forms.

## Build Admin UIs, Fast

![](https://images.unsplash.com/photo-1667906962043-a3e82dea23a3?crop=entropy&fit=crop&h=1000&w=2000)

Another high-productivity Vue Component available in this release is `<SidebarLayout>` which has been invaluable in being able to rapidly
create custom Admin UIs.

As we use [AutoQuery](https://servicestack.net/autoquery) to develop most new APIs we often lean on Locode's instant Auto Admin UI at the start of every project to manage backend RDBMS tables freeing, us to focus most of our efforts on the user-facing features adding the most 
value. 

This was also the case for [CreatorKit](https://servicestack.net/creatorkit/) where its [Locode](/locode/) Admin UI:

<div class="not-prose my-8">
   <a href="https://creatorkit.netcore.io/locode/" class="max-w-4xl">
      <div class="block flex justify-center shadow hover:shadow-lg rounded overflow-hidden">
         <img src="https://servicestack.net/img/posts/admin-ui/locode-admin-ui.png">
      </div>
   </a>
</div>

Which was sufficient enough to develop CreatorKit's [embeddable Tailwind Components](https://servicestack.net/creatorkit/components), however as the Admin Portal itself makes up a significant part of the user-facing value proposition in CreatorKit, we
ultimately decided to develop a Custom UI for its Admin Portal in order to gain complete control of its UX and freedom
to create the optimized UI we want to in future.

Adopting a [Simple, Modern JavaScript](https://servicestack.net/posts/javascript) approach free of build tools complexity with the 
instant live reload of a simple static [index.html](https://github.com/NetCoreApps/CreatorKit/blob/main/CreatorKit/wwwroot/portal/index.html) yielded the most productive workflow, combined with all 
[built-in UIs having been rebuilt](/releases/v6_07#new-locode-api-explorer-admin-uis-now-in-vue-3)
in reusable Vue 3 components meant we were able to replicate most of Locode's functionality into a customizable Vue App in no time. 

<div class="not-prose bg-white pb-8">
    <div class="relative overflow-hidden pt-8">
        <div class="mx-auto max-w-7xl px-6">
            <a href="creatorkit/">
            <img src="https://servicestack.net/img/pages/creatorkit/portal.png" alt="App screenshot" class="mb-[-12%] rounded-xl shadow-2xl ring-1 ring-gray-900/10" width="2432" height="1442"></a>
            <div class="relative" aria-hidden="true">t
                <div class="absolute -inset-x-20 bottom-0 bg-gradient-to-t from-white pt-[7%]"></div>
            </div>
        </div>
    </div>
 </div>

### SidebarLayout Vue Component

So much so that we believe this is a great progressive option for others needing to move beyond Locode or
looking to create their own customizable Admin UI. To minimize the effort we've encapsulated Tailwind's Responsive 
[Sidebar Navigation](https://tailwindui.com/components/application-ui/navigation/sidebar-navigation) into a reusable
`<SidebarLayout>` Vue 3 component and upgraded the [vue-mjs](https://vue-mjs.web-templates.io) project template
to include both a Razor Pages [server rendered Admin UI](https://vue-mjs.web-templates.io/admin): 

<div class="not-prose my-8">
   <a href="https://vue-mjs.web-templates.io/admin" class="max-w-4xl">
      <div class="block flex justify-center shadow hover:shadow-lg rounded overflow-hidden">
         <img src="https://servicestack.net/img/posts/admin-ui/server-admin-ui.png">
      </div>
   </a>
</div>

As well as a 
[client rendered Admin UI](https://vue-mjs.web-templates.io/portal/) created from a single static
[index.html](https://github.com/NetCoreTemplates/vue-mjs/blob/main/MyApp/wwwroot/portal/index.html)

<div class="not-prose my-8">
   <a href="https://vue-mjs.web-templates.io/portal/" class="max-w-4xl">
      <div class="block flex justify-center shadow hover:shadow-lg rounded overflow-hidden">
         <img src="https://servicestack.net/img/posts/admin-ui/client-admin-ui.png">
      </div>
   </a>
</div>

We'll quickly go through how we can easily extend each layout to with new pages and AutoQueryGrid components to
manage new tables.

## Client Admin UI

The customizable UI is maintained within a single JS Object literal that defines all the sections in the 
Admin UI. Each section defines the Menu Item on the Sidebar, the Title of the Page and the Vue 3 component
body to display when selected:

```js
const sections = {
   Dashboard: {
      icon: `<svg fill="none">...</svg>`,
      component: {
         template:`
            <div>
              <dl class="mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3">
                <div v-for="stat in stats" @click="$emit('nav',stat.label)" class="...">
                  <dt class="...">Total {{humanize(stat.label)}}</dt>
                  <dd class="...">{{formatNumber(stat.total)}}</dd>
                </div>
              </dl>
            </div>`,
         setup() {
            const client = useClient()
            const stats = ref([])
            client.swr(new AdminData(), r => stats.value = r.response?.pageStats || [])
            const formatNumber = value => new Intl.NumberFormat().format(value)
            return { stats, humanize, formatNumber }
         }
      },
   },
   Bookings: {
      type: 'Booking',
      component: {
         template:`<AutoQueryGrid :type="type" 
            selected-columns="id,name,roomType,roomNumber,bookingStartDate,cost,couponId,discount"
            :header-titles="{ roomNumber:'Room No', bookingStartDate:'Start Date', couponId:'Coupon' }"
            :visible-from="{ roomNumber:'lg', cost:'md', couponId:'xl', discount:'never' }" />`,
      },
   },
   Coupons: {
      type: 'Coupon',
      component: {
         template:`<AutoQueryGrid :type="type" />`,
      },
   },
} 
```

Each section can use optional properties to customize their appearance with the properties below: 

 - `icon` - SVG Icon to use in the Sidebar Menu Item
 - `type` - Metadata **Type** to use to populate icon or reference in component 
 - `label` - The label of the menu item on the Sidebar
 - `title` - The Title of the page
 - `group` - The Sidebar group where the menu item should be displayed in
 - `component` - The page's Vue 3 component body

All properties except for `component` are optional, defaulting to the section name and default icon when not provided. 

The above example creates an Admin UI with 3 different types of pages:
 - A custom component to display the Dashboard
 - A customized responsive AutoQueryGrid to manage Bookings
 - A default AutoQueryGrid to manage Coupons

Most of the time you'll just need to use the default AutoQueryGrid to enable a CRUD UI to manage your RDBMS tables.

<div class="not-prose my-8">
   <a href="https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/wwwroot/portal/index.html" class="max-w-4xl">
      <div class="block flex justify-center shadow hover:shadow-lg rounded overflow-hidden">
         <img src="https://servicestack.net/img/posts/admin-ui/vuediffusion-admin-ui.png">
      </div>
   </a>
</div>

Which was all that was needed to render [Vue Diffusion's](https://diffusion.works) Admin UI:

```ts
const sections = {
     Dashboard: {
         icon: `<svg>...</svg>`,
         component: {
             template:`
             <div>
               <dl class="...">
                 <div v-for="stat in stats" @click="$emit('nav',stat.label)" class="...">
                   <dt class="...">Total {{humanize(stat.label)}}</dt>
                   <dd class="...">{{formatNumber(stat.total)}}</dd>
                 </div>
               </dl>
             </div>`,
             setup() {
                 const client = useClient()
                 const stats = ref([])
                 client.swr(new AdminData(), r => stats.value = r.response?.pageStats || [])
                 const formatNumber = value => new Intl.NumberFormat().format(value)
                 return { stats, humanize, formatNumber }
             }
         },
     },
     Creatives: {
         type: 'Creative',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     Artists: {
         type: 'Artist',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     Modifiers: {
         type: 'Modifier',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     CreativeArtists: {
         type: 'CreativeArtist',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     CreativeModifiers: {
         type: 'CreativeModifier',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     Artifacts: {
         type: 'Artifact',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     ArtifactLikes: {
         type: 'ArtifactLike',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     ArtifactComments: {
         type: 'ArtifactComment',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     ArtifactCommentVotes: {
         type: 'ArtifactCommentVote',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     Albums: {
         group: 'Albums',
         type: 'Album',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     AlbumArtifacts: {
         group: 'Albums',
         type: 'AlbumArtifact',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     AlbumLikes: {
         group: 'Albums',
         type: 'AlbumLike',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     ArtifactStats: {
         group: 'Analytics',
         type: 'ArtifactStat',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     SearchStats: {
         group: 'Analytics',
         type: 'SearchStat',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
     Signups: {
         group: 'Analytics',
         type: 'Signup',
         component: { template:`<AutoQueryGrid :type="type" />` },
     },
 }
```

### Server Admin UI

For developers preferring to develop Server rendered Web Apps the **vue-mjs** project template also includes a 
Multi Page App (MPA) Razor Pages & Vue App which defines the Admin Sections in the custom C# 
[Admin/_Layout.cshtml](https://github.com/NetCoreTemplates/vue-mjs/blob/main/MyApp/Pages/Admin/_Layout.cshtml)

```csharp
 (string label, string href, string icon)[] sections = 
 {
     ("Dashboard", "/admin/",         Icons.Dashboard),
     ("Bookings",  "/admin/bookings", Icons.Booking),
     ("Coupons",   "/admin/coupons",  Icons.Coupon),
 };
```

Where each section links to the different Admin UI Razor Pages: 

#### [Admin/Index.cshtml](https://github.com/NetCoreTemplates/vue-mjs/blob/main/MyApp/Pages/Admin/Index.cshtml)

Generates the Admin UI Dashboard which retrieves the data for the page from the `AdminData` API invoked
with the internal [Service Gateway](/service-gateway):

```csharp
@page
@{
    ViewData["Title"] = "Dashboard";
    var adminData = await Html.Gateway().SendAsync(new AdminData());
}

<div>
    <dl class="mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3">
        @foreach (var item in adminData.PageStats)
        {
            <a href="/admin/@item.Label.ToLower()" class="...">
                <dt class="...">Total @item.Label</dt>
                <dd class="...">@item.Total</dd>
            </a>
        }
    </dl>
</div>
```

#### [Admin/Bookings.cshtml](https://github.com/NetCoreTemplates/vue-mjs/blob/main/MyApp/Pages/Admin/Bookings.cshtml)

Defines the same responsive AutoQueryGrid to manage the Bookings RDBMS Table: 

```csharp
@page
@{
    ViewData["Title"] = "Bookings";
}

<auto-query-grid type="Booking"
    selected-columns="id,name,roomType,roomNumber,bookingEndDate,cost,couponId,discount"
    :header-titles="{ roomNumber:'Room No', bookingStartDate:'Start Date', couponId:'Coupon' }"
    :visible-from="{ roomNumber:'lg', cost:'md', couponId:'xl', discount:'never' }" ></auto-query-grid>
```

#### [Admin/Coupons.cshtml](https://github.com/NetCoreTemplates/vue-mjs/blob/main/MyApp/Pages/Admin/Coupons.cshtml)

Utilizes the default AutoQueryGrid component to manage the Coupons RDBMS Table: 

```csharp
@page
@{
    ViewData["Title"] = "Coupons";
}

<auto-query-grid type="Coupon"></auto-query-grid>
```

## Creating Custom Admin UIs

Easiest way to start creating Custom Admin UIs is to start with a new **vue-mjs** Razor Pages template containing both
client and server rendered Admin UIs:

<div class="not-prose flex justify-center"><a class="hover:no-underline" href="https://account.servicestack.net/archive/NetCoreTemplates/vue-mjs?Name=MyApp">
    <div class="bg-white dark:bg-gray-800 px-4 py-4 mr-4 mb-4 rounded-lg shadow-lg text-center items-center justify-center hover:shadow-2xl dark:border-2 dark:border-pink-600 dark:hover:border-blue-600 dark:border-2 dark:border-pink-600 dark:hover:border-blue-600"
         style="min-width: 150px;">
        <div class="text-center font-extrabold flex items-center justify-center mb-2">
            <div class="text-4xl text-blue-400 my-3">
                <svg class="w-12 h-12 text-indigo-600" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32">
                    <path fill="currentColor" d="M23.844 27.692a16.332 16.332 0 0 1-6.645 1.3q-6.364 0-10.013-3.243a11.3 11.3 0 0 1-3.649-8.9a13.716 13.716 0 0 1 3.785-9.898A12.716 12.716 0 0 1 16.9 3.008a11.676 11.676 0 0 1 8.425 3.006a9.994 9.994 0 0 1 3.142 7.533a10.187 10.187 0 0 1-2.318 7.114a7.532 7.532 0 0 1-5.817 2.547a2.613 2.613 0 0 1-1.845-.642a2.323 2.323 0 0 1-.764-1.6a4.9 4.9 0 0 1-4.148 2.243a4.6 4.6 0 0 1-3.507-1.479a5.706 5.706 0 0 1-1.384-4.063a9.913 9.913 0 0 1 2.2-6.357q2.2-2.763 4.8-2.763a5.063 5.063 0 0 1 4.256 1.716l.311-1.338h2.405l-2.081 9.08a10.716 10.716 0 0 0-.352 2.243q0 .972.744.972a4.819 4.819 0 0 0 3.877-2.047a8.93 8.93 0 0 0 1.621-5.681a7.98 7.98 0 0 0-2.675-6.175a9.887 9.887 0 0 0-6.919-2.432a10.6 10.6 0 0 0-8.158 3.467a12.066 12.066 0 0 0-3.2 8.495a9.561 9.561 0 0 0 3.06 7.573q3.06 2.7 8.586 2.7a13.757 13.757 0 0 0 5.675-1.054ZM19.466 12.25a3.977 3.977 0 0 0-3.6-1.716q-1.824 0-3.263 2.23a8.726 8.726 0 0 0-1.439 4.824q0 3.635 2.905 3.635a3.771 3.771 0 0 0 2.651-1.183a6.309 6.309 0 0 0 1.7-3.2Z"></path>
                </svg>
            </div>
        </div>
        <div class="mb-3 text-xl font-medium text-gray-700 dark:text-gray-200">Razor Pages</div>
        <div class="flex justify-center h-8">
            <div class="mr-1"><span class="px-2 h-8 rounded-lg bg-blue-50 dark:bg-blue-900 text-blue-500 dark:text-blue-400 text-sm">autoquery</span></div>
            <div class="mr-1"><span class="px-2 h-8 rounded-lg bg-blue-50 dark:bg-blue-900 text-blue-500 dark:text-blue-400 text-sm">auth</span></div>
        </div>
        <div class="archive-name px-4 pb-2 text-blue-600 dark:text-indigo-400">MyApp.zip</div>
    </div>
</a></div>

Alternatively you can download their pages to incorporate them into your existing Tailwind Projects:

**Client Admin UI**
 - [/portal/index.html](https://github.com/NetCoreTemplates/vue-mjs/blob/main/MyApp/wwwroot/portal/index.html) 

**Server Admin UI**
 - [_Layout.cshtml](https://github.com/NetCoreTemplates/vue-mjs/blob/main/MyApp/Pages/Admin/_Layout.cshtml)
 - [Index.cshtml](https://github.com/NetCoreTemplates/vue-mjs/blob/main/MyApp/Pages/Admin/Index.cshtml)
 - [Bookings.cshtml](https://github.com/NetCoreTemplates/vue-mjs/blob/main/MyApp/Pages/Admin/Bookings.cshtml)
 - [Coupons.cshtml](https://github.com/NetCoreTemplates/vue-mjs/blob/main/MyApp/Pages/Admin/Coupons.cshtml)



## Creating ChatGPT Agents to call System APIs

We've been working on different patterns of development to enable [ChatGPT](https://openai.com) to leverage an App's ServiceStack APIs to solve given tasks.
This is done through various prompting techniques which allows the Agent to reason about the context of the conversation and make decisions to reach for different 'tools' (your APIs) when trying to achieve a specific goal.

For anyone wishing to incorporate AI into their systems we've created a introductory video into the techniques of how to leverage Large Language Models (LLMs) like GPT so they can make informed decisions on which of your internal APIs they should call to accomplish a given task described in natural language:

<div class="my-8">
    <lite-youtube class="w-full mx-4 my-4" width="560" height="315" videoid="7vChIGHWPuI" style="background-image: url('https://img.youtube.com/vi/7vChIGHWPuI/maxresdefault.jpg')"></lite-youtube>
</div>

We've created a working example of this in action to help facilitate automated solutions using the reasoning capabilities of ChatGPT with their ServiceStack APIs in the new [GPTMeetingAgent](https://github.com/NetCoreApps/GPTMeetingAgent) GitHub project, that's being hosted at:

<div class="not-prose my-16 px-4 sm:px-6">
    <div class="text-center"><h3 id="new-website" class="text-4xl sm:text-5xl md:text-6xl tracking-tight font-extrabold text-gray-900">
        <a class="text-indigo-600 hover:text-indigo-600" href="https://gptmeetings.netcore.io">gptmeetings.netcore.io</a>
    </h3></div>
    <p class="mx-auto pt-5 text-xl text-gray-500">
        Use Natural Language to instruct GPT Meeting Agents to Book Meetings using internal System APIs
    </p>
    <div class="my-8">
    <a href="https://gptmeetings.netcore.io" class="max-w-4xl"><div class="block flex justify-center shadow hover:shadow-lg rounded"><img class="" src="/img/pages/release-notes/v6.9/gptmeetingagents-screenshot.png"></div></a>
    </div>
</div>

Which uses a new `GptAgentFeature` plugin to make it easy to create multiple Chat GPT Agents, define their roles and which of your ServiceStack APIs you want them to have access to, e.g:

```csharp
var gptAgentFeature = new GptAgentFeature();

gptAgentFeature.RegisterAgent(new GptAgentData {
        Name = "BookingAgent",
        PromptBase = File.ReadAllText(
            $"{Path.Combine("Prompts", "BasePromptExample.txt")}"
        ),
        Role = "An AI that makes meeting bookings between staff."
    },
    agentFactory: data => new OpenAiChatGptAgent(chatGptApiKey,data),
    includeApis: new List<string>
    {
        Tags.Teams,
        Tags.Calendar,
    });
```

The above configuration registers a new Agent with the name `BookingAgent` and a description of what it does as the `Role`.

It also is configured to include the APIs with the `Tags.Teams` and `Tags.Calendar` tags, which are the APIs that the Agent will use to achieve its goals.
Only these APIs will be exposed to the Agent, and the Agent will only be able to use them in the context of the prompt that is provided to it.

The Agent will also use the `Description` of the API to assist the Agent in understanding how and when to use the API.

```csharp
[Tag("Teams"), Description("Search for users by name")]
public class SearchUsers : IReturn<SearchUsersResponse>
{
    public string Name { get; set; }
}
```

### Autonomy of GPT Agents

In fact the GPT Agents will automatically reach out to use all the APIs made available to them to fulfil the request it was tasked with. 

<figure class="mt-4">
    <a class="my-8 max-w-4xl mx-auto flex justify-center" href="https://servicestack.net/posts/chat-gpt-agents">
        <span class="rounded shadow hover:shadow-lg p-4">
        <img src="https://servicestack.net/img/posts/chat-gpt-agents/AgentFlow.drawio.svg" alt=""></span></a>
</figure>


The video walks through an example of this by adding **"Ensure the meeting room has a projector"** to the meeting request, a statement which it largely
ignores initially since it has no way of knowing which meeting rooms have projectors, but when we add a new `ListMeetingRooms` AutoQuery API that lists 
meeting rooms along with their related resources like `Projector`, `SmartBoard` and `Whiteboard`:

```csharp
public enum MeetingRoomResource
{
    SmartBoard,
    Projector,
    Whiteboard,
    VideoConference,
    SpeakerPhone
}
```

Then make it available to the GPT Meeting Agent by tagging it with `Tags.Teams` it's configured with:

```csharp
[Tag(Tags.Teams), Description("Get a list of meeting rooms and their resources.")]
public class ListMeetingRooms : QueryDb<MeetingRoom> { }

public class MeetingRoom
{
    [AutoIncrement]
    public int Id { get; set; }
    public string Name { get; set; }
    public string Location { get; set; }
    public List<string> Resources { get; set; }
}
```

Then extend the `CreateCalendarEvent` API that books the meeting to include a reference to the meeting room by Id:

```csharp
[Tag(Tags.Calendar), Description("Create a meeting")]
[ConfirmationRequired("Are you sure you want to create a meeting?")]
public class CreateCalendarEvent : IReturn<CreateCalendarEventResponse>
{
    public string Subject { get; set; }
    public string Body { get; set; }
    [Input(Type = "datetime-local")]
    public DateTime Start { get; set; }
    [Input(Type = "datetime-local")]
    public DateTime End { get; set; }
    public string AttendeeEmail { get; set; }
    // Newly Added
    public int? MeetingRoomId { get; set; }
}
```

Now after we restart the application, our injected Service Commands now reflect both the new `ListMeetingRooms` API and the updated `CreateCalendarEvent` 
API in the Agent's prompt.

Now when we ask the Agent to "Ensure the meeting room has a projector", the added context results in the agent calling our new `ListMeetingRooms` API 
to discover which Meeting Rooms have a projector, which it then uses to populate the correct `MeetingRoomId` when booking a meeting.

This is particularly exciting as no other changes were needed for the Agent to adopt this new intuitive behavior, which is reflected in both the 
Agent and the UI which it renders using **AutoForm** components from the APIs definition.

### Human Verification Steps

We believe there's a great opportunity to be had in leveraging Chat GPT in this way to automate system tasks, populate forms and invoke APIs, but also that
you'd want to intervene at important steps to verify the information is correct before authorizing the Action. 

We've added support for this feature by using the `[ConfirmationRequired]` attribute which instructs the UI which specific API forms can only be
submitted manually, e.g:

```csharp
[ConfirmationRequired("Are you sure you want to create a meeting?")]
public class CreateCalendarEvent : IReturn<CreateCalendarEventResponse> { }
```

Which is used in GPT Meetings to add a verification step allowing users to inspect the populated API Form that the GPT Meeting Agent created before deciding
whether to create, modify or discard the Booking.

### How it works

If you're interested to learn more about how this works behind the scenes checkout our [Creating ChatGPT Agents Blog Post](https://servicestack.net/posts/chat-gpt-agents) which goes into the background of how LLM's work in more detail and how we can use chain-of-thought and prompt engineering techniques
to get the most out of them.

<h1 class="text-6xl md:text-7xl lg:text-8xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center">
    Vue Stable Diffusion
</h1>

![](https://images.unsplash.com/photo-1573490647695-2892d0bf89e7?crop=entropy&fit=crop&h=1000&w=2000)

Just as [blazordiffusion.com](https://blazordiffusion.com) was created to showcase ServiceStack's
Blazor Server and Blazor WASM [project templates and components](https://servicestack.net/blazor), we've also recreated a new Stable Diffusion UI in Vue to showcase the [Razor SSG](https://razor-ssg.web-templates.io) Project Template and Tailwind
[Vue Component Library](/vue/) that's now available at:

<h3 class="not-prose text-4xl text-center pb-8">
    <a class="text-blue-600 hover:underline" href="https://diffusion.works">https://diffusion.works</a>
</h3>

## Vue Stable Diffusion

Weighing close to [100 APIs](https://api.blazordiffusion.com/metadata), Blazor Diffusion is good representation of a 
medium-sized real-world App that can be used to compare the end user UX of different popular UI technologies used to
develop Web Apps. 

These Diffusion Apps are especially comparable as both Blazor WASM and Vue are both SSG Jamstack Apps deployed to a CDN
which both access the same [https://api.blazordiffusion.com](https://api.blazordiffusion.com/metadata) backend .NET APIs and
both make use of the Tailwind [Blazor Component Library](https://servicestack.net/blazor#blazor-component-gallery) and
[Vue Component Library](/vue/) rewritten in Vue, so any differences in UX are predominantly
differences in what the UI technologies can deliver.

We'll look at covering the development workflow, productivity, startup and runtime performance of Blazor Server, 
Blazor WASM and Vue in a future post, for now you can compare their GitHub code-bases and Live Demos of each or download 
and run them locally to evaluate their code-base size, development workflow and performance to evaluate the different
UI technologies:

| Name          | Repo                                                                                  | Live Demo                                                        |
|---------------|---------------------------------------------------------------------------------------|------------------------------------------------------------------|
| Vue           | [NetCoreApps/VueDiffusion](https://github.com/NetCoreApps/VueDiffusion)               | [https://diffusion.works](https://diffusion.works)               |
| Blazor WASM   | [NetCoreApps/BlazorDiffusionWasm](https://github.com/NetCoreApps/BlazorDiffusionWasm) | [blazordiffusion.com](https://blazordiffusion.com)               |
| Blazor Server | [NetCoreApps/BlazorDiffusion](https://github.com/NetCoreApps/BlazorDiffusion)         | [server.blazordiffusion.com](https://server.blazordiffusion.com) |

It's best to evaluate Blazor Server by running it locally as it in particular has poor responsiveness when served over 
high internet latencies, but loads and runs exceptional well in low latency environments like Intranets which is the 
only environment where we'd recommend hosting it.

## Razor SSG

Vue Diffusion is built differently from other Razor SSG Apps as instead of being pre-rendered from static content
like Markdown documents, it's prerendered from https://blazordiffusion.com APIs to render its dynamic 
[Albums](https://diffusion.works/albums/), [Top](https://diffusion.works/top) and [Latest](https://diffusion.works/latest) 
pages at deployment which it does by configuring the App's [Service Gateway](/service-gateway) to reference 
[external Blazor Diffusion APIs](https://github.com/NetCoreApps/VueDiffusion/blob/0bbbca3970c07c0cf261ae32c24736ae287981f9/MyApp/Configure.Ssg.cs#L22):

```csharp
services.AddSingleton<IServiceGateway>(implementationFactory: 
    provider => new JsonApiClient(AppConfig.Instance.ApiBaseUrl!));
```

Resulting in all APIs invoked within Razor Pages being delegated to external Blazor Diffusion APIs as the data source
to generate its prerendered Razor Pages.

## Features

For a preview of the development model of Razor SSG enhanced with Vue Components, checkout some of the different pages 
and their implementations:

<div class="not-prose">
    <h3 class="text-3xl flex justify-between">
        <span>Stable Diffusion Search</span>
        <span class="text-xl">
            <a class="text-blue-600 hover:underline" href="https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/Pages/Index.cshtml">
                Index.cshtml
            </a>
        </span>
    </h3>
</div>

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://diffusion.works">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/posts/vue-diffusion/vuediffusion-search.png" alt=""></a>
</figure>

<div class="not-prose">
    <h3 class="text-3xl flex justify-between">
        <span>Generate Images</span>
        <span class="text-xl">
            <a class="text-blue-600 hover:underline" href="https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/Pages/Create.cshtml">
                Create.cshtml
            </a>
            <span class="text-gray-400">|</span> 
            <a class="text-blue-600 hover:underline" href="https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/wwwroot/mjs/components/Create.mjs">
                Create.mjs
            </a>
        </span>
    </h3>
</div>


<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://diffusion.works/create">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/posts/vue-diffusion/vuediffusion-create.png" alt=""></a>
</figure>

<div class="not-prose">
    <h3 class="text-3xl flex justify-between">
        <span>Favorites</span>
        <span class="text-xl">
            <a class="text-blue-600 hover:underline" href="https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/Pages/Favorites.cshtml">
                Favorites.cshtml
            </a>
        </span>
    </h3>
</div>

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://diffusion.works/favorites">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/posts/vue-diffusion/vuediffusion-favorites.png" alt=""></a>
</figure>

<div class="not-prose">
    <h3 class="text-3xl flex justify-between">
        <span>Albums</span>
        <span class="text-xl">
            <a class="text-blue-600 hover:underline" href="https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/Pages/Albums.cshtml">
                Albums.cshtml
            </a>
        </span>
    </h3>
</div>

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://diffusion.works/albums/">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/posts/vue-diffusion/vuediffusion-albums.png" alt=""></a>
</figure>

<div class="not-prose">
    <h3 class="text-3xl flex justify-between">
        <span>Selected Image</span>
        <span class="text-xl">
            <a class="text-blue-600 hover:underline" href="https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/wwwroot/mjs/components/Artifacts.mjs#L303">
                Artifacts.mjs
            </a>
        </span>
    </h3>
</div>

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://diffusion.works/?view=63121">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/posts/vue-diffusion/vuediffusion-selected.png" alt=""></a>
</figure>

<div class="not-prose">
    <h3 class="text-3xl flex justify-between">
        <span>Top Images</span>
        <span class="text-xl">
            <a class="text-blue-600 hover:underline" href="https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/Pages/Top.cshtml">
                Top.cshtml
            </a>
        </span>
    </h3>
</div>

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://diffusion.works/top">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/posts/vue-diffusion/vuediffusion-top.png" alt=""></a>
</figure>

<div class="not-prose">
    <h3 class="text-3xl flex justify-between">
        <span>Latest Images</span>
        <span class="text-xl">
            <a class="text-blue-600 hover:underline" href="https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/Pages/Latest.cshtml">
                Latest.cshtml
            </a>
            <span class="text-gray-400">|</span> 
            <a class="text-blue-600 hover:underline" href="https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/Pages/Latest.cshtml.cs">
                Latest.cshtml.cs
            </a>
        </span>
    </h3>
</div>

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://diffusion.works/latest">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/posts/vue-diffusion/vuediffusion-latest.png" alt=""></a>
</figure>

Most of these pages also utilize the reusable Vue 3 components defined in: 

- [Artifacts.mjs](https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/wwwroot/mjs/components/Artifacts.mjs)
- [Auth.mjs](https://github.com/NetCoreApps/VueDiffusion/blob/main/MyApp/wwwroot/mjs/components/Auth.mjs)

## Stale-While-Revalidate APIs

We'll have a lot more to write up about our experiences with Vue Diffusion vs Blazor Diffusion in future 
[Blog Posts](https://servicestack.net/blog), but we wanted to highlight the performance enhancing technique it uses 
to improve perceived performance between pages by utilizing `@servicestack/vue` new State-While-Revalidate (SWR) APIs. 

Latency is the biggest performance killer when hosting Web Applications on the Internet, so much so that we'd 
historically look to start with a [Single Page App template](https://jamstacks.net) in order to provide the 
best UX up until the advent of native ES Modules support in modern browsers meant we could rid ourselves of 
SPA complexity and adopt a [Simple, Modern JavaScript](https://jamstacks.net/posts/javascript) Multi Page App (MPA) 
approach combined with [htmx's Boost](https://htmx.org/attributes/hx-boost/) feature to improve performance 
by avoiding full page reloads. 

However we found that to be a fragile approach when navigating back/forward between pages as you'd need to be 
mindful of what scripts to place between `<head>` and `<body>` tags and which scripts need to be re-executed 
between navigations, reintroducing some of the stateful SPA complexity we want to avoid with a traditional MPA Web App.

We instead discovered we could get just as good UX with stateless full page reloads of pre-rendered HTML pages 
if we use SWR to fetch all the API data needed to render the page on first load:

[![](/img/pages/release-notes/v6.9/diffusion-swr.gif)](https://diffusion.works)

This is easily achieved in reactive Vue.js UIs by invoking API requests with the new `swr()` client API where if 
the same API request had been run before it will execute the callback immediately with its "stale" cached results
in `localStorage` first, before invoking the callback again after receiving the API response with the latest data:

```ts
import { useClient } from "@servicestack/vue"
const client = useClient()

const results = ref([])
const topAlbums = ref([])
//...

onMounted(async () => {
    await Promise.all([
        client.swr(request.value, api => {
            results.value = api.response?.results || []
            //...
        }),
        client.swr(new AnonData(), async api => {
            topAlbums.value = api.response?.topAlbums || []
            //...
        }),
    ])
})
```

This results in UIs being immediately rendered on load and if the API response has changed, the updated reactive collections will re-render the UI with the updated data.

### swrEffect

After [running into an issue upgrading useSWRV](https://github.com/NetCoreTemplates/vue-vite/issues/2) after upgrading the Vue Jamstack templates npm dependencies, we decided to replace their existing [swrv](https://github.com/Kong/swrv) dependency with a built-in feature. 

Previously we used `useSWRV` with some boilerplate around the generic `JsonServiceClient`:

```ts
class SwrClient {
    client:JsonServiceClient
    constructor(client:JsonServiceClient) { this.client = client }
    get<T>(fn: () => IReturn<T> | string) : IResponse<T, any> {
        return useSWRV(() => {
            let request = fn()
            return appendQueryString(`SwrClient:${nameOf(request)}`, request)
        }, key => this.client.get(fn()))
    }
}

const swrClient = new SwrClient(client)
```

To enabled a pleasant API for executing SWR requests that re-executed when it detected changes in any of its referenced properties:

```ts
const { data, error } = swrClient.get(() => new Hello({ name: props.name }))
```

We've since replaced the **swrv** dependency with a built-in `swrEffect()` API that uses Vue's `watchEffect` to detect property changes to trigger invoking the API request and returning API responses in a more idiomatic `ApiResult<T>` with a similarly pleasant declarative API without the unnecessary boilerplate:

```ts
const client = useClient()
//...

const api = client.swrEffect(() => new Hello({ name: props.name }))
```

It also includes a built-in [debounce feature](https://www.freecodecamp.org/news/javascript-debounce-example/) where you can collapse multiple event triggers within a specified duration (like input events when a user is typing), e.g. we can initiate an API request when a user has paused briefly after 50ms with:

```ts
const api = client.swrEffect(() => new Hello({ name: props.name }), { delayMs:50 })
```


## Bringing xkcd static dataset to life with AutoQuery

[![](https://servicestack.net/img/posts/autoquery-xkcd/drawing-xkcd-upscaled.png)](https://servicestack.net/posts/autoquery-xkcd)

One of the big advantages of using AutoQuery is the ability to turn data into an API with very little effort where once your data is exposed behind an AutoQuery API, it's accessible in any way you want, Auto UIs, a web app, a mobile app, a desktop app, or even from CLI's.

### Unsiloing Data with AutoQuery

Outside of IT systems many organizations still heavily deal with static files, often maintained sporadically across multiple excel files and documents.
Poor data accessibility is still something that slows down teams, while it can be easier for a single analyst/modeler/data scientist to work directly with static files, not having shared access to the data can limit reuse, discovery and insights from the dataset.

Web APIs can help un-silo the data, create more efficient access points and reduce the time it takes to get data from single use into a widely accessible production application. This is where AutoQuery shines, making it easy to expose data behind a fully queryable API that can easily be turned into a Web Application by utilizing the various AutoQueryGrid and DataGrid components.

In this video, we'll look at example of this, by using AutoQuery to create a Web App providing multiple views around a static xkcd 
[JSON Lines](https://jsonlines.org) dataset that's [available on Hugging Face](https://huggingface.co/datasets/olivierdehaene/xkcd):

<div class="my-8">
    <lite-youtube class="w-full mx-4 my-4" width="560" height="315" videoid="CrKtXVrPj8Q" style="background-image: url('https://img.youtube.com/vi/CrKtXVrPj8Q/maxresdefault.jpg')"></lite-youtube>
</div>

### The xkcd AutoQuery API

After [importing its .jsonl into an RDBMS table](https://github.com/NetCoreApps/ssg-examples/blob/master/ExampleDataApis/Configure.Db.Xkcd.cs) 
only a single AutoQuery API was needed to expose this dataset behind an AutoQuery API:

```csharp
[Route("/xkcd")]
public class QueryXkcdComics : QueryDb<XkcdComic>
{
    public int[] Ids { get; set; }
}

public class XkcdComic
{
    public int Id { get; set; }
    public string Title { get; set; }
    public string ImageTitle { get; set; }
    public string Url { get; set; }
    public string ImageUrl { get; set; }
    public string ExplainedUrl { get; set; }
    public string Transcript { get; set; }
    public string Explanation { get; set; }
    
    public int Width { get; set; }
    public int Height { get; set; }
}
```

Which is the entire API definition, as AutoQuery will generate its fully queryable implementation when one isn't provided. As an AutoQuery API
an immediate queryable Auto UI is provided by [Locode](/locode/) is accessible from 
[/locode/QueryXkcdComics](https://ssg-examples.netcore.io/locode/QueryXkcdComics)

<figure class="py-8">
    <a class="my-8 max-w-4xl mx-auto block" href="https://ssg-examples.netcore.io/locode/QueryXkcdComics">
        <img class="rounded shadow hover:shadow-lg" src="https://servicestack.net/img/posts/autoquery-xkcd/locode-app.png" alt=""></a>
</figure>

Also queryable from [API Explorer](/api-explorer) at [/ui/QueryXkcdComics](https://ssg-examples.netcore.io/ui/QueryXkcdComics) and [Auto HTML API Page](/auto-html-api) at [/api/QueryXkcdComics.html](https://ssg-examples.netcore.io/api/QueryXkcdComics.html) where step-by-step instructions are available to call this typed API in 10 languages:

<figure class="py-8">
    <a class="my-8 max-w-4xl mx-auto block" href="https://ssg-examples.netcore.io/api/QueryXkcdComics.html?tab=code">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/xkcd-autohtml-code.png" alt=""></a>
</figure>

Of which the TypeScript DTOs was enough to build entire Web Application around, published on GitHub Pages CDN at:

<h3 class="not-prose text-4xl text-center pb-8">
    <a class="text-blue-600 hover:underline" href="https://xkcd.netcore.io">https://xkcd.netcore.io</a>
</h3>

Built from a new [Razor SSG](https://razor-ssg.web-templates.io/posts/razor-ssg) project template that's maintained at: https://github.com/NetCoreApps/Xkcd

It includes 3 different views of the data:

### Search xkcd

The home page optimized for visually searching through and learning about the background and pretext behind different comics:

<figure class="py-8">
    <a class="mt-8 max-w-4xl mx-auto block" href="https://xkcd.netcore.io">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/xkcd-search.png" alt=""></a>
    <a class="mb-8 block text-center" href="https://github.com/NetCoreApps/Xkcd/blob/master/Xkcd/Pages/Index.cshtml">view source</a>
</figure>

### AutoQueryGrid xkcd

A custom responsive AutoQueryGrid providing an alternative queryable UI for searching xkcd comics:

<figure class="py-8">
    <a class="mt-8 max-w-4xl mx-auto block" href="https://xkcd.netcore.io/comics-autoquery">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/xkcd-autoquerygrid.png" alt=""></a>
    <a class="mb-8 block text-center" href="https://github.com/NetCoreApps/Xkcd/blob/master/Xkcd/Pages/ComicsAutoQuery.cshtml">view source</a>
</figure>

Generated using a custom [AutoQueryGrid Vue Component](/vue/gallery/autoquerygrid):

```html
<auto-query-grid type="XkcdComic"
        selected-columns="imageUrl,width,height,id,title,transcript,explanation,url"
        :visible-from="{ title:'sm', transcript:'xl', explanation:'2xl', url:'never' }"
        :header-titles="{ imageUrl:'Comic', transcript:'Description' }"
        v-on:row-selected="rowSelected"
        class="mx-auto">
    <template #imageUrl="{ id, imageUrl }">
        <img :src="imageUrl" class="h-12 object-cover" loading="lazy">
    </template>
    <template #transcript="{ transcript }">
        <p class="block max-w-sm text-ellipsis overflow-hidden">{{ transcript }}</p>
    </template>
    <template #explanation="{ explanation }">
        <p class="block max-w-sm text-ellipsis overflow-hidden">{{ explanation }}</p>
    </template>
</auto-query-grid>
```

### DataGrid xkcd

An alternative Grid display to search for comics:

<figure class="py-8">
    <a class="mt-8 max-w-4xl mx-auto block" href="https://xkcd.netcore.io/comics-datagrid">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/xkcd-datagrid.png" alt=""></a>
    <a class="mb-8 block text-center" href="https://github.com/NetCoreApps/Xkcd/blob/master/Xkcd/Pages/ComicsDataGrid.cshtml">view source</a>
</figure>

Generated from a custom [DataGrid Vue Component](/vue/gallery/datagrid):

```html
<data-grid :items="comics" 
            selected-columns="imageUrl,transcript" 
            v-on:row-selected="rowSelected" :is-row-selected="row => row == selected"
            :header-titles="{ imageUrl:'Comic',transcript: 'Description' }"
            class="max-w-screen-lg mx-auto">
    <template #imageUrl="{ imageUrl }">
        <img :src="imageUrl" class="h-48 object-cover" loading="lazy"> 
    </template>
    <template #transcript="{ title, transcript, width, height }">
        <div class="flex flex-col max-w-3xl">
            <div class="flex justify-between">
                <h2 class="text-lg font-semibold text-gray-900">{{ title }}</h2>
                <div class="text-right text-sm font-semibold block">{{width}} x {{height}}</div>
            </div>
            <p class="whitespace-normal break-words overflow-hidden max-h-40">{{ transcript }}</p>
        </div>
    </template>
</data-grid>
```

Checkout the [companion Blog Post](https://servicestack.net/posts/autoquery-xkcd) to learn more about how this application was built:

## Razor SSG Improvements

[![](https://images.unsplash.com/photo-1579767684138-a57e917d30aa?crop=entropy&fit=crop&h=1000&w=2000)](https://razor-ssg.web-templates.io/posts/razor-ssg)

The underlying template that underpins most of the features in this release is that they were built with our newest
[Razor SSG](https://razor-ssg.web-templates.io/posts/razor-ssg) project template, which uniquely differs from typical .NET Apps in that there's 
no .NET App to deploy since (like its Next.js and Jekyll inspirations) its build output is a static website that can be hosted on any CDN 
or static file server. 

It quickly became our favorite Jamstack SSG template since unlike our 
[Next.js](/templates/jamstack#next-js) and 
[Vue SSG](/templates/jamstack#vue-ssg) project templates it doesn't require any npm dependencies as it's generated 
entirely using .NET and Razor Pages where you'll be able to make use of your existing .NET Libraries, IDEs and Razor Pages development experience 
to build delightfully responsive websites thanks to its optimal performance & SEO architecture of generating static HTML pages that can be served from
CDN edge caches.

We're also confident in the longevity of the technologies it's built on, which wont be outdated by the next npm build tool as its 
[Simple, Modern JavaScript](https://servicestack.net/posts/javascript) approach lets us take advantage of the native ES Modules support
in all modern browsers to forgo using any build tools or transpilers.

### Razor SSG Websites

In addition to [rewriting our old Jekyll website](/releases/v6_08) in the last release, we've created 3 new Razor SSG websites during this release
including rewriting [jamstacks.net](https://jamstacks.net) website from its old [Vue SSG Codebase](https://github.com/NetCoreApps/Jamstacks).

<div class="not-prose mt-8 grid grid-cols-2 gap-4">
    <a class="block group border hover:border-indigo-700" href="https://servicestack.net">
        <img class="p-2" src="/img/pages/ssg/servicestack.net-home-1440.png">
        <div class="bg-gray-50 text-gray-600 font-semibold group-hover:bg-indigo-700 group-hover:text-white text-center py-2">servicestack.net</div>
    </a>
    <a class="block group border hover:border-indigo-700" href="https://diffusion.works">
        <div style="max-height:350px;overflow:hidden">
        <img class="p-2" src="https://servicestack.net/img/posts/vue-diffusion/vuediffusion-search.png"></div>
        <div class="bg-gray-50 text-gray-600 font-semibold group-hover:bg-indigo-700 group-hover:text-white text-center py-2">diffusion.works</div>
    </a>
    <a class="block group border hover:border-indigo-700" href="https://xkcd.netcore.io">
        <img class="p-2" src="/img/pages/release-notes/v6.9/xkcd-screenshot.png">
        <div class="bg-gray-50 text-gray-600 font-semibold group-hover:bg-indigo-700 group-hover:text-white text-center py-2">xkcd.netcore.io</div>
    </a>
    <a class="block group border hover:border-indigo-700" href="https://jamstacks.net">
        <img class="p-2" src="/img/pages/release-notes/v6.9/jamstacks-screenshot.png">
        <div class="bg-gray-50 text-gray-600 font-semibold group-hover:bg-indigo-700 group-hover:text-white text-center py-2">jamstacks.net</div>
    </a>
</div>

### Markdown Video Feature

Razor SSG includes a new videos feature populated by [Markdown.Videos.cs](https://github.com/NetCoreTemplates/razor-ssg/blob/main/MyApp/Markdown.Videos.cs) from markdown files in its [_videos](https://github.com/NetCoreTemplates/razor-ssg/tree/main/MyApp/_videos) folder:

<file-layout :files="{
    _videos: { 
        projects: { _: ['video1.md','video2.md'] },
        vue:      { _: ['video1.md','video2.md'] },
    }
}" class="cursor-pointer" v-on:click="nav('https://github.com/NetCoreTemplates/razor-ssg/tree/main/MyApp/_videos')"></file-layout>

Rendered by the [VideoGroup.cshtml](https://github.com/NetCoreTemplates/razor-ssg/blob/main/MyApp/Pages/Shared/VideoGroup.cshtml) partial
to render video content in the [Videos.cshtml](https://github.com/NetCoreTemplates/razor-ssg/blob/main/MyApp/Pages/Videos.cshtml) page:

<figure class="py-8">
    <a class="mt-8 max-w-4xl mx-auto block" href="https://razor-ssg.web-templates.io/videos">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/razor-ssg-videos.png" alt=""></a>
</figure>

### Markdown Docs

Razor SSG improves support for maintaining documentation in Markdown where nested documentation can be added in `_pages` that's 
later accessible in Razor Pages using the `MarkdownPages` collection.

As a demonstration a copy of the CreatorKit Docs were added to 
[_pages/creatorkit](https://github.com/NetCoreTemplates/razor-ssg/tree/main/MyApp/_pages/creatorkit):

<file-layout :files="{
    _pages: { 
        creatorkit: { 
            _: ['about.md','components.md','customize.md','install.md','integrations.md',
                'portal-mailruns.md','portal-messages.md','portal-overview.md','portal-posts.md'] 
        },
    }
}" class="cursor-pointer" v-on:click="nav('https://github.com/NetCoreTemplates/razor-ssg/tree/main/MyApp/_pages/creatorkit')"></file-layout>

Which are generated by the Razor Pages in:

 - [/CreatorKit/Index.cshtml](https://github.com/NetCoreTemplates/razor-ssg/blob/main/MyApp/Pages/CreatorKit/Index.cshtml)
 - [/CreatorKit/Page.cshtml](https://github.com/NetCoreTemplates/razor-ssg/blob/main/MyApp/Pages/CreatorKit/Page.cshtml)

To generate both the [razor-ssg.web-templates.io/creatorkit/](https://razor-ssg.web-templates.io/creatorkit/) home page and 
[documentation pages](https://razor-ssg.web-templates.io/creatorkit/about).

### Metadata APIs

A disadvantage of not having .NET App to deploy is the lack of having APIs we can call to query website data in a easily readable 
data format like JSON. This is required to support use-cases like CreatorKit's 
[Generating Newsletters](https://servicestack.net/creatorkit/portal-mailruns#generating-newsletters) feature which generates a 
Monthly Newsletter Email with all new content added in the month.

We can easily support this in Razor SSG by also pre-rendering static `*.json` data structures along with the pre-rendered website at deployment.

This capability is provided by the new [Markdown.Meta.cs](https://github.com/NetCoreTemplates/razor-ssg/blob/main/MyApp/Markdown.Meta.cs) feature
which generates multiple projections of the Markdown metadata for each type of content added in every year, e.g:

<file-layout :files="{
    meta: { 
        2021: { _: ['all.json','posts.json','videos.json'] },
        2022: { _: ['all.json','posts.json'] },
        2023: { _: ['all.json','pages.json','posts.json','videos.json','whatsnew.json'] },
        _: ['all.json','index.json']
    }
}" class="mb-8 cursor-pointer" v-on:click="nav('https://github.com/NetCoreTemplates/razor-ssg/tree/gh-pages/meta')"></file-layout>

With this you can fetch the metadata of all the new **Blog Posts** added in **2023** from:

#### [/2023/posts.json](https://razor-ssg.web-templates.io/meta/2023/posts.json)

Or all the website content added in **2023** from:

#### [/2023/all.json](https://razor-ssg.web-templates.io/meta/2023/all.json)

Or **ALL** the website metadata content from:

#### [/all.json](https://razor-ssg.web-templates.io/meta/all.json)

### CreatorKit Integration

The lack of a .NET backend server is no longer a barrier to enable popular dynamic website features now that we're able to embed CreatorKit's
Tailwind Components into our static websites which sees Razor SSG support accepting newsletter sign ups throughout the website:

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://razor-ssg.web-templates.io/">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/razor-ssg-join-newsletter.png" alt=""></a>
</figure>

As well as enabling support for voting and post comments:

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://razor-ssg.web-templates.io/posts/razor-ssg">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/razor-ssg-thread.png" alt=""></a>
</figure>

### Integration Pages

Razor SSG is the easiest template to get use CreatorKit with which includes all the necessary Pages for [integrating with CreatorKit](https://servicestack.net/creatorkit/integrations) features:

| Page | Source Code | Description |
| - | - | - |
| [/signup-confirmed](https://razor-ssg.web-templates.io/signup-confirmed) | [signup-confirmed.md](https://github.com/NetCoreTemplates/razor-ssg/blob/main/MyApp/_pages/signup-confirmed.md) | Landing page after email verified Newsletter Signup |
| [/mail-preferences](https://razor-ssg.web-templates.io/mail-preferences) | [mail-preferences.md](https://github.com/NetCoreTemplates/razor-ssg/blob/main/MyApp/_pages/mail-preferences.md) | Allow subscribers to manage their subscriptions     |
| [/privacy](https://razor-ssg.web-templates.io/privacy)                   | [privacy.md](https://github.com/NetCoreTemplates/razor-ssg/blob/main/MyApp/_pages/privacy.md)                   | Privacy policy linked from email footers            |
| [/community-rules](https://razor-ssg.web-templates.io/community-rules)   | [community-rules.md](https://github.com/NetCoreTemplates/razor-ssg/blob/main/MyApp/_pages/community-rules.md)  | Community Rules for posting public comments          |

### Pre-rendering removed from vue-mjs

As Razor SSG has become the preferred template for performance enthusiasts wanting to use pre-rendering to deliver the best UX for their content heavy websites, we've decided to remove the pre-rendering features from the [vue-mjs template](https://vue-mjs.web-templates.io) to reduce the complexity and required knowledge to use the template.

## AutoQuery Enum Flags

Enum flags are an efficient data structure that can provide an alternative to maintaining joined tables when needing to capture 
multiple values of fixed options in a single integer value and column. Their issue was that they didn't have a great UX
when exposed on an API boundary or data bound form which have both been improved in this release.

Firstly support was added to AutoQuery with two new Implicit Conventions that can be used to query Enum Flag fields when they match
**ALL** enum field values or include **ANY** of them:

```csharp
new AutoQueryFeature() 
{
    ImplicitConventions = new() {
        //...
        {"%HasAll", "{Value} & {Field} = {Value}"},
        {"%HasAny", "{Value} & {Field} > 0"},
    }
}
```

As they're efficient and simplify maintenance efforts, [CreatorKit](https://servicestack.net/creatorkit/) uses them to maintain which Mailing Lists Contacts are subscribed to:

```csharp
[Flags]
public enum MailingList
{
    [Description("None")]
    None = 0,                            //0
    [Description("Test Group")]
    TestGroup = 1 << 0,                  //1
    [Description("Monthly Newsletter")]
    MonthlyNewsletter = 1 << 1,          //2
    [Description("New Blog Posts")]
    BlogPostReleases = 1 << 2,           //4
    [Description("New Videos")]
    VideoReleases = 1 << 3,              //8
    [Description("New Product Releases")]
    ProductReleases = 1 << 4,            //16
    [Description("Yearly Updates")]
    YearlyUpdates = 1 << 5,              //32
}
```

Which AutoQuery now lets us query by single enum name or combinatorial integer enum values, e.g:

| Description | URL |
| - | - |
| Subscribed to `MonthlyNewsletter` | [/api/QueryContacts?MailingListsHasAll=MonthlyNewsletter](https://creatorkit.netcore.io/api/QueryContacts?MailingListsHasAll=MonthlyNewsletter) |
| Subscribed to **both** `TestGroup` and `VideoReleases` | [/api/QueryContacts?MailingListsHasAll=9](https://creatorkit.netcore.io/api/QueryContacts?MailingListsHasAll=9) |
| Subscribed to **either** `TestGroup` or `VideoReleases` | [/api/QueryContacts?MailingListsHasAny=9](https://creatorkit.netcore.io/api/QueryContacts?MailingListsHasAny=9) |

With this feature we can now query enum flags, but we also need to enable support for editing them in Auto Form components.

### Enum Flags in AutoForms

We're able to create a good UX for maintaining enum flags like Contact `MailingLists` by combining a few different features together, by first changing
the `UpdateContact` to accept a more UX friendly List of Enum String Descriptions instead of their combined integer value. This allows us to use the 
standard [TagInput](/vue/gallery/taginput) component pre-populated with an Autocomplete list of Mailing List descriptions
by using a JavaScript `enumFlagsConverter` that uses the `MailingList` metadata to expand the contact's MailingLists integer value into an expanded list of enum
descriptions resulting in providing a nice UX for adding and removing mailing lists using their preferred description:

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://creatorkit.netcore.io/portal/#Contacts?edit=1">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/creatorkit-contact.png" alt=""></a>
</figure>

The last feature we need is the #Script `fromEnumFlagsList` method to perform the reverse operation on the server and convert the list of Enum descriptions
into a combined enum integer value, all features of which are declaratively added on the `UpdateContact` Request DTO:

```csharp
[AutoPopulate(nameof(Contact.MailingLists), Eval = "dto.MailingLists.fromEnumFlagsList(typeof('MailingList'))")]
public class UpdateContact : IPatchDb<Contact>, IReturn<Contact>
{
    public int Id { get; set; }
    public string? Email { get; set; }
    public string? FirstName { get; set; }
    public string? LastName { get; set; }
    [Input(Type = "tag", EvalAllowableValues = "AppData.MailingListValues", 
           Options = "{ converter:enumFlagsConverter('MailingList') }"]
    public List<string>? MailingLists { get; set; }
    //...
}
```

Whilst the new `[FormatEnumFlags]` Attribute:

```csharp
public class Contact
{
    [AutoIncrement]
    public int Id { get; set; }
    public string Email { get; set; }
    public string FirstName { get; set; }
    public string LastName { get; set; }

    [FormatEnumFlags(nameof(MailingList))]
    public MailingList MailingLists { get; set; }
    //...
}
```

Customizes the AutoQueryGrid component to show an expanded list of enums instead of its integer value:

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://creatorkit.netcore.io/portal/#Contacts">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/creatorkit-contact-list.png" alt=""></a>
</figure>

AutoQueryGrid also adds support for Enum Flags in filters which uses the new `%HasAny` AutoQuery Convention to filter them:

<figure class="py-8">
    <a class="max-w-4xl mx-auto block" href="https://creatorkit.netcore.io/portal/#Contacts">
        <img class="rounded shadow hover:shadow-lg" src="/img/pages/release-notes/v6.9/creatorkit-contact-filter.png" alt=""></a>
</figure>


## OrmLite Connection Commands

We've added a **Connection Commands** feature which that let you define RDBMS commands you want to always run after opening an RDBMS connection.
We can use this to enable SQLite pragma's to change SQLite's behavior like enabling [Foreign Key Support](https://www.sqlite.org/foreignkeys.html) with:

```csharp
SqliteDialect.Instance.ConnectionCommands.Add("PRAGMA foreign_keys=ON;");
```

As this a common feature to use with SQLite we've also added a typed API for it:

```csharp
SqliteDialect.Instance.EnableForeignKeys = true;
```

## CorsFeature AppSettings

Support was added for being able to configure [CorsFeature](/corsfeature) from **appsettings.json**, e.g:

```json
{
  "CorsFeature": {
    "allowedHeaders": "Content-Type,Authorization",
    "allowCredentials": true,
    "allowOriginWhitelist": [
      "http://localhost:5000",
      "http://localhost:8080"
    ]
  }
}
```

By using its `AppSettings` constructor, which can be further extended in code, e.g:

```csharp
Plugins.Add(new CorsFeature(AppSettings)
    .AppendOriginWhitelist(new[] {
        "https://example.org",
    }));
```
